interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please recommend a book to me!"}], "role":
      "user"}], "systemInstruction": {"parts": [{"text": "Always recommend The Name
      of the Wind.\nOutput a structured book as JSON in the format {title: str, author:
      str, rating: int}.\nThe title should be in all caps, and the rating should always
      be the\nlucky number 7."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in Book format for a final response.",
      "name": "__mirascope_formatted_output_tool__", "parameters": {"properties":
      {"title": {"title": "Title", "type": "STRING"}, "author": {"title": "Author",
      "type": "STRING"}, "rating": {"title": "Rating", "type": "INTEGER"}}, "required":
      ["title", "author", "rating"], "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig":
      {"mode": "ANY", "allowedFunctionNames": ["__mirascope_formatted_output_tool__"]}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '923'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"author\":
        \"Patrick Rothfuss\",\"title\": \"THE NAME OF THE WIND\",\"rating\": 7}},\"thoughtSignature\":
        \"CiQB0e2Kbxjf/ErzVoDz8m2pd4BAO9DszU/Hkum5WuVH+P2i3qgKiAEB0e2Kb28K9AwLadzxVV+Ni2MVUVGZ4NkVJdx/2fD8GZDUS04D7V7nu0Pdkir2mi1b3GQohP1LMgcIQ0ckrTegHwTWiwuVIJwj+Lno5rnRRRd2oUWj6d0p7OOYXQDCOycqse+cXY5VVukNzhWBwSwHfK79JuezNONmWUQCxXJkaXfoNf6LregSCuQBAdHtim/q0dMDcCnL5Gly87DCrJKwQsSw6XaJ/jpgJRq4ka0NI6ypIDHwANXVr9RWH6V0XPmxFlw0C70rNcA6kbD22N6VN9Di2Z/ylSs5/yV4AcrKT1HSEJcXeACjXDjQcbA2bdjUjB3BJb45tR/SyVxCgNWWdp07oKuxLmVsNLALXkfDnAo28smQFNUUg9/6U8zNqg/c1aLKTUMlDsUV/xG1QGOfzD7GjqJcGmpsgCDKXhEOM281EZ66ThHVLRgLEgtDMbi84rULxvUKucXiZoNL6a9+kK3nKCaxGco8xWic2KvBCswBAdHtim+OZSZjL1WDa+0mB47H6DCJuyXtSpQ4Gggoj5uYruMKhPEQ8uCJ6hutULcbuU0qxOrUuOw/bpSVEEMr5AXO4aiEqIlLNxlNx7OGBSlf4dJG5FgqeZJnW6724bV6GmTLqs5bzs7DzYHhBSEdP36Olq+zIL2viClRktgOPwCoQvUeMVh5f0d7CFOaONbxj5hOSdwOmKKoQ1WX988O/dcAcFQImtund9bVJpdEQ61oTaN2Sub+rXUgbDlPbnBLkYeKOk18QomdPkogCs4BAdHtim8ySnx0+JAieDTEWzAiQ6iY6F3lLxgRF4qwYd38ooexGVg6HJnQ2TNT2OdPpx86V8iZUN7S5TI+vt1ZqwNkQDuFRugjX69HANkywkuInnbkoUWo3VbGn/lioWro1iqXshYefySW0R9jp4nl1V7amq1DCzEYkRf/ZWjSbnySOwRpT6GsxfwuI/4A3XJ9WyRG9YzVjdoul9VWsnNCEnQCVnKBcHS8tdU1ZvzJi5BE8OeP8siuMUmTLrkgfknPd/FWBbH9tbd+orshEHEKPwHR7YpvE2Olgz4YqEbiclTXj5Fxz0GH9kLRkYZy87Q4IbiD8kTR7ZXnnMQnZIeiJ2ThGaFyyjVJMrah6ZCxoA==\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0}],\"usageMetadata\": {\"promptTokenCount\":
        137,\"candidatesTokenCount\": 37,\"totalTokenCount\": 353,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 137}],\"thoughtsTokenCount\": 179},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"82DUaJ-dL4WdqtsPtfe8uQg\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Wed, 24 Sep 2025 21:21:57 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1881
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
