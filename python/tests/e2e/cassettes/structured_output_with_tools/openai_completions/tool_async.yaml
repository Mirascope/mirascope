interactions:
- request:
    body: '{"messages":[{"role":"system","content":"Always respond to the user''s
      query using the __mirascope_formatted_output_tool__ tool for structured output."},{"role":"user","content":"Please
      look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation
      score"}],"model":"gpt-4o","tool_choice":"required","tools":[{"type":"function","function":{"name":"get_book_info","description":"Look
      up book information by ISBN.","parameters":{"properties":{"isbn":{"title":"Isbn","type":"string"}},"required":["isbn"],"additionalProperties":false,"type":"object"},"strict":false}},{"type":"function","function":{"name":"__mirascope_formatted_output_tool__","description":"Use
      this tool to extract data in BookSummary format for a final response.","parameters":{"properties":{"title":{"title":"Title","type":"string"},"author":{"title":"Author","type":"string"},"pages":{"title":"Pages","type":"integer"},"publication_year":{"title":"Publication
      Year","type":"integer"}},"required":["title","author","pages","publication_year"],"additionalProperties":false,"type":"object"},"strict":true}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1098'
      content-type:
      - application/json
      cookie:
      - __cf_bm=6QrUVu5hC4BKCSD.bRqGIVJehCOhC9OpYj8rhI960pU-1760722232-1.0.1.1-d4RkYyYalwA9sSQt5SkgZ9YU7VhFY4MXOxwGs.yjg3EA8hOfFMeRDZSsPuQQAvFeJh876isHe41chsaa6FFrVhNVuLj9r9egayTW.qMEx4c;
        _cfuvid=RmJkGYZZiZw1g23CNDVxUfWSzEsmmhXUo.ychpXskDg-1760722232276-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.100.2
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.100.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '1'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.16
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFPBjpswFLzzFdY7hwpICBG3ZrWVqj1s1SrSqs0KOeYBzhrbsk21aZR/
        r4AESDaVygFZHs+8efPso0cI8BxSAqyijtVa+A/f+c/q6Xnz9CNem83DlzheCCsivdlX6wRmLUPt
        9sjchfWJqVoLdFzJHmYGqcNWNUyWQRJF0TzpgFrlKFpaqZ2/UH4URAs/WPnB8kysFGdoISW/PEII
        OXb/1qLM8R1SEswuOzVaS0uEdDhECBgl2h2g1nLrqHQwG0GmpEPZupaNEBPAKSUyRoUYC/ffcbIe
        c6JCZPh1vX9f/5EcD/PH1aN9pvTl8zfaTOr10gfdGSoayYZ8Jviwn94UIwQkrTtuiS7bKfWWcVmo
        GwFCgJqyqVG61jwct8DtTm4h3ULgJ8t47odhsvJftnCCK+bJu7d+ncRisGgsFR/zolIqR1vbXWCv
        Z+Q0zEaoUhu1szdUKLjktsoMUtu1PE3euxjpLEBzNVzQRtXaZU69YVc0jBe9Kox3b0Sj6Aw65aiY
        sJLl7I5elqOjvJv+cOEYZRXmI3W8eLTJuZoA3qT3j27uaff9c1n+j/wIMIbaYZ5pgzln1x2Pxwy2
        T/Nfx4aUO8Ng0fzmDDPH0bTzyLGgjehfDdiDdVhnBZclGm1493Sg0BnbFWGyiuNlAt7J+wsAAP//
        AwB9yMdSQwQAAA==
    headers:
      CF-RAY:
      - 9901865f2a043083-SEA
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 17 Oct 2025 17:30:37 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - sotai-i3ryiz
      openai-processing-ms:
      - '433'
      openai-project:
      - proj_2kPLXdwNOjkHt3ifb0aZ4FwU
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '458'
      x-openai-proxy-wasm:
      - v0.1
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '800000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '799945'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 4ms
      x-request-id:
      - req_162832a7e00043ecb23584c77ca3c9cd
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"Always respond to the user''s
      query using the __mirascope_formatted_output_tool__ tool for structured output."},{"role":"user","content":"Please
      look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation
      score"},{"role":"assistant","annotations":[],"tool_calls":[{"id":"call_eIBjxBzniey3E8EsOaaXAPau","function":{"arguments":"{\"isbn\":\"0-7653-1178-X\"}","name":"get_book_info"},"type":"function"}]},{"role":"tool","content":"Title:
      Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published:
      2006-07-25","tool_call_id":"call_eIBjxBzniey3E8EsOaaXAPau"}],"model":"gpt-4o","tool_choice":"required","tools":[{"type":"function","function":{"name":"get_book_info","description":"Look
      up book information by ISBN.","parameters":{"properties":{"isbn":{"title":"Isbn","type":"string"}},"required":["isbn"],"additionalProperties":false,"type":"object"},"strict":false}},{"type":"function","function":{"name":"__mirascope_formatted_output_tool__","description":"Use
      this tool to extract data in BookSummary format for a final response.","parameters":{"properties":{"title":{"title":"Title","type":"string"},"author":{"title":"Author","type":"string"},"pages":{"title":"Pages","type":"integer"},"publication_year":{"title":"Publication
      Year","type":"integer"}},"required":["title","author","pages","publication_year"],"additionalProperties":false,"type":"object"},"strict":true}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1458'
      content-type:
      - application/json
      cookie:
      - __cf_bm=6QrUVu5hC4BKCSD.bRqGIVJehCOhC9OpYj8rhI960pU-1760722232-1.0.1.1-d4RkYyYalwA9sSQt5SkgZ9YU7VhFY4MXOxwGs.yjg3EA8hOfFMeRDZSsPuQQAvFeJh876isHe41chsaa6FFrVhNVuLj9r9egayTW.qMEx4c;
        _cfuvid=RmJkGYZZiZw1g23CNDVxUfWSzEsmmhXUo.ychpXskDg-1760722232276-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.100.2
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.100.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.16
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFRdT9swFH3Pr7DuczuFkLYoj8BgIE2aYEMaK4punZvEq2N7tjPRVf3v
        k11owsek5SFyfO45PvfD2SaMgaigYMBb9Lwzcnp2I+7Fn8u7b0rLq5vrT5s1XT/+Wn25vzm7amAS
        GHr1k7h/Zn3gujOSvNBqD3NL6CmoHi3m6SLLsuOTCHS6IhlojfHTXE+zNMun6ck0nT8RWy04OSjY
        j4QxxrbxHSyqih6hYOnkeacj57AhKA5BjIHVMuwAOiecR+VhMoBcK08quFa9lCPAay1LjlIOB++f
        7Wg91AmlLL+v87a9PL9YP87Ob48vpUJ/Kr/eidF5e+mNiYbqXvFDfUb4Yb94dRhjoLCL3LLshEXH
        taGy1rZD76kqde9N78vovXwlyxigbfqOlA8pwXYJXnhJSyiW8Fk4v9JWFexrS+xCKJTsY2eEpSVM
        loC9b7WNkacWVaUVu0VVkXVaxQCDDbklFLM8D1/9SgqOIYdyQxiIWZrOd/DC0C55b/0w6oGlunco
        3zYHldI+6sfuPDwhu8MgSN0Yq1fuFRVqoYRrS0voYn3HbU6ejUQL0L+YJDBWdyaUdk3x0Owo36vC
        MOgDmh8/gV57lCPWbDF5R6+syKOIo3aYbo68pWqgDlOOfSX0CEhGub918572Pn+hmv+RHwDOyYQx
        M5YqwV9mPIRZCv+Bf4UdqhwNgyP7W3AqvSAb+lFRjb3cX1FwG+epK2uhGrLGinhPoTYlX9VHi5PZ
        bL6AZJf8BQAA//8DAOMa2KGwBAAA
    headers:
      CF-RAY:
      - 99018662dcc53083-SEA
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Fri, 17 Oct 2025 17:30:39 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - sotai-i3ryiz
      openai-processing-ms:
      - '1084'
      openai-project:
      - proj_2kPLXdwNOjkHt3ifb0aZ4FwU
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '1105'
      x-openai-proxy-wasm:
      - v0.1
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '800000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '799919'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 6ms
      x-request-id:
      - req_2048bc182f2b4c7eb0642b2e7a14cac8
    status:
      code: 200
      message: OK
version: 1
