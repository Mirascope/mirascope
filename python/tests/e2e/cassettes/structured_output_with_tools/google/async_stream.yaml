interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1113'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"get_book_info\",\"args\": {\"isbn\": \"0-7653-1178-X\"}},\"thoughtSignature\":
        \"CiQB0e2Kb8cXROJ/JSp7eHU4VRAX+kNYA44AsdDQ4OVZ5M+cBLsKWQHR7YpvevOiz6NB0giTEdMp0ReBqfxveTYErVYmGJtHHQg7TrebG3dHOqxySsd5wBHJx8s5pvLu07n6H2wjQiVxq5yDPV0hS3k5PNgqRW9Ny+wEyXiBPKNXCu8BAdHtim8GOq423x/OAUc1qGl3QBswiWTSn9wwdBnK5qbvTpCIdLVVkOqi0fPB847fxoWxn5dQK/wc3WYnHw2UeAzvZrpZukZEFJk3VPnAqox1jC6/dY4ppewdSMfe6mBT0hqsp6xVizxIkVv3I9fOuiMrZRxleNyZlX7WLUo+dvccEktpyGoBr4I3X1gK4mTfLyvPWroaZEsf9sbkVVsj2N45CHRIJrBVOMqKAjZXcxXBBbIZtbCmJZ+z1YUYLxL6aWO+AqxuStGZ68Ox6NcWKtzXcqMgwxDPsJ16eWB/PTJ2HmK+vNOyJ2XM1phxm0AKhwIB0e2Kb+oyfZLfRN/64CsVI7KXc65cUWgcZ36+jVi3MzDDufc4B69MCj4k4z3PtCU7PMRwPgxz8CjmVV7x0czJrhw9x6Y+1fNlfMV9KnJL+biQpKDv+3f5N0CC1TggVgj3a2wEYgkilhq/YZOe0/oBb8C2LSK5LiWhsD1ZxagpabBuy0QsA4Yxm3M0kVei/RVNE6qPoBBQOI3Af12qaVk8zF5Yw0LzeMavRDYcLTzXiTh4/z7hGB17n7+Wcck1Ttl2qwO9FZUGXAwruzsLGKLzj+Dda8CvxUfZqjcf+gemnJR4zOWgb25q41kCIdP2INB4G/PCD7MuNF8bHFVzCVhWdKNTXpKa+wrMAQHR7Ypv48ZWUXCS0B+TgXo+xNaXznfa14tUDCaQPWRNSSvm+32f2ksHQNu/TYNWsChfUtXAb36zZToa9wtRi67JpqMIj0R1ReFgx+uNOZqykc28VVMATG9uXp6E1Zd2RXcYKD4vtsot1E63/t8nVQC7FhXcqMvJKuoyo/m2FeHb0Qz8sQk/P9ZqRzISkDlFKChTsaz+ObC8lK7glWwUhlDfO1fQCCSLaOgxzotPuJEnyx+68O8VT7fzBIAFRSP/Jprv20G9Mt4DMOvmdgrfAQHR7Ypv2f/Y02p0NP1HaiigSK9ZDqcC4vbZX09OSKsj8TfN0Mv6TOmw/Nm4NNdUg5M4KDTtyCCAnGv2xucMB7ni1mmGGvnb85SD7Ei1Vxf7VnInkiVS5qJc0uXVqRUoF1FNskXmoJHN7rGJPRaL36sBYzbClnXCV+SG3MgCwSwaYmhcZyfSz91VmLytpHlzUxo2BwA0icRrlsNGTXwXEygu4szPfsdl04elU7vVQ8e4dNsXIpSB0Ah22vImBJ3wmIbci9nRzy1JFK92vf5/rit9h92uZONir8rTRZ9aXHoKhgEB0e2Kb4HQv3PSBaFYMO/eq34Piu83iAs++Ji3nuKK8RWvRXffAkXVNs/9uhPkbhspzmcUdT4v73QViO5Jf/y2KkHNeijJ91dMRKUwJt1C4P5Iyf1CUcY4Z3zY+qsbs0gNGZRci7MOJAZTecbIDU0uuETy7rAQqaNmg8gchRZopwKuh4VMMw==\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        189,\"candidatesTokenCount\": 29,\"totalTokenCount\": 460,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 189}],\"thoughtsTokenCount\": 242},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"cjfxaLKHCLzSz7IPrsDGkA4\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Thu, 16 Oct 2025 18:20:35 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2133
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"thoughtSignature": "CiQB0e2Kb8cXROJ_JSp7eHU4VRAX-kNYA44AsdDQ4OVZ5M-cBLsKWQHR7YpvevOiz6NB0giTEdMp0ReBqfxveTYErVYmGJtHHQg7TrebG3dHOqxySsd5wBHJx8s5pvLu07n6H2wjQiVxq5yDPV0hS3k5PNgqRW9Ny-wEyXiBPKNXCu8BAdHtim8GOq423x_OAUc1qGl3QBswiWTSn9wwdBnK5qbvTpCIdLVVkOqi0fPB847fxoWxn5dQK_wc3WYnHw2UeAzvZrpZukZEFJk3VPnAqox1jC6_dY4ppewdSMfe6mBT0hqsp6xVizxIkVv3I9fOuiMrZRxleNyZlX7WLUo-dvccEktpyGoBr4I3X1gK4mTfLyvPWroaZEsf9sbkVVsj2N45CHRIJrBVOMqKAjZXcxXBBbIZtbCmJZ-z1YUYLxL6aWO-AqxuStGZ68Ox6NcWKtzXcqMgwxDPsJ16eWB_PTJ2HmK-vNOyJ2XM1phxm0AKhwIB0e2Kb-oyfZLfRN_64CsVI7KXc65cUWgcZ36-jVi3MzDDufc4B69MCj4k4z3PtCU7PMRwPgxz8CjmVV7x0czJrhw9x6Y-1fNlfMV9KnJL-biQpKDv-3f5N0CC1TggVgj3a2wEYgkilhq_YZOe0_oBb8C2LSK5LiWhsD1ZxagpabBuy0QsA4Yxm3M0kVei_RVNE6qPoBBQOI3Af12qaVk8zF5Yw0LzeMavRDYcLTzXiTh4_z7hGB17n7-Wcck1Ttl2qwO9FZUGXAwruzsLGKLzj-Dda8CvxUfZqjcf-gemnJR4zOWgb25q41kCIdP2INB4G_PCD7MuNF8bHFVzCVhWdKNTXpKa-wrMAQHR7Ypv48ZWUXCS0B-TgXo-xNaXznfa14tUDCaQPWRNSSvm-32f2ksHQNu_TYNWsChfUtXAb36zZToa9wtRi67JpqMIj0R1ReFgx-uNOZqykc28VVMATG9uXp6E1Zd2RXcYKD4vtsot1E63_t8nVQC7FhXcqMvJKuoyo_m2FeHb0Qz8sQk_P9ZqRzISkDlFKChTsaz-ObC8lK7glWwUhlDfO1fQCCSLaOgxzotPuJEnyx-68O8VT7fzBIAFRSP_Jprv20G9Mt4DMOvmdgrfAQHR7Ypv2f_Y02p0NP1HaiigSK9ZDqcC4vbZX09OSKsj8TfN0Mv6TOmw_Nm4NNdUg5M4KDTtyCCAnGv2xucMB7ni1mmGGvnb85SD7Ei1Vxf7VnInkiVS5qJc0uXVqRUoF1FNskXmoJHN7rGJPRaL36sBYzbClnXCV-SG3MgCwSwaYmhcZyfSz91VmLytpHlzUxo2BwA0icRrlsNGTXwXEygu4szPfsdl04elU7vVQ8e4dNsXIpSB0Ah22vImBJ3wmIbci9nRzy1JFK92vf5_rit9h92uZONir8rTRZ9aXHoKhgEB0e2Kb4HQv3PSBaFYMO_eq34Piu83iAs--Ji3nuKK8RWvRXffAkXVNs_9uhPkbhspzmcUdT4v73QViO5Jf_y2KkHNeijJ91dMRKUwJt1C4P5Iyf1CUcY4Z3zY-qsbs0gNGZRci7MOJAZTecbIDU0uuETy7rAQqaNmg8gchRZopwKuh4VMMw==",
      "functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"}}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '3060'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"title\": \"Mistborn:
        The Final Empire\",\"pages\": 544,\"author\": \"Brandon Sanderson\",\"publication_year\":
        2006}},\"thoughtSignature\": \"CiQB0e2Kb9yGQ5Rc2a4e30Nt8jhuuls51Rq9busdwtlJLzkfMtIKfwHR7YpvydYYss5MOdwGyT47VfefJf4T0c4GEtK8Um5LtECAV5vdOVy5hCT6y2dDTFe3GNF5nE69pPF5njwuL45/Wd1Gw+eMvf5e/WVMkhVK1MT1yJgyXcCJXYGTPAmlrNcBNDS350v2bmeDF/U3zUNAcCXHKqg5iqEjC4VN/EQKxgEB0e2Kb45ayfNCjZqc7lxQof9Fn0xwyBesbwvoMZgJjz4STcROt2CGUimRZSQz9dAEvi1s7atRxASXpt7YFWh8twWxSV0QOMMIYZ/cEVUNmV6p8rexAfVAD08yYLY6ZcK7QBOMs2dHGHNq9o0TE8iToyaUlxQrNQKIhiZRxoy0X7jfbnTESyvesOAACEjs+b1fhHhfS9NKMi0jGEmC4F2MjU977adFYPmPc19ewxwYwdGcPw3Wd4VA6Ihu6LetX/+mZAwAFbUKygEB0e2Kb9S84UKHNkag/P2OYj703JShK4g7p5DH71F8ep34+19pYn1cHldV0uXLrmPmEfB2JiUFVNSDY+w45w5mp8KXctWInZscrh9oCdi0ohQESCqdvUt32pcwsckWdLGmVFLwyxNaZYx7xbsH/svSPTEgCKYKaclZJIk4Fp1zqnrlTWw6Yy0JX5j299zcpeGZkRzkuNi7Hxn964fNnB5YL80xjgGjzXV6QgKbhNAUNDngHPV/8FdQGS4i5lMHsLlMSDlaJCAVkMtCCsIBAdHtim9kmxQvEJRt0I5tUneJmBVeZAfe2swoSIeMn1SUA8sWKyDMl91CTqwx0VU2dPi9/XLMvaawkc9/p6RKs1k8tyE0ospvYPm0l9EXwJitKqX0LltbSS31U6fSDgOcG37YPDFLxGmpDVn3ljg3bvFtamSZGeJkaTCrCwqFyJKmKV/uniYjnpmpJ4AeNuZPTp9XwMrn+Jhoioif/s9zYgtpdOG1iwhax3uizL9S9w3SN6kSPMZXjZfP60KpEEFRapcKpAEB0e2Kb3+fTc4NcPtl0euvwZO6kKEEs9ewpYrNQFd2lhJ9qulBBmBTv5B5vaLYiwX4rXcN1yrgEnOShF7rIKvzc41gH5NCM4PDW1oOZ4VCvgS0U0i6dqyaqETENIEW1mcthQVGv5bgmEGtmVtxcJB3VDhkfotOt4uYcubCcp0uWd/eMiKg4SKzT1oSDmAiFSXd5q1bWAHXxmfREiHtix3qf85/kAp3AdHtim+VRpJSYm6GmQ+mBznVu6Y5QBj4WxNj2XgPf5eeP26AOvVgYnBd7MVs7+r3btfK+czf8gtOW97NkzdDS4BWFPa+QSJSg+PLzKtw3stZt3mni9P9K1XXCWg+22R/KbGcz0vwtjTrvoF/LelTg3AdMVhuwX4=\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        508,\"candidatesTokenCount\": 49,\"totalTokenCount\": 790,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 508}],\"thoughtsTokenCount\": 233},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"dDfxaKKUGeLRz7IPyfKvwAc\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Thu, 16 Oct 2025 18:20:38 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2151
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
