interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parametersJsonSchema":
      {"properties": {"title": {"title": "Title", "type": "string"}, "author": {"title":
      "Author", "type": "string"}, "pages": {"title": "Pages", "type": "integer"},
      "publication_year": {"title": "Publication Year", "type": "integer"}}, "required":
      ["title", "author", "pages", "publication_year"], "title": "BookSummary", "type":
      "object"}}, {"description": "Look up book information by ISBN.", "name": "get_book_info",
      "parameters": {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}},
      "required": ["isbn"], "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig":
      {"mode": "ANY"}}, "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1147'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/22UWW+jWBCF3/MrIr/SGcxuRpoHzG5jjAED9mgUgdkNl+1iDFH/9yFJpzvpGR4Q
        nDq3qjhC38vD4+Pi4oMwC30YdYs/H/+elcfHl7f7a60CMAJwLnxIs1j7Lfzlfb9ePj3PlrgHF5hV
        gPeL4svhH3Xgl9GsL5IIPgdVdX3OQFwtvv1u89uk+5/jcyXrAvDaYPnE0BTxhGHM6slb/Ob7/uX9
        +9f2C5hWfZJCK0uAD/v2bR/+xklcqMCsXOUxYcs3meqTAw3MjZMZA295Tn6KxtsBvzG635FKKQ0b
        pr57rsFXoepqsoaqUryubN1yO0O2EJ/F5czJrlyJmGi9M8PjBBpiS0HYNJiXb0PRESCIEjJzkrqZ
        5GPmRai8vo8EpCcm3rG8WC1NORX3oBPPUt+7giEEni+bynDiLxolnDSruG9onMgCxTT2djXEdya5
        4bqRq10KCn3fo9VJJ1aTKVocp8PlFtrbNteMiEblnISynOCBoTYrmuzDWA6SlIrOSXzFwtJNHNnb
        SWtflSfRAe7mesDPrFSuWhUcAStROBnJUXodmVhnZ/tyr6g8L/AD1ovYZBbsmZuiZeGNk9CZ7jHf
        86Q9oTfKTciRCEs5ZRQAyaB1NPOGuPyBKBXo0/cmJ6o814dxf/VCxRAQqe4rxqJlrCvZC2rYjLuR
        JjavCYfxb02fBaRi6IEk35qG5sxpvMQsaLxrJAKC7GGAhe1ZsfLCJJoUvaxNQBQjukOaIXSxTsaS
        EuFKFr9Ry4kP9mRU3076RoaxHa74uyP5iTj11D6Ce/LgeoWJ5qZpzQKl60bAUlsQsrk4qmlKp0ba
        uiCxspJHNBlL9Z1VDFrH5015PIhYcY51ArsI06VHIsFcjtbq7qREi/TVaoyUey3FcrhHgCfVDt2U
        pXlGrtclmAzuTnrywJzuscZGzuFCDAfFlMmLWJNrnK40p4Buw19EDBjoWik8QcNrbrN0do0Wdtrq
        GDT0kICdfOpqXLttcM6kr0et4B1BoFlQZqcanmS52uK67YZWh8CKDLGYO+pHMW+EQrt2rBeXbWj6
        fqlwJ3NlN9x1mTF47ysKLsQdNlH9ZHjbAo5uy+9Y2ruE5RnLLjTWHetULC8FeiBwhnTgftz60k05
        tCEa2R6XKmyPCJQz5RRJZuc4bvM1VHoVokPnDagDVsyOOTnzD0iHw+Ds2fG+OZq7g4Zn953VSwdX
        SLG4Px3ssAcpSt7260xN/Oy4vZtB0fHoOWhwZKP4SaTmlMdUfI/EE+RpmTVa9a/PxPhFi39+kWLR
        VsUbGcoqjIoP+0+ULOIMZF1qRn5XvfHIsvfGT44tMhBG91lePnwMeGu96Lt5n10E/Rm7/k/ALeq2
        KmtoV9cI8FX/hl1sxb53+4TpLwb8ow4r6BdfSsQK+/afxp0wj82Kz/z+hPb5K/0ig+Prp9iiZ39C
        8jzg614fWTx8iuwDql93xGji4Udo7zk6Udtl74ElUTlH+IT/QT3Fhd+lbxMXbdTVFegiNXz1xM+K
        5W+ffXU3ZROjGtm5FzruuHj4/vAvf98Z98IGAAA=
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 23 Sep 2025 19:14:07 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1820
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"}}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parametersJsonSchema":
      {"properties": {"title": {"title": "Title", "type": "string"}, "author": {"title":
      "Author", "type": "string"}, "pages": {"title": "Pages", "type": "integer"},
      "publication_year": {"title": "Publication Year", "type": "integer"}}, "required":
      ["title", "author", "pages", "publication_year"], "title": "BookSummary", "type":
      "object"}}, {"description": "Look up book information by ISBN.", "name": "get_book_info",
      "parameters": {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}},
      "required": ["isbn"], "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig":
      {"mode": "ANY"}}, "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1458'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        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
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 23 Sep 2025 19:14:10 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2830
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
