interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1113'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"get_book_info\",\"args\": {\"isbn\": \"0-7653-1178-X\"}},\"thoughtSignature\":
        \"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\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        189,\"candidatesTokenCount\": 29,\"totalTokenCount\": 1977,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 189}],\"thoughtsTokenCount\": 1759},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"lv_vaJwM-aeq2w_o9o2YDQ\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Wed, 15 Oct 2025 20:10:08 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=11296
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"}}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1424'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"publication_year\":
        2006,\"author\": \"Brandon Sanderson\",\"title\": \"Mistborn: The Final Empire\",\"pages\":
        544}},\"thoughtSignature\": \"CiQB0e2Kb/DS1sI4r45dnWYZ91BIFktT2R5nsvo/mZLDlbgFVvUKiQEB0e2KbwbOg0ksMx34pxszKhrTA3xiOHln/4zTqZFOmKYYo+yYi7oLmUM2u4zFGVP6Qo4Ik9xY+1d+v6/9z0Dc5d/zA+1mFeueMprtsGu7eOojMJLllXpnxd2E9mCZwoC0zTohTFmr+RnY9kmYUftmQXeereXdtdNA0Z01wiAxoqFjRt54uDD30ArcAQHR7Ypva9kmZBXXo4r1qEhWLo4V0hLMQPSNaq5Uodxu2iv68OEZVKBWV1V/ArBJZiyaEyRzHTyFD9uC7U8lReKuHY93fSW4rWoM8YtqoFguQLs031rIFatHOt5d0M83uJeiY8mPq9Rv/Or/ih2jXRfvhrUMxxaZvmvph3eJDhb4CZzEDFuGPbFjSlgoc6Gudn66/ksUJ+lOZnfoDcusLJNxTPLGKH+pPM3vtPRGS5EFtBh6l7HgrPjXNGCQHtuBbeI5YyXdG2iwUSDltdlSvBcuXrHflfpmJ8wCAKgK5wEB0e2Kb/9eBiiWegNRXGZzftfmdJdXc9a//1f3kdLzjJpg+Oo0poSSFTUu9aGuKuRL8BVlvFDUTM92EgAYz6PbtLRVjwS3DiE5w3iyFD3YKxoIQ6Sn+pa5UOLx2bV1d2m1vp/DNvpoC/XGmkwf8Lw2w8XQWBUCJd61JeH4fnmH1jhzu6wx655hbVa7/sWyW13dhRXffDmrw9xRzwnYbYquYNESLHI/yOswOQFEiBPMsX4m7GcqLfm1praLl16IcBDutxep9IvIEWARRT0M79omKAArsQ+6d7SBrsQCtlO/O1u1Da770bkKggIB0e2Kbxj1y1HJKgkADFufk5dw9INFviIHYtWGBNWfj3G4RzbrndLr7UTQv7vC2Op2W+qM4rXQH+Q9Hoo9H5g71Bu5cVRUIeZAKJYvxyA4OlpZwmjGLNyvzvjkkB4lhtvKk2Xn6QG1uq/CNaltAsIcPuhQs33OrWjRN74EKiXynLhnZeF5L0ylVZEyo4/DlDY5PLzt6fd8/9p4YRNTbH/hZ95P35kPETFQEvwgn9CxaI1HBivZA6RiRyX3YchoonhDoLHUchssPGI8CH1eQK5Szr1w6fNi4bQfmm+tRCtAoSwg6WT/L5smdmcY5CHshNb0GQk3PiHXoAkgdtc7H6fLouY=\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        268,\"candidatesTokenCount\": 49,\"totalTokenCount\": 486,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 268}],\"thoughtsTokenCount\": 169},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"of_vaILxHNusmtkPgL_oqA8\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Wed, 15 Oct 2025 20:10:10 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1863
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
