interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1113'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"get_book_info\",\"args\": {\"isbn\": \"0-7653-1178-X\"}},\"thoughtSignature\":
        \"CiQB0e2Kb21oCM6zDTtneCYd+ejvNbR4dFtd85bqZGOfn+J/tCYKegHR7Ypv6ssCax0t/qZmMoXdrHYGdjzYum2nTzR4iFgG8v6UXsIifgypL+qrbSZLOzjXKRSGcnCtnYDZeWL91pxFWrej0NzL2Xjz+3SHuBLLWlGPmtcDfjXlSlfmUHx3YfIxdFeo+kJ2DQ+SCyqs0/A0q1lQw0kF7OZyCusBAdHtim+yR1tDKAxha/fHEmC6Uhnl7DRFaWF4Rge6L/hyMv0xik6xIb9trN7q3op/u2gqilNfp7eTrvWbGF2nSMU69qY4rqQyBFbXyCCnn69eys9RmBwaLcBs26zy0EThOmgR3S4Vg6l1qAXOV5I79aofIuvSqbaxirK8iOM70ArkTzO5XBGYmC+cg/Xt+Znn0BsjU6sEYkpYjHcGTGd3YGeWx7911SFcbtLxovXyrTu90PqrjY6cvZ7TSs22z4rP6oNnIn+XvIG1lipAP4v9tOTqLZK7MiD5O+tvoNyiJT6x+d5r6MoAkwLLkgr9AQHR7YpvKsDhTM6GD28EQWfOgtHJtVwdrwL1ARg9pUe/jGu21HDSDfdvB50OZ6t925IwrXtvVWz3iOzLy+JZbmi5uaxDIaTA1U0TtbM7FD2E9rQEQmJaO51gjrC0MLp0u6BWVDFDb06EPF+ncH6vusqevtWCjq3ufwSgtujj1s75RAgRUUI76TF4aICXfn9edsm2smXm0krDyjXImOGbp4WlZ94YoE4Zy/USdN8c2EhWc9JJL9gmF3QzU+PxILZRMT2PtimlksLJr8RwtJ9VgzOP2fVpuh9Sir7/tiZtNMvj496rkEWH0gB8F9mLSwqaRXhOIjY+kuY3D44Rp44=\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0}],\"usageMetadata\": {\"promptTokenCount\":
        189,\"candidatesTokenCount\": 29,\"totalTokenCount\": 327,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 189}],\"thoughtsTokenCount\": 109},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"W2HUaNeTDMbAqtsPqrnCsQg\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Wed, 24 Sep 2025 21:23:40 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1350
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"}}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1424'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"publication_year\":
        2006,\"author\": \"Brandon Sanderson\",\"pages\": 544,\"title\": \"Mistborn:
        The Final Empire\"}},\"thoughtSignature\": \"CiQB0e2Kbwhc5WufNctTePfLw8pOKeFMbzIaZBtlcEqmWDDyaEMKewHR7YpvOLqErdmpRjepgt962uqrwdZJExrLR+u2KOjJEXYwt95ChyyxX7le+275hi2YugAgGgflkrzUVobLLyNJPK2jp/HgOwknuTPPK1fJnTZKX6UuY55p4l2/KLoDkQjMQeFmTyOfVvfZndIM3vER646MQNZOCP4GBQrMAQHR7YpvWiCycg6Hv19V78OuMcqqgECkeldlxGevj2jLSItxOU/+uKt/CgMA3nkJ292q5+iQqHbJGUqUAxUkBy+61/ce20v7DqzbGcyUnFUwxmyYcGczjL/+RIrlFGrXUhbXOHbgcfUxJ/zIDYZILUKE9UiyNY2my21yLE6Sz6y2aKexrF0Sf3D+F/yhdynedHxDO/gcNAHaZPOCEHyrVf3PL4QDuvZ0guXsesxStezefbjn29KDZlMI5gbVAQcOIwAR+LwLspkWUHP7gArqAQHR7YpvKIritbtDUbQ+yZD0T05QLVnqD4uwT3xCCmA/LFwcujaZaCml14PRcANR9zZZbWPeg5k7D3n0r66Gn6xtKF4U7eraSvHXFpGT8xoYCd/fNPIM8STpoisRsqxzV6T3Xw/zNc5ovMnAapUkelvraXpiza0jFXsc8OnU1LLIzOmlF/5HnvFVVvvKaVG55XsngB60zJ1z1AbzHn4NtcxPvcBxdkRPlrUT+KoJliMo3U5nshEVR6j4CG9TGZUzSWjVzuO+rNVS68ybsH+i4O5OYArMxHSeVdW3T32qSh+sWaloiZM1sawItArVAQHR7Ypvb+IgtgeF1uEPFev7lDIKXFOu2U8XBo2AusbAvG9eL+kmYHZjDjjp65BItbGN2UqBHjgmuy15uBGevaBaJHKTXFFwtS1hAAautbAy5VZgvPjrKySW5SDhh5yFRyswtHs39r+wLkDXEWcZAVJLbnXoptrMT8L68aU89jDgVT/mzKVP4bopRHBxDIgTlNmjFenAyadw0VH/sl3W2AEisqLLsh8SyZQSoZ4GDaEmF+dgmldl4coPuJsAjP5qXtqqIqYKLeqld+EJopERPuEk8YotegqCAgHR7Ypv4sFBMKnczgKpluaNd9OlN13jaGO0rbAe4Afx3yqwWEqOntOc0zpBTuo7FsK0sevWxgWUZgMBtxyi6BeW0OxFNHdYf1GbIG+t4vrjJ93BZ5NmteGoV9VyPOFMXyq+iDSM7j7qlORXpXTR+ytFRg0wqaBZiK1hHv2JBrGoLbpjfWU+epB1ZWK4SUiSn6jkjx5lFFAG3YXwWMbXz4J1m/jkKrJfcISVKN8C3Ixz6IuatqjARGUIhx1a4tW4LBLqKl0eLBjCVtfrPTQA20pDhaE/pgCLBEGEKOU8e3BXq6sBhWGS5ZJr9Z5/efFk//nMWCEv1J/2IIgJ8Do9xsZSUQq/AQHR7Ypv4f4s+rn4F8rpgOinudRFPs75Pms1CCX/vLCins0ekMfCGdn06ky9PMHjzmCX6qRXJxfixVE1Vcq5gnqbsauQH7c2DOz3ORMRUcWLYObTzwyDKfxZuZY7gv4c6Nh0VfHr33ygyotg+TNps+SxfaFXioquhTPT7lc47GVbC7/hCENDXIsqJZAUmTm4tlJ3j+LTVOs976gyCWnlUOIW1dHDvysEc7icWYChPM5ubVa+jfYGaaJCDSTFQCJUCiIB0e2Kb+EX4560SxF4TGZViug0SGCrVbU/sMbqbqcuEJMD\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0}],\"usageMetadata\": {\"promptTokenCount\":
        268,\"candidatesTokenCount\": 49,\"totalTokenCount\": 582,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 268}],\"thoughtsTokenCount\": 265},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"XGHUaKaQH46lqtsPvt-52QY\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Wed, 24 Sep 2025 21:23:42 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2042
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
