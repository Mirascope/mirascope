interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "When you are ready to respond to the user, call the __mirascope_formatted_output_tool__
      tool to output a structured response.\nDo NOT output any text in addition to
      the tool call."}], "role": "user"}, "tools": [{"functionDeclarations": [{"description":
      "Use this tool to extract data in BookSummary format for a final response.",
      "name": "__mirascope_formatted_output_tool__", "parametersJsonSchema": {"properties":
      {"title": {"title": "Title", "type": "string"}, "author": {"title": "Author",
      "type": "string"}, "pages": {"title": "Pages", "type": "integer"}, "publication_year":
      {"title": "Publication Year", "type": "integer"}}, "required": ["title", "author",
      "pages", "publication_year"], "title": "BookSummary", "type": "object"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1218'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/21U25KiSBR876/o8JXpFRAQNmIfBERFRREEZGNjopD7rQSK68T8+9L29IzOLg8E
        nMw651RGZH57eX2dXEHuRi5AXjX58/XvsfL6+u3+fsdgjrwcjcBnaSzeQIl+cT+ebw/fI8Wv8yuK
        YC6ANH06/APPQeaN9Ungoa8OhMnXKPfh5MvvNFAG1f8cH5GocvL3BvjbnKFnbwQxZ9+syW+870//
        35/bT1AI6yBEWhTkANXlfR+hZpcLd42ijLXkvegP67QLRS0Yr8xznckvy5Xh6w2PwxjtxVyKEePy
        nN20rGDbuzm7Sg6e2zgCOAlKTK/EWkn59VCvaz228V0cn6dsWCXlDWeJMx1IzoK6DFfHlLfGnsYx
        zVbWYZwgbd8T0wYt1BTMBREunB0pVBR+MmpHpeZJUZ/tgY7jfY/HOJlQJuYeGJm/kT3fCdHV4AQh
        0p2pAOfEIOUzB5ey5tR2NsUfL/Oql1Z5Uqidc5Ia1kBXwGGsc4y1nGlvR/fYRytgrk3JWCeYzMRq
        mV/ctXVQMexAEyypNrbF9ZbsQEZjDqUC7FogNWe2qTryGieCf662gRfrUpLGIUynJuNbHaMpktMP
        HMys2C08O/NvpqEqawXnN9vurG2VhUXTsw21PZv6amv68No4cWJ4qVWr4JIFh6ayym12zjIlgSze
        pbDNod6t9sXZjTTfIHhvapAswsFa1mpcWmTSQWEuIe2I6TwvXB5JThTsN0bTe4etlql8hKmzslgR
        NhOWYUJNjcLn2Km13x9q1xrKRLd9n8Vd9VbE1C3rBdEXI9Cc5/JUpOGA2ZfghOWr1qF1MbG3Mk3K
        Zd/x1EEY1PQ4BP21XR5z38Fbs4E1YGZEXumHrXEsgyvj6ho0MApcE2LhqZgjy4zIk6Jx4Wqhvy3Z
        TCOnu6uWaEuxNJs2YABbqdil4gdGdjHE95jL9g7b4sl2qTeG2OazXTBLNbGezZzNSdmFFC6vhr0k
        ZfExdZdLjaRDt1+VyDUvXIjW3DkCN08i2JLmzayIjvus1U+Cy2gLQTu2esiJO6VtICksii25sWKY
        KiFazGOuU4bCKbtlDHu4LK86l7etaWr2iSio9ZmsZAX+9ejCXw7855f7JiVM727LoOuln/Sf9pz4
        UR5V4ckDFbx7XNMPx5/ZMIly1+vGMv7yOeDeelJXIPD2HgJjlIGfoTG5lTC7IR0mXi7A+h5lJM58
        dHuIvmcC9wNHEIH0CZqx+Jf/NK7EcWyUPmbiQ1yOtwRphPr3q+hLS3+IuXHA816fWrw8SPYZVM87
        EhT98kO0Dx0Nr6yiD8ECLxslfCP/oN/8FFThfeKk9KobzCtv475z9sJRA4cTPb8VBdl+tfOjE4jt
        5OX7y791wSbQFQYAAA==
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 23 Sep 2025 04:33:52 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1612
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"}}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "When you are ready to respond to the user, call the __mirascope_formatted_output_tool__
      tool to output a structured response.\nDo NOT output any text in addition to
      the tool call."}], "role": "user"}, "tools": [{"functionDeclarations": [{"description":
      "Use this tool to extract data in BookSummary format for a final response.",
      "name": "__mirascope_formatted_output_tool__", "parametersJsonSchema": {"properties":
      {"title": {"title": "Title", "type": "string"}, "author": {"title": "Author",
      "type": "string"}, "pages": {"title": "Pages", "type": "integer"}, "publication_year":
      {"title": "Publication Year", "type": "integer"}}, "required": ["title", "author",
      "pages", "publication_year"], "title": "BookSummary", "type": "object"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1529'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        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
        AulzbJfD41qD6k7S5O7T10//A8Z7lxFpCgAA
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 23 Sep 2025 04:33:54 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2612
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
