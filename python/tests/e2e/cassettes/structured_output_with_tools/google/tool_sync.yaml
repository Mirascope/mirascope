interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parametersJsonSchema":
      {"properties": {"title": {"title": "Title", "type": "string"}, "author": {"title":
      "Author", "type": "string"}, "pages": {"title": "Pages", "type": "integer"},
      "publication_year": {"title": "Publication Year", "type": "integer"}}, "required":
      ["title", "author", "pages", "publication_year"], "title": "BookSummary", "type":
      "object"}}, {"description": "Look up book information by ISBN.", "name": "get_book_info",
      "parameters": {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}},
      "required": ["isbn"], "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig":
      {"mode": "ANY"}}, "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1147'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/21U25KiSBR876/o8JXplYsIbsQ+qICgiCAgl42NiRKKi9yhQHBi/n1pe3pGZ5cH
        gjqZlacqiZPfXl5fJx7I/dgHCDaTP1//Hiuvr9/u73esyBHM0Qh8lsZiCWr0i/vxfHv4HilBm3so
        LvI1SNOnzT/wHGRwrE9CiL6eiyL5GudBMfnyOw3UYfM/20ckbs75uwD+xsxp6o0gGPbNnvzG+/60
        /v4sP0FR0YYR0uMwB6it7+dZ156w9EUUZ4vFSnYD4TDTKKhGBVai+Jq6bbmzCFba5YO6ZWGE03nD
        39J169TO6XAs5hVi8SQ3OqxiQmN3uBz1wQ1qJcIKWFI9I2IEvmnUFt91W7Dnu7VlnA4rVscIJwkY
        ydY4gcakKjxTmYHtMYs2DNveyuoZtxFGdISsGliLgRgA+RqEyF6J/oo76U5clUXVebda7juJo87i
        WlGcGro1nkW2aIqGeV6TMjj4kpckmCcbEoQhxwozrOimaB4IMe9wGuEVBZ6fapfK97v1Tid75tp6
        xPJ2aYiWUCvggTiYFpWT4GePb6Gndqtd7RNFf5neOEFOaE+juMVg8dvdUS4tFoT8Qs5EFROaOpnT
        SuqJjknEugJN2EWHXXK06QPfKXmr5X46lXDRPPTXan+C7VDqM4Fl9saUnU8zhyqG2ktTFok+uxS2
        siwE7pZb6VvFqbZmZO3dNug7w/LS2qk8ZUCldXVFzjXWIQ9NfOBJS6oqu8n5RXY9MzrdzG8UNVjk
        Uq7aaM+5tBgVlJmL/IpnhRgzQl8oHQbNFwY2azdMWXFIYpYOQ1+OFm/W7pbVPWa59GNdT49DeYr6
        VXlb1KG5qTRhuimj6e6YHg3PUPuojhXX8o29OKOVk+mybWbO5nZ2SATSUqw2jqSO3gVhk8S3/U5f
        pvV01U5tzdwqmSssyVaLclXDavuknSRBzFjWmvn1cNMt7dghKuT8AGwQIy2q7Yllm40t+ywDDfpo
        DgSBWe7NMOadFKeNQKoMv68kZ8kJMAH90aWCzXbDis4UKmSUb7G9H3klcJhT3KYrZRcKARj7dh1p
        iIvUnM9gMSxiEl1EGXfeJbRtvWSbSEVEyiQCiPZw7iyiuFdIB88uuIJZea8breuCCGDTA7fsS3Ym
        qE7kZB4v+GcPTTFKT+ty0R88mGt4M1y027FuuVbikKmQqzlLr2Jjdl1L7YoPrCXh/PU45b8m/J9f
        0z2pi/Q+zVnhw/ST/nP8J0Gcx010hKAp7hmiGwf1Z/ZM4tyH/VjGXz4b3KUnbQNCuIcIjFEJfobS
        pKyLrERGkcB8XbT3qCTYxYfaQ7Q+EchPHBUIpE8QtcC//Ee44ca24w98yNyHOB5vCdIYDe9XMXjb
        eIjRscHzuT69eHmw7DMIn89IMOTLD9M+fDzBuok/DAthNlr4Rv5BvwUpaKJ7x0kNm7LIGyj575yT
        KupAPu95emNmKFEr91JlGjt5+f7yL8YspY12BgAA
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 23 Sep 2025 19:13:24 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1749
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"}}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parametersJsonSchema":
      {"properties": {"title": {"title": "Title", "type": "string"}, "author": {"title":
      "Author", "type": "string"}, "pages": {"title": "Pages", "type": "integer"},
      "publication_year": {"title": "Publication Year", "type": "integer"}}, "required":
      ["title", "author", "pages", "publication_year"], "title": "BookSummary", "type":
      "object"}}, {"description": "Look up book information by ISBN.", "name": "get_book_info",
      "parameters": {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}},
      "required": ["isbn"], "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig":
      {"mode": "ANY"}}, "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1458'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/21V2ZKiSBR9r68wfHV6kE2g38SFRUGUTZ2YqEgh2SEFElk6+t+HqurqruoeHlju
        PXc7QZ777WkymXqg8GMfYFhPv07+GS2TybfX+4sPFRgWeHS8m0bjHVT4F/bt+vbhfYQETeHhGBUr
        kGWfgn/4C5DD0T59fs7jCtQeusPnAFU5wBj6z6jB9wY/Y4Sy5+fpX78Hgyqs/yfpa2fh6xQsw/we
        9eJtblnsgZe+nnsIqhFIzeeL/0GCBkfoxT8Vq5EdVEzM8QGrGhV/tDPCcYyz13G0uMY3VBVfJ1YE
        J9u4ANlkk9/jCk5/i/r+6fv756TTsXoTRtiMwwLgpnrNvUKptPRlHOcEE6vNFZxOqN8Ikhbkm0g7
        t4/kmox8q0OYEiteZdaGjtfiVqfLtLN3t5gp95naJa6V7oX1hrgC/k6qka/sjtBWRTlpEr0ELWvy
        D9rRJNs07YBQxeC2jwmTnWsVYtSO94RHebyVJnG+mJUbiKLokEa/j1TZSEIjWMQdL5r+ZYD+2RUZ
        qj+y4lL0fQduE3Btt47bNMdVoBMd7vxLNr/7c5kLF9TSPmmbGuR1JjBkJDDdJoC+EXRCF0cZYW6U
        GaAEYjfIVK8zbEcWJzc59ISL0Incnsr22CG5XW0uSOs8jVWFjefd+Lt6EuOCizR72TBmuPWJxCKo
        ctsoZRvc4TaVnLSdlaFLehQ3s5y9UDDcZru+UmWmkOQwu0o9hAGzNKRgnyaG5HPM6bZD52qG5YSs
        tuvj6bwA3EUB9wJCU8ahNKiSfai9nbxqGfbCmFolIjDcyAcFnQdDFezGQebDtWr3RNGMdoyNA6ih
        tL/gS7DDA2E/AN2HN4wP0eXeBHTZ1koh6fLRhfudbOsUm/rLEwtl+bTSk2u50IpltSjrbeigtp45
        F4Wm5rmsEj1LaxZTnh2nlYlWP3BLJsR8H3Vosc8fyNfhERJXusRXix5u+FwuZ4fkTIk5o9LCvaDa
        yNjsuTVzDSLxQQVuEgfzmJH0PhMVNiR8TpNSyN+EU9Rd4uUDeLerzXFMxGHS2e20Tkisy3pOp+P5
        CdZVRPc3Wk+ccssx/LrYP5Axb1PRFs5U+nCTzrgM+o3Uw3NsnO16dtaNaB6iVFEWhuYGydwHSl6x
        6cNaGOkVRY2853gQuTw33FaFzdOdfqdAutV6uR+OhLiu9+m1s3LrEF9vnO/CYrkM7HO7MwaN108A
        9Dsil4g9hp7gEOzQ5+4QxDYrCqzO93PJ4vyw3YnVI7ww9JCq8ml2Ztdxf2G2BwT3jZ3iVF8k+cZb
        DqdtMb+EldX3Z1mk4xB67nqxFo6bmbL1YmPGe+Va5/jaNvLOi7zNIS1samgt8rKT2MKEj9WupZ2k
        ihQ9UiRCWY6/+8w7mqm6J3FrLRauSmNDIAg2vc9EDqyG/nzIQzL6qCi/1OTfX0oyrdCbKuXIh9k7
        /KfUTIO4iOvoBMGLqo0w0zoYP9VtGo96143m+dN7gdfU06YeNVaDGIwbA/xU4em9QvkdWyiFxQo1
        rxuDWvBv2T5smE8ARvjhxwiD7JOLJcm//khcr8eycfZx9XzYSuOUIItx/zKKtTlbH4R6LPC5r3cu
        nj5Q9i66n3skBebpB2lvPDrjFojfCAthPlL4hfqb/RJkoI5eK04rWN9RUUPFf8E4D9kEys5YCnBf
        4tpA/OpLeNxMn74//QdMYyYBfQcAAA==
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 23 Sep 2025 19:13:26 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1713
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
