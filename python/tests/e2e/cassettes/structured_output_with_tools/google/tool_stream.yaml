interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1113'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"get_book_info\",\"args\": {\"isbn\": \"0-7653-1178-X\"}},\"thoughtSignature\":
        \"CiQB0e2Kby8JeZpsfcPFv1molqpR+Yat3NOiipC9KUGWAYxecZoKhQEB0e2Kb2xOh/jzl/G34RvEAuVd3nzE/mB5Q/JDMPK87rtm4nPenMmtMp+D36UVwyEoy+8orLj0q9vvwVEOU5oCFuRDT7bci+P6BNcBYKky7DPPoLyMbao1Ty4gCL6ufLpRP9sHoY3K/1OyTz77XKWIvYD8pbsR66cPoSCZXiCynamkHMaMCvoBAdHtim9a/yDu9w5lIFVyBEHct7p0sbg1GDZf4H/sAXq5v6S5DxRA3j9heOjjS2SA1/BzUPcnodvfrYowcYW5siZsqtJSgnBPTMLD3eeb1VMmXJAIgdB4W4vr6ThlSmC672zus5yYawLtP6QhGLFopDxVbG5ugih4qY2Wg31nNjZD9sgyk8rV3ixldv3ivfXBO+SePh+jkvSlEikjlvD730GYwGOdBnbOOLnT2qm3WsHHmNd/f/0Y7zqXOD8z9/xN5drVZHT9jc1p4BUTNbzpvPsMpK7VL1pYLJQFSxdthU+u8lALzxU+2eAdIy2crPju17HYlwE2xu33cQrTAQHR7YpvxPcB3UcyH8M/WBmze+g74BtBxIpaw+doezZKsuAth8F/Odf4cVirvhTbd3XUn+sXJDXzAjc3b/lEA4BssMCtExcAB2dXSb9PqDLMfY5E5Vc/iKMt1VsmegFW/fNlO2dNcq98GcXuCiE27slzT5JA1SwWyvm5q8GWrBtGQQN2sr/WxEXPH4ZynE8brbPYHFkdbs6yR2JRqrt0jCESEJmGOVwUvcuzCvQu5kBPlDhv5thepqnOLsi0M3OF4ImsmDunhw3EN1iZH7NFHc9pQ8YKmwEB0e2Kbxo/D9q5evxeEud5TlYjYgWsr4I6Z7AqJFRSG5HCiqYsG4V4bc0QsMpI9l8ACB91vrW3b2YqBKdfyqw5nAm+0geHmX2aS1Zn5jJ7B/j2uAXH+kycS4rFi1rilyuTO4BimihfdDffQudwxCSk3hDOPIrPOcoDDehWM7Xx4lr/USAY3I27ecP30vzF6SQ/pekUqkrWdhpPNwrPAQHR7Ypv531mnrBbkba1S/U10Pq0mxH3w91fgTT6EJEyhWoc+2+j67tuukyq+bB+WYBKpxNpj97I1UcLgpXCtVx1zmKGsAt6K3hTb5iUCnJ7FpefhNHJoDzTv5Pcl3HKcOfSiu3E6iba1PK/YSGZRoiS85GUvtlK2TKc2NKY7mgFx2f6j5Xggv7a8y1e4HqBIFZtPe9voOHie9KexCjiGSurHxzWDcGEtLwSjaYPGtS/3Zb9844agmcOBesdq1NDlFvX31Kl4uWo5ftzciGq2QrJAQHR7Ypv6FxdFQvSJ0KkwweFjxJPAk4DCZkfmbYVq/6D/2szAzDCs8Rom1wVgletvjXzc8MW2Uiilq9CO2XOBg4qNn6klv3Th75z2QG9tTjAmRLqE09NBB45++JRRWn6/5KpSXHFeihXs1mnLxLtU2XLpNAy+zD0bq0f60pDu8zSe2CqbBHfx5biOqcgpY3mpQgu6cWoQtwrgvY1RKp3O9vF9YfpE5T1hTFbFBVoy+OrS+kAPqVVTHrpp772WgFU0E1i/z9Nm9AYQQ==\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        189,\"candidatesTokenCount\": 29,\"totalTokenCount\": 468,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 189}],\"thoughtsTokenCount\": 250},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"aDfxaLWuJY7Uz7IPnIHQyQk\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Thu, 16 Oct 2025 18:20:26 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2419
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"thoughtSignature": "CiQB0e2Kby8JeZpsfcPFv1molqpR-Yat3NOiipC9KUGWAYxecZoKhQEB0e2Kb2xOh_jzl_G34RvEAuVd3nzE_mB5Q_JDMPK87rtm4nPenMmtMp-D36UVwyEoy-8orLj0q9vvwVEOU5oCFuRDT7bci-P6BNcBYKky7DPPoLyMbao1Ty4gCL6ufLpRP9sHoY3K_1OyTz77XKWIvYD8pbsR66cPoSCZXiCynamkHMaMCvoBAdHtim9a_yDu9w5lIFVyBEHct7p0sbg1GDZf4H_sAXq5v6S5DxRA3j9heOjjS2SA1_BzUPcnodvfrYowcYW5siZsqtJSgnBPTMLD3eeb1VMmXJAIgdB4W4vr6ThlSmC672zus5yYawLtP6QhGLFopDxVbG5ugih4qY2Wg31nNjZD9sgyk8rV3ixldv3ivfXBO-SePh-jkvSlEikjlvD730GYwGOdBnbOOLnT2qm3WsHHmNd_f_0Y7zqXOD8z9_xN5drVZHT9jc1p4BUTNbzpvPsMpK7VL1pYLJQFSxdthU-u8lALzxU-2eAdIy2crPju17HYlwE2xu33cQrTAQHR7YpvxPcB3UcyH8M_WBmze-g74BtBxIpaw-doezZKsuAth8F_Odf4cVirvhTbd3XUn-sXJDXzAjc3b_lEA4BssMCtExcAB2dXSb9PqDLMfY5E5Vc_iKMt1VsmegFW_fNlO2dNcq98GcXuCiE27slzT5JA1SwWyvm5q8GWrBtGQQN2sr_WxEXPH4ZynE8brbPYHFkdbs6yR2JRqrt0jCESEJmGOVwUvcuzCvQu5kBPlDhv5thepqnOLsi0M3OF4ImsmDunhw3EN1iZH7NFHc9pQ8YKmwEB0e2Kbxo_D9q5evxeEud5TlYjYgWsr4I6Z7AqJFRSG5HCiqYsG4V4bc0QsMpI9l8ACB91vrW3b2YqBKdfyqw5nAm-0geHmX2aS1Zn5jJ7B_j2uAXH-kycS4rFi1rilyuTO4BimihfdDffQudwxCSk3hDOPIrPOcoDDehWM7Xx4lr_USAY3I27ecP30vzF6SQ_pekUqkrWdhpPNwrPAQHR7Ypv531mnrBbkba1S_U10Pq0mxH3w91fgTT6EJEyhWoc-2-j67tuukyq-bB-WYBKpxNpj97I1UcLgpXCtVx1zmKGsAt6K3hTb5iUCnJ7FpefhNHJoDzTv5Pcl3HKcOfSiu3E6iba1PK_YSGZRoiS85GUvtlK2TKc2NKY7mgFx2f6j5Xggv7a8y1e4HqBIFZtPe9voOHie9KexCjiGSurHxzWDcGEtLwSjaYPGtS_3Zb9844agmcOBesdq1NDlFvX31Kl4uWo5ftzciGq2QrJAQHR7Ypv6FxdFQvSJ0KkwweFjxJPAk4DCZkfmbYVq_6D_2szAzDCs8Rom1wVgletvjXzc8MW2Uiilq9CO2XOBg4qNn6klv3Th75z2QG9tTjAmRLqE09NBB45--JRRWn6_5KpSXHFeihXs1mnLxLtU2XLpNAy-zD0bq0f60pDu8zSe2CqbBHfx5biOqcgpY3mpQgu6cWoQtwrgvY1RKp3O9vF9YfpE5T1hTFbFBVoy-OrS-kAPqVVTHrpp772WgFU0E1i_z9Nm9AYQQ==",
      "functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"}}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '3068'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"publication_year\":
        2006,\"author\": \"Brandon Sanderson\",\"pages\": 544,\"title\": \"Mistborn:
        The Final Empire\"}},\"thoughtSignature\": \"CiQB0e2Kb55clVN1b2OUrk4Ud4Z9CO/qrxupfkQZcT2o/ggTF6YKfwHR7YpvyFVCE1mK8Gy1lIVvNvoOgQ0tpDx4z6Kx1SCY8UJmArsTr8LzXIzc4nA3g3x+KDqt4w8eOAYJgvCUqa8SaEfv1I97Als43rtbCxbuwm60682bw3ApTPSl9Fv1iHbbw0f1+F3PN13AmqqNeCCtVFg1yTj/x8HKxqYrbE8KwwEB0e2Kb9SUeWiWm8fVRSQILcrOBFmmh6LUmJRZnGugDX73o+B0v0/Xk+5Zbud+KN6OtEq+cFOsDXgc6S40OcV3EMAf9UbAumpwQJ9Awa7Q8IEhwrGZDA22/OROGBVYpWM+6VAXTJLL9WxCeDRwtxwrkdSnQgImrhNRqdkkRsohQh5J8kgpRPGA2TqDXZ0F1rVMe6a6B84r4CEiKRaXBtVjBplChQWAfb9DD+P61Ed1F8YgJVSAs0t0M69vQCspZln4GTcKwAEB0e2Kb171d5Mk06Aqc7cRx2g8u3E48ujNv2ppQXit3eZuUKZKjF9mPPIxTpSFTtqdAZuCijmxUbE724PhLxUIyWJtxUDxr2gzd4LF2UEUr4LGz0gTVzXe1oWSvzsl4f7TZrfjwOKe3HYtJAs/VyrJVMezfu8zYaJzI8d3xjE/BSs1quBAw91yAKDdN7DigeRbH7p9+Qhm8pbpee/fCbkI5i8/THZIbqmtyUzCLgXbcleSB8MLky3NyEW0G3GdixUKuAEB0e2Kb1URgBC0WnKzUHPSuiH5EDM9luEuy2TbjfEwA15uURnFlaQkSyhIvjBh0aQDMt8ehyYi/n3YLfTk3ERiyMGmwX9/azuMMPYK4BDJfTC5p+/vYA+xx7ETHq360SmPA/qK+usOaPNnOzuUZnt4BBCyq2EMlkZCx7JGRjBRtbWBskJCgOrlUyRRNZhdWp7eyIHDSSZ7TSuHdfbOUpsShAk65ts1iGJQSKe+A+itTzjSI3FmiCKvCqQBAdHtim+kCZ2wocr0pLPmp6d6ExSkJKMJysE61i8szcdwlu4nOuXkWBNeyc55Sl8Wd/HmWh+YuGuooIVV6vGVCIBpp5ZdXA4dpBeMf/4YtQHAsrnDFiWxfHFtmg70lYVzBCXwAoX+y6JzJQGN41eVQ87uys6j05CN0nYS7gH6SjUzcpWF0zZDqNlQ27MCbv1leEllIVS+d+FOj98hEOUjyDl0rXQ=\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        516,\"candidatesTokenCount\": 49,\"totalTokenCount\": 768,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 516}],\"thoughtsTokenCount\": 203},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"azfxaLmUCYeEz7IPlpvNmA0\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Thu, 16 Oct 2025 18:20:29 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2458
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
