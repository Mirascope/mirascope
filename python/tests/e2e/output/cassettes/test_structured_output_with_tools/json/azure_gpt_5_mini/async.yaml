interactions:
- request:
    body: '{"messages":[{"role":"system","content":"Respond only with valid JSON that
      matches this exact schema:\n{\n  \"properties\": {\n    \"title\": {\n      \"title\":
      \"Title\",\n      \"type\": \"string\"\n    },\n    \"author\": {\n      \"title\":
      \"Author\",\n      \"type\": \"string\"\n    },\n    \"pages\": {\n      \"title\":
      \"Pages\",\n      \"type\": \"integer\"\n    },\n    \"publication_year\": {\n      \"title\":
      \"Publication Year\",\n      \"type\": \"integer\"\n    }\n  },\n  \"required\":
      [\n    \"title\",\n    \"author\",\n    \"pages\",\n    \"publication_year\"\n  ],\n  \"title\":
      \"BookSummary\",\n  \"type\": \"object\"\n}"},{"role":"user","content":"Please
      look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation
      score"}],"model":"gpt-5-mini","response_format":{"type":"json_object"},"tools":[{"type":"function","function":{"name":"get_book_info","description":"Look
      up book information by ISBN.","parameters":{"properties":{"isbn":{"title":"Isbn","type":"string"}},"required":["isbn"],"additionalProperties":false,"type":"object"},"strict":true}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - <filtered>
      connection:
      - keep-alive
      content-length:
      - '1107'
      content-type:
      - application/json
      host:
      - mirascope-east-azure-testing.openai.azure.com
      user-agent:
      - AsyncOpenAI/Python 2.7.1
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 2.7.1
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '1'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.3
    method: POST
    uri: https://dummy.openai.azure.com/openai/v1/chat/completions
  response:
    body:
      string: '{"choices":[{"content_filter_results":{},"finish_reason":"tool_calls","index":0,"logprobs":null,"message":{"annotations":[],"content":null,"refusal":null,"role":"assistant","tool_calls":[{"function":{"arguments":"{\"isbn\":\"0-7653-1178-X\"}","name":"get_book_info"},"id":"call_RIqOtGTxd9svT9E7vMeqQxRT","type":"function"}]}}],"created":1766400856,"id":"chatcmpl-CpXqK7EQeIQjnJJXPSxjnon9b7uhe","model":"gpt-5-mini-2025-08-07","object":"chat.completion","prompt_filter_results":[{"prompt_index":0,"content_filter_results":{"hate":{"filtered":false,"severity":"safe"},"jailbreak":{"filtered":false,"detected":false},"self_harm":{"filtered":false,"severity":"safe"},"sexual":{"filtered":false,"severity":"safe"},"violence":{"filtered":false,"severity":"safe"}}}],"system_fingerprint":null,"usage":{"completion_tokens":96,"completion_tokens_details":{"accepted_prediction_tokens":0,"audio_tokens":0,"reasoning_tokens":64,"rejected_prediction_tokens":0},"prompt_tokens":302,"prompt_tokens_details":{"audio_tokens":0,"cached_tokens":0},"total_tokens":398}}

        '
    headers:
      Content-Length:
      - '1051'
      Content-Type:
      - application/json
      Date:
      - Mon, 22 Dec 2025 10:54:17 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      apim-request-id:
      - 9d9fb5de-49a6-4b79-af03-3010c34d9aa7
      azureml-model-session:
      - d20251213092603-2f5a15ac0ff444cf
      x-accel-buffering:
      - 'no'
      x-content-type-options:
      - nosniff
      x-ms-client-request-id:
      - Not-Set
      x-ms-deployment-name:
      - gpt-5-mini
      x-ms-rai-invoked:
      - 'true'
      x-ms-region:
      - East US
      x-ratelimit-limit-requests:
      - '100'
      x-ratelimit-limit-tokens:
      - '100000'
      x-ratelimit-remaining-requests:
      - '99'
      x-ratelimit-remaining-tokens:
      - '99773'
      x-request-id:
      - 5d8f15c9-355d-4de5-9cbc-c14a299b6a69
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"Respond only with valid JSON that
      matches this exact schema:\n{\n  \"properties\": {\n    \"title\": {\n      \"title\":
      \"Title\",\n      \"type\": \"string\"\n    },\n    \"author\": {\n      \"title\":
      \"Author\",\n      \"type\": \"string\"\n    },\n    \"pages\": {\n      \"title\":
      \"Pages\",\n      \"type\": \"integer\"\n    },\n    \"publication_year\": {\n      \"title\":
      \"Publication Year\",\n      \"type\": \"integer\"\n    }\n  },\n  \"required\":
      [\n    \"title\",\n    \"author\",\n    \"pages\",\n    \"publication_year\"\n  ],\n  \"title\":
      \"BookSummary\",\n  \"type\": \"object\"\n}"},{"role":"user","content":"Please
      look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation
      score"},{"role":"assistant","content":null,"tool_calls":[{"id":"call_RIqOtGTxd9svT9E7vMeqQxRT","type":"function","function":{"name":"get_book_info","arguments":"{\"isbn\":\"0-7653-1178-X\"}"}}]},{"role":"tool","content":"Title:
      Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published:
      2006-07-25","tool_call_id":"call_RIqOtGTxd9svT9E7vMeqQxRT"}],"model":"gpt-5-mini","response_format":{"type":"json_object"},"tools":[{"type":"function","function":{"name":"get_book_info","description":"Look
      up book information by ISBN.","parameters":{"properties":{"isbn":{"title":"Isbn","type":"string"}},"required":["isbn"],"additionalProperties":false,"type":"object"},"strict":true}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - <filtered>
      connection:
      - keep-alive
      content-length:
      - '1465'
      content-type:
      - application/json
      host:
      - mirascope-east-azure-testing.openai.azure.com
      user-agent:
      - AsyncOpenAI/Python 2.7.1
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 2.7.1
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.13.3
    method: POST
    uri: https://dummy.openai.azure.com/openai/v1/chat/completions
  response:
    body:
      string: '{"choices":[{"content_filter_results":{"hate":{"filtered":false,"severity":"safe"},"protected_material_code":{"filtered":false,"detected":false},"protected_material_text":{"filtered":false,"detected":false},"self_harm":{"filtered":false,"severity":"safe"},"sexual":{"filtered":false,"severity":"safe"},"violence":{"filtered":false,"severity":"safe"}},"finish_reason":"stop","index":0,"logprobs":null,"message":{"annotations":[],"content":"{\n  \"title\":
        \"Mistborn: The Final Empire\",\n  \"author\": \"Brandon Sanderson\",\n  \"pages\":
        544,\n  \"publication_year\": 2006\n}","refusal":null,"role":"assistant"}}],"created":1766400858,"id":"chatcmpl-CpXqMxdYTwQj6LEQ8mWK14XS8z4Ao","model":"gpt-5-mini-2025-08-07","object":"chat.completion","prompt_filter_results":[{"prompt_index":0,"content_filter_results":{"hate":{"filtered":false,"severity":"safe"},"jailbreak":{"filtered":false,"detected":false},"self_harm":{"filtered":false,"severity":"safe"},"sexual":{"filtered":false,"severity":"safe"},"violence":{"filtered":false,"severity":"safe"}}}],"system_fingerprint":null,"usage":{"completion_tokens":178,"completion_tokens_details":{"accepted_prediction_tokens":0,"audio_tokens":0,"reasoning_tokens":128,"rejected_prediction_tokens":0},"prompt_tokens":368,"prompt_tokens_details":{"audio_tokens":0,"cached_tokens":0},"total_tokens":546}}

        '
    headers:
      Content-Length:
      - '1341'
      Content-Type:
      - application/json
      Date:
      - Mon, 22 Dec 2025 10:54:20 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      apim-request-id:
      - 75f99e16-656e-498d-9541-8047f0c323d9
      azureml-model-session:
      - d20251213092603-2f5a15ac0ff444cf
      x-accel-buffering:
      - 'no'
      x-content-type-options:
      - nosniff
      x-ms-client-request-id:
      - Not-Set
      x-ms-deployment-name:
      - gpt-5-mini
      x-ms-rai-invoked:
      - 'true'
      x-ms-region:
      - East US
      x-ratelimit-limit-requests:
      - '100'
      x-ratelimit-limit-tokens:
      - '100000'
      x-ratelimit-remaining-requests:
      - '98'
      x-ratelimit-remaining-tokens:
      - '99522'
      x-request-id:
      - 5b67b7e8-1492-4a4e-999c-e0334282a906
    status:
      code: 200
      message: OK
version: 1
