interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"function_calling_config": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1115'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"get_book_info\",\"args\": {\"isbn\": \"0-7653-1178-X\"}},\"thoughtSignature\":
        \"CiQB0e2Kb2SFkRb/DpaUrhh8Hlb1uOOI1YaNMbVEw18/6YPDISAKeQHR7YpvhYYuQ637KOnWQ478zW4lny9uAgsBdwVTgWXdzZkWaf0TdzERjrBuILlvLCduy9MgIJk7UCUq2u45whLgiIEu/8VkkVB9ZH3/L8wI7kleFI2jAZrF49FzIDLe2f3In8M2lvyjjUh1M7XF/MvGiJDqgCSxqxMKggIB0e2Kb2LUr6hVKxoOVzUpc8Ica4wh4DHog9IZhpcwfi6K+42K1++w17DFXlsbVSVKZrobdu/n7ApUp7L1DIwdUYnuXj6vs0UTig2u4TJzReCOdBiBic5j1XpD6RcxSNzHrBxIJBor2GA4Z7704gwTkNOsAXRV/DLfSPqekiFuqMc5KshWCbC2i39AEuefiiJ3qzMDtoOmfLRzrFnVNxeD0VQf47y7cUAMj3eB6CkvwW44eWvO465nQJmquBKlSwRx90jMHdfsqPkLHMWLvIPpUe0QRyWbU1dYZcc1Vsvk5HSyTAIc0vmwqSNYD+93PsrJ1Kwt5r40aax3tw+8bqMZpggKwwEB0e2Kbz0GGnoVVK1IIjmURz7hXebuROVK5TaKxPKaRdEY40W1rJac1d6vDiGzpMoG3BjQjdhRFHbtokU3uslCHafr1+jO7ylBcrKyoENewnTp+jem9D9WlxfbPbivaA2heZ7X9WJ8MEyoMBPHqS+W/+XiCxFkvAWbm64mZuRi0xKfjuS7MaqlGC3vdKuj90ivle1DAxsrbawILVyQABC5sugSlAAqsrOA6d4KgGiFesOlR/M2Xm3U8BfYx56C+THe1pQ=\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        189,\"candidatesTokenCount\": 29,\"totalTokenCount\": 323,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 189}],\"thoughtsTokenCount\": 105},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"LXUKaa6mIc7Qz7IPy-TroA4\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Tue, 04 Nov 2025 21:50:38 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1164
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"},
      "thoughtSignature": "CiQB0e2Kb2SFkRb_DpaUrhh8Hlb1uOOI1YaNMbVEw18_6YPDISAKeQHR7YpvhYYuQ637KOnWQ478zW4lny9uAgsBdwVTgWXdzZkWaf0TdzERjrBuILlvLCduy9MgIJk7UCUq2u45whLgiIEu_8VkkVB9ZH3_L8wI7kleFI2jAZrF49FzIDLe2f3In8M2lvyjjUh1M7XF_MvGiJDqgCSxqxMKggIB0e2Kb2LUr6hVKxoOVzUpc8Ica4wh4DHog9IZhpcwfi6K-42K1--w17DFXlsbVSVKZrobdu_n7ApUp7L1DIwdUYnuXj6vs0UTig2u4TJzReCOdBiBic5j1XpD6RcxSNzHrBxIJBor2GA4Z7704gwTkNOsAXRV_DLfSPqekiFuqMc5KshWCbC2i39AEuefiiJ3qzMDtoOmfLRzrFnVNxeD0VQf47y7cUAMj3eB6CkvwW44eWvO465nQJmquBKlSwRx90jMHdfsqPkLHMWLvIPpUe0QRyWbU1dYZcc1Vsvk5HSyTAIc0vmwqSNYD-93PsrJ1Kwt5r40aax3tw-8bqMZpggKwwEB0e2Kbz0GGnoVVK1IIjmURz7hXebuROVK5TaKxPKaRdEY40W1rJac1d6vDiGzpMoG3BjQjdhRFHbtokU3uslCHafr1-jO7ylBcrKyoENewnTp-jem9D9WlxfbPbivaA2heZ7X9WJ8MEyoMBPHqS-W_-XiCxFkvAWbm64mZuRi0xKfjuS7MaqlGC3vdKuj90ivle1DAxsrbawILVyQABC5sugSlAAqsrOA6d4KgGiFesOlR_M2Xm3U8BfYx56C-THe1pQ="}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"function_calling_config": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '2278'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"publication_year\":
        2006,\"pages\": 544,\"author\": \"Brandon Sanderson\",\"title\": \"Mistborn:
        The Final Empire\"}},\"thoughtSignature\": \"CiQB0e2Kb0kTLwqernY/Hj2BBFaT4kPLJEJtH5SO70dRnOGx8e4KfgHR7Ypv5lD6OcUfMHum3xbi+CpraJu3PZF0hFr2k9zYpx7Hh2MsXvB76/OryY+gDuMgYEnAk5LLvLF0m40lPEniAaDIlyNpWrmHSykEwXX+5fY/NoHqsVRDeOsRGVk8TDYID9ufnSgrCh6Wxy6WERAn0B3Ov9l4uB/oJfhx3wq7AQHR7YpvzUXlkMy39V3ZPTrJohaK1n121N17iLYfp4IOThYiB+z2WQEayJoP1Fp2/QZKtJnKZeBV9rVoAheEvcdlnKMQcaomi8VD78X0ozkvsfDz2mHmsYhbtGQrHFq0pO2hC1eTAEsl35mxCaNj6Ph1/0dNbVa1nNLYBn+q623ax33U8GhISDSP1cIq4d15hhpNGfRd/tvhilWMJTNfErBUwE+cqC92Mqc8/FCNoaPUG2nLPTPeM1ga1XAKuQEB0e2Kb2qdwhO4rdmy4AA88+9WaQK5MZvw0laGD3oq57aU5lpoYlAw65BaDrgvVOY4lnHngyaDTOflU4ZWgiDgwponm05JFlNHpchXpe+n7B3s+ForAjApEZcBM33TCEh+w1sUnpdCIWdbsatOjBGBFpIJc4lMwnM44aM3T188c/+4LW9MRxZciK1BBt0VQGgOh66zoV6X6zHbgMw3fNoAOnSliQd27NU1hDKCbxRncr1qr4gR/ughhQrKAQHR7YpvbykHz+xQBqXKSnFMrLqgsLWsX4lGs/VxsYwGfgF/2AjuNJxEiZJVxwQ47nBwyn3ua789EB/exoi1enm55ZHEDXHQXcCq0KIvlPgp7igoxl8xE94Rgg8ls5i5TiQ5sjM6h2OTFa00LUI8DT89J/m1HVdGhaeZtanE7fJucCIKz52e/dCmjnnn8BdhdJERQHSLF1hucl6fYe2NOOetsSkgotiCC5xK4HKQvv1lW4HmuO6y078pqJ/+MfRe2ekosQGtBbz+e30KpQEB0e2Kb+ob1A9j9ZYliL6Wg1Kdq7Ou/AUvYlovvHWA5l1EZQa+ssmi9ZFLR+NRAyaCY8iew/c2yOp9FowF+nnUWKRTR09MinTkyWcy8cz2feUwuBv26lna1NRR4pePCJAuadtHquTUtFle2/WljllEby0mYdjA/8LJP6/XXNlDYM76Grz31hVVSXdQyqbiIweNIwcu6KlFgCbs6LMZpIDIk2QSk9gKfQHR7YpvcRoGR430cWZhefbH0/PqqmVKw7zFZ5yxipWFVEa8QiO/2nNwCcD74D7I2P78UORRT/rUE5rWCyLJR8I4YIl01xkB0tPqiW4aNiPZNuVLuV8lHbj7P0OUs5aZOqy5rQVaDUw8kprxDWl/oJjYAhIhl9PrTg+u+2bh\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        371,\"candidatesTokenCount\": 49,\"totalTokenCount\": 655,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 371}],\"thoughtsTokenCount\": 235},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"L3UKafjkIY7oz7IP9PbR-AI\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Tue, 04 Nov 2025 21:50:41 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2924
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
