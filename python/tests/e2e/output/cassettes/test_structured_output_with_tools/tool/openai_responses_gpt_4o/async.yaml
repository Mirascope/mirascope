interactions:
- request:
    body: '{"input":[{"role":"developer","content":"Always respond to the user''s
      query using the __mirascope_formatted_output_tool__ tool for structured output."},{"content":"Please
      look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation
      score","role":"user"}],"model":"gpt-4o","tool_choice":{"type":"allowed_tools","mode":"required","tools":[{"type":"function","name":"get_book_info"},{"type":"function","name":"__mirascope_formatted_output_tool__"}]},"tools":[{"type":"function","name":"get_book_info","description":"Look
      up book information by ISBN.","parameters":{"properties":{"isbn":{"title":"Isbn","type":"string"}},"required":["isbn"],"additionalProperties":false,"type":"object"},"strict":false},{"type":"function","name":"__mirascope_formatted_output_tool__","description":"Use
      this tool to extract data in BookSummary format for a final response.","parameters":{"properties":{"title":{"title":"Title","type":"string"},"author":{"title":"Author","type":"string"},"pages":{"title":"Pages","type":"integer"},"publication_year":{"title":"Publication
      Year","type":"integer"}},"required":["title","author","pages","publication_year"],"additionalProperties":false,"type":"object"},"strict":true}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1222'
      content-type:
      - application/json
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.100.2
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.100.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '1'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.16
    method: POST
    uri: https://api.openai.com/v1/responses
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//vFZNb+M2EL3nVxA6xwvJdmzJt24vXbQoEmwXaNEEBCWNZNYUyZLDNEbg
        /16Qsr78kd10gZ4sz3AeZ+Y9cvh6Q0jEy2hDIgNW03idr1hasqxcldU6SeJ4lVbZah0X1bJK0ySL
        0ypbQlwtV3G1WGVZHN16CJX/BQV2MEpaaO2FAYZQUuZ9yXqVJOu7RZwFn0WGzvqYQjVaAELZBuWs
        2NVGOenzqpiw0Jq5EFzW0Ya83hBCSKTZHoyPL+EZhNJgohtCDmExGKO8TzohgoHLbhdaAjIu7NRr
        0bgCuZITe8NeqHKoHVJUOzh3olKCFkxM4RpVgvCZ1RpnSzWbx/PlLE5n8erYrgAZbcifoZK2np6J
        qrjOAyRrWHoesjRfQhGni7SMc7acB+AAgnsNAcbJUFBIb3Bfa3twMlO7BiQG/+tjxG0uH6PNYxTP
        1qu7xSxJ1uns98foMIR4dNomHj5/jG3z5SHJX35e183DT/Jhnu51meyHCMmakGANSHOldpTLSkXB
        e7gh5Cm0SDPDhAAx7TAa14pBG3jmylna6a1NoWdAG9VopAUrtkB3sB/7DDCr5ERKUFXK4GiRb5Rr
        Gma6yF5ZllWAe8pLkMgrDhOVWTDPvACKvFNmxZzA6Ch4ZWBcBEKjwTB0wZx8iI/WFxwyq5Rp2PB/
        xG9Y13btmPEzmFxZjj7nqIGSu2Y4EW0ft4oXMKB3WEwI9Q+Uodn2yFRQcXuk/3bc9DKJ2kWdeAf5
        XtBeT/rbtPclvBuM0oYbZgulgbat8tdNf2SVoLTfIvw+TRpiz8/g1V2jEmxhuA7GDYl+UWpHnCa+
        FuJr8btzJUm+J58+f/z1w9cU37u91htAMHbEcytiDQY5TO3+orC5PLH51DmKsM8n7749cR7rsmi8
        9EfOQ/99GHW4Z30geti6NzyNIlhZct8AJu7Hifc3+Ekix5lxKoCQYJglIXAs8Pdz9MUCwS23xJNN
        UBF4QcMKJCVDRrgkH5XafW4POmkZ9D+EkYpLJkh3u1zg8luU9x0Md1xeo/i38PHtHI9XRszhNozH
        a+g/tAv+I7xm9VlBY/T74L8CziVC3Y7yK+guF7wIR43ugb1Vxv2wlPzhl75jz3cdCjxjo+vxhca8
        Xc3/crT8CDoZuKg0FarWRuUeOu6NejybjJNtsmG6ccty0T3bnGX1aLRwOXk1JXfz23PH6C32Ojwo
        im0YRcfIeDLjTl9ji+yS4xJuP/avQaNCJkYZZ0k/K5ydzvkGkPkrxOMfbg7/AgAA//8DAEWe9P9H
        CwAA
    headers:
      CF-RAY:
      - 992cbbb05c6375e2-SEA
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Wed, 22 Oct 2025 23:21:50 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - sotai-i3ryiz
      openai-processing-ms:
      - '1897'
      openai-project:
      - proj_2kPLXdwNOjkHt3ifb0aZ4FwU
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '1914'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '800000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '799631'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 27ms
      x-request-id:
      - req_b18aab80716745ea912fc91b21b199dd
    status:
      code: 200
      message: OK
- request:
    body: '{"input":[{"role":"developer","content":"Always respond to the user''s
      query using the __mirascope_formatted_output_tool__ tool for structured output."},{"content":"Please
      look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation
      score","role":"user"},{"arguments":"{\"isbn\":\"0-7653-1178-X\"}","call_id":"call_C0smUQ1bxK7gmQHnQ28ypd1y","name":"get_book_info","type":"function_call","id":"fc_07b6a8da9d6df7110068f9670e17e4819098b4ec0838d0ba42","status":"completed"},{"call_id":"call_C0smUQ1bxK7gmQHnQ28ypd1y","output":"Title:
      Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published:
      2006-07-25","type":"function_call_output"}],"model":"gpt-4o","tool_choice":{"type":"allowed_tools","mode":"required","tools":[{"type":"function","name":"get_book_info"},{"type":"function","name":"__mirascope_formatted_output_tool__"}]},"tools":[{"type":"function","name":"get_book_info","description":"Look
      up book information by ISBN.","parameters":{"properties":{"isbn":{"title":"Isbn","type":"string"}},"required":["isbn"],"additionalProperties":false,"type":"object"},"strict":false},{"type":"function","name":"__mirascope_formatted_output_tool__","description":"Use
      this tool to extract data in BookSummary format for a final response.","parameters":{"properties":{"title":{"title":"Title","type":"string"},"author":{"title":"Author","type":"string"},"pages":{"title":"Pages","type":"integer"},"publication_year":{"title":"Publication
      Year","type":"integer"}},"required":["title","author","pages","publication_year"],"additionalProperties":false,"type":"object"},"strict":true}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1618'
      content-type:
      - application/json
      host:
      - api.openai.com
      user-agent:
      - AsyncOpenAI/Python 1.100.2
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - async:asyncio
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.100.2
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.16
    method: POST
    uri: https://api.openai.com/v1/responses
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA7xWS2/jNhC+51cQPCeBlDiS41sDtNh02yBAdg9FHQgjaWSzpkiVHKYxAv/3gpT1
        cuJgkwI9WZ7Hx5n5Zjh8OWGMi5IvGDdomyxK8wTmJVyXSVmlcRxFyby6TtKoiuMkmsfX0fwSkryo
        0uIyyYsI5vzUQ+j8Lyyog9HKYisvDAJhmYHXxWkSx+nVZRwHnSUgZ71PoetGImHZOuVQbFZGO+Xj
        qkBabMVCSqFWfMFeThhjjDewReP9S3xCqRs0/ISxXTBGY7TXKSdlEAjVnZKVSCCknWotGVeQ0Goi
        r+E5044aRxnpDb5WktYyK0BO4WpdovSRrRo6m+mzi+hidhbNz6JkX64AyRfsz5BJm0/PRFUc5SGO
        orycex7y2WVcXqXRdVrOCoQWOIDQtsEA41RIKIQ3qI+VPSjBrFyNioL+ZclJkMQlXyz578JSro1a
        sG9rZL8IBZL9XDfC4JKfLjk4WmsTLG8MqFIr9gCqRGO1CgYNrNAu+eJqNvP/XC5FASG8LYJ3vIii
        ZDdE4oPO2nqET/c1fU7T5Pvl7Td5/+X6Np1/+fXu7v7r4KGgDnlnWS0M2EI3mFXa1EC+A3sWtcwy
        Hnx2J4w9Bj4aMCAlyimdZFzbeY3BJ6GdzbrmbgPr6W6MrhvKCijWmG1wO9YZBKvVpG+xqrShkZFn
        xdU1mM6zb2MLFdI2EyUqEpXASUtbNE+iwIxENwYVOEl8P13a4DgJwrpBA+SCOD6P9tJnGiJry9X/
        HzVTsGurto/4CU2urSAfM6+xFK4exq+t41qLAgf0Dguk1P9gGYpt9/yFkWnvj7+dMH1P8taom5Rh
        Vt5o9L4VRs2wQspyrTeZUJXme/3u9HNgP9xZbW8x9jgpiH098EdP5SXawogmCBeM/6b1hrmG+VyY
        z8WfLrRi+ZbdPtzcnb+eg2nqvdr3eo2Exo54bpu4QUMCp3J/K9lcHch86P5q8OfcevXpgXKflyXj
        W3+k3PXfu1GFe9YHooeje8HjyAPKUvgCgLwfB96vi4NA9gvqsAFCgGFxBcdxg3+co+8WGa2FZZ5s
        RprhMxkoiJVAwIRiN1pvHtpBZy2D/ocBq8J12t0u55+70/4Dwx2Xxyj+Fj5+nOOx5X41vIP+U2vw
        SfiwWN5Bvw/6I+BCEa7ad8MR9INF9d5Bgyn7w5t+4MwPDQW9YqOr8RuFeT+b/2W0/Ao6WLikm0zq
        VWN07qGjXtiMd5Nxqg02bDdhIZfdG9FZWI1Wi1CTJ9pFHJ2+Vowefi/DM6NYh1W094wmO+7w6Teb
        vaV4C7df+8egSRPIUcRXs35XODvd8zUS+CvE4+9Odv8CAAD//wMAG3FonbQLAAA=
    headers:
      CF-RAY:
      - 992cbbbd2f7f75e2-SEA
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Wed, 22 Oct 2025 23:21:52 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - sotai-i3ryiz
      openai-processing-ms:
      - '1696'
      openai-project:
      - proj_2kPLXdwNOjkHt3ifb0aZ4FwU
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '1718'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '800000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '799573'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 32ms
      x-request-id:
      - req_efc711e4ec224a50935619bee0521c62
    status:
      code: 200
      message: OK
version: 1
