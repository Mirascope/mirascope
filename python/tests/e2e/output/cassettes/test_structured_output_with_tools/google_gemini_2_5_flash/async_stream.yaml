interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"function_calling_config": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1115'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"get_book_info\",\"args\": {\"isbn\": \"0-7653-1178-X\"}},\"thoughtSignature\":
        \"CiIB0e2Kb8WetLeO+Q0simXAaXH0RlBINmgzolNw6Xiqo9QpCnQB0e2Kb20lJk/gUrtx6HeZ7DrI9ErNiegzZ5izVVoL3zFbCDndg+XBiH23s79PoVm7WWdX6+RpipdensniNrGMCqKoIQuwUwx2IfEtlWmquW+FHV8ADo/OQheorkR5z41tv5BrgBcOAoYG2z4p5QZwQVXWQwrBAQHR7YpvRxo5bAmSDBAr7qnSeW7h0TPGk2qdUZXKDVJiaLNf41zZFTgkQYXQYAIxhRIqUUuarvQvsV2gd65DwupoqnvsIy4+JcgigkRFJThYmTGmLT742TTQZiZRSin/CNPvZRwZP9uV17lIzvLlIJBZFMfe5Lfd5uwzpyY0VjIRTW4zpNoRvrjLBg1EoSpPiDA+ZEJJkWdyLITFpuJopIF9WZNTOs3BxsgZTGwlwh7dXWbEINLM7sGlP08WRfPx7psKqgEB0e2Kb3PlBxcFLg3zU6mpCpAvmzAgETH4XjKDamSFbO45ok2myeSWjSArJqHpADeimiQyRuNop5B4fIAsRy0XTp0QlrQpeWuqn39T4No6PalwNJCAbuLRIQwHGJULeywcf1GeTARHVOEQw0pfpgzuQ4/rdjPIYpAPaViURBnOik7T9UVTLkkYM+JbGYhJnVmdO2Kd0Gdk8socMz0b2l+ZRxxSFGqTaWy9NwrkAQHR7YpvPtkooUAMplvtWobMV0f2aXxiwalz/QbrS7PC/dYKk+ddbnq9LaFoNauwxkX4rIq0hsWMGJKkG/no4K94eKT+H8Y/ie+HNja3Xd6JKokzZ69giSVTVNLizdEza0Qes9Hgyed2XgR4dX3qvY0+njVa0eXU2ujyZaCb7fpyqw9mzsDwuf5LRgX1yiGnz7V6fMSTVpPqWpIZXbycWgpLrbPv/KWtdei5bG7eUlz/CesUzs6W0y7R1oAkdonbDOLduPJd6mmrbMHPFEB8Z+7flnoJ9vWkU8IVuqG3JBNLftbeiQr0AQHR7YpvXcn4gEGSFyJeY94/1XrpvsF8gTf/UYz9WSE6U/EL8aqZHiXcg7680nxqXSJLNf8V9uRUgVsXCQfRrxDayx3tAhgvD+TtAlC0tqNfq3Hy9QDf7qlg6IH3WDJwvWrnpAiKPmXw8q6ItCDx2AqqGlrF1tIq1ba3rsoB8D1qr6juj8Y3lBukzybTjLfu+qmrlyPLcZiPLKcSNR3cQWg8Flv6JZgMIIu8qYyJ+DFhMZB7EeHsiB7fg7SpLjrvumzwzxk01+ecOslogv7qYLdGM5EDPP+FDCtd4wFxJCQTO0BuGa7juzCD+5NyiG7PKe8x8ekK8gEB0e2Kb+M7R4uGnON0bCIIhI9DTo/IOJ5YvnyulcsJXz9kM2I/D9oWCVIWYgnr5koLu0MfhN/nu+uhnGvnysRZtNqy5YzZhkqh3O4QsiTkCv1QuXk1epRxLc7Q5m9m+dIvl0RbBwealThdgI9syuMWcS8C0TmjfzRJYpTiQK7Un8IQm9RZKHMzJD9t7PI1VKn14gkdfwNP+qwCzPJqt5uJPOWElKcupn+1jT0wlIX9iCHtzxA/2zPxCFsttEADai22TAcEDSRxixoxUqWIORixo5jhBwMFYUV6B9Z/MMVWXd8hDxhN1a6dKvIXZAz/gWMidg==\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        189,\"candidatesTokenCount\": 29,\"totalTokenCount\": 482,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 189}],\"thoughtsTokenCount\": 264},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"4XQKaculI-eEz7IPmrqeyQ8\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Tue, 04 Nov 2025 21:49:23 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2440
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"},
      "thoughtSignature": "CiIB0e2Kb8WetLeO-Q0simXAaXH0RlBINmgzolNw6Xiqo9QpCnQB0e2Kb20lJk_gUrtx6HeZ7DrI9ErNiegzZ5izVVoL3zFbCDndg-XBiH23s79PoVm7WWdX6-RpipdensniNrGMCqKoIQuwUwx2IfEtlWmquW-FHV8ADo_OQheorkR5z41tv5BrgBcOAoYG2z4p5QZwQVXWQwrBAQHR7YpvRxo5bAmSDBAr7qnSeW7h0TPGk2qdUZXKDVJiaLNf41zZFTgkQYXQYAIxhRIqUUuarvQvsV2gd65DwupoqnvsIy4-JcgigkRFJThYmTGmLT742TTQZiZRSin_CNPvZRwZP9uV17lIzvLlIJBZFMfe5Lfd5uwzpyY0VjIRTW4zpNoRvrjLBg1EoSpPiDA-ZEJJkWdyLITFpuJopIF9WZNTOs3BxsgZTGwlwh7dXWbEINLM7sGlP08WRfPx7psKqgEB0e2Kb3PlBxcFLg3zU6mpCpAvmzAgETH4XjKDamSFbO45ok2myeSWjSArJqHpADeimiQyRuNop5B4fIAsRy0XTp0QlrQpeWuqn39T4No6PalwNJCAbuLRIQwHGJULeywcf1GeTARHVOEQw0pfpgzuQ4_rdjPIYpAPaViURBnOik7T9UVTLkkYM-JbGYhJnVmdO2Kd0Gdk8socMz0b2l-ZRxxSFGqTaWy9NwrkAQHR7YpvPtkooUAMplvtWobMV0f2aXxiwalz_QbrS7PC_dYKk-ddbnq9LaFoNauwxkX4rIq0hsWMGJKkG_no4K94eKT-H8Y_ie-HNja3Xd6JKokzZ69giSVTVNLizdEza0Qes9Hgyed2XgR4dX3qvY0-njVa0eXU2ujyZaCb7fpyqw9mzsDwuf5LRgX1yiGnz7V6fMSTVpPqWpIZXbycWgpLrbPv_KWtdei5bG7eUlz_CesUzs6W0y7R1oAkdonbDOLduPJd6mmrbMHPFEB8Z-7flnoJ9vWkU8IVuqG3JBNLftbeiQr0AQHR7YpvXcn4gEGSFyJeY94_1XrpvsF8gTf_UYz9WSE6U_EL8aqZHiXcg7680nxqXSJLNf8V9uRUgVsXCQfRrxDayx3tAhgvD-TtAlC0tqNfq3Hy9QDf7qlg6IH3WDJwvWrnpAiKPmXw8q6ItCDx2AqqGlrF1tIq1ba3rsoB8D1qr6juj8Y3lBukzybTjLfu-qmrlyPLcZiPLKcSNR3cQWg8Flv6JZgMIIu8qYyJ-DFhMZB7EeHsiB7fg7SpLjrvumzwzxk01-ecOslogv7qYLdGM5EDPP-FDCtd4wFxJCQTO0BuGa7juzCD-5NyiG7PKe8x8ekK8gEB0e2Kb-M7R4uGnON0bCIIhI9DTo_IOJ5YvnyulcsJXz9kM2I_D9oWCVIWYgnr5koLu0MfhN_nu-uhnGvnysRZtNqy5YzZhkqh3O4QsiTkCv1QuXk1epRxLc7Q5m9m-dIvl0RbBwealThdgI9syuMWcS8C0TmjfzRJYpTiQK7Un8IQm9RZKHMzJD9t7PI1VKn14gkdfwNP-qwCzPJqt5uJPOWElKcupn-1jT0wlIX9iCHtzxA_2zPxCFsttEADai22TAcEDSRxixoxUqWIORixo5jhBwMFYUV6B9Z_MMVWXd8hDxhN1a6dKvIXZAz_gWMidg=="}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"function_calling_config": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '3114'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"title\": \"Mistborn:
        The Final Empire\",\"pages\": 544,\"publication_year\": 2006,\"author\": \"Brandon
        Sanderson\"}},\"thoughtSignature\": \"CiQB0e2Kb6dbMw9hxuayY77s+IEsKFbqAb7vVGMvO3l/Nvw0LOoKfwHR7YpvWuT2yk3qwuCas8nf/K5sH6s1v+urtILGInnq3EjVKN2elXa6Ym4m7VIvEzYTvcEuPnayv3O+Ca25UFwX53hM3g+d18HFuv6Nyy3kMGN3zKlgbz/ExfkXtdo7WSSAVTkOsjhEiNe4KeavYpPQ79b5Jnv1fATHpF90UoQK4wEB0e2Kb72d43uKfeoXeJPfkIHEAcSbRg//M12q9hP0NT53rtPks0IK7K+dGGXWKBoUp/Cj/Nr5OFt9R2feCyAc50PwxWKjqsRkNMkSLvXaHifo3TsxGgVeQfwNLOmwziY7R/DzBH3/p9BQoCkIq3n6JExVxkpx0BErcehVSiilGKK2iLPHFAyrTO4YGAUFOBL1kI0M1EotEbrAKn9US2qUfffhIeWaUhUHISWL5z/MOsMvVUnW4aBWgPjdD93m3BWXOc9ctAOiF4uUG9RipbIT64COzxW6BBx7pbUp4KS96Q9WhgrwAQHR7YpvFzHV55bXtvcD4q1ObE75HZYfyRfpccTnjNGYwtXOuMkxdZFEu7InhS3ruwccv3qYXFFxhjcNZ2QTHpeu1ZDB4w4DMeNOycl2mewB0hviSt47KwgR17n4WBEJvhgjGgSu3bieyQrbJmOkMQZEd7HUbjyDn0yFDfU95xKFmGAF4WULXdv5NFmiKP/pxA4gXWB0teBhAhzPMdafd3o2Z8nqUWFws5P+u+XYrS2ZlXQAFa/JEu3BM0/UDqD2oRcX09vM/JXdP7X7vpcDQxB0i15cufoDKvipOy/amFae31iQq5L49begDtsvd/+M0wqqAQHR7YpvkOMXPJzjKNGtJyYZFeZbtfqsXibQXdi+qVf//08Upki4aMJqbsElAH/ZIE+ZiZZEn+AjP/kcaP63PdVh5fRqYXp1XsN3PZ1BCjMp4kg6pbP2/bKpS7tnPn+hrMRGKOGio6m0rTYMHd+sfymBLiPC94LcJwjRGg70bwAWXEz4ycl2suv7zxXQiWycS/Xpqj9Jtc7RooBlINHPxxWnYmcajnqs9FDW\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        530,\"candidatesTokenCount\": 49,\"totalTokenCount\": 730,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 530}],\"thoughtsTokenCount\": 151},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"43QKaaS-M47oz7IP9PbR-AI\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Tue, 04 Nov 2025 21:49:24 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1403
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
