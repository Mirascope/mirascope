interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"function_calling_config": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1115'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"get_book_info\",\"args\": {\"isbn\": \"0-7653-1178-X\"}},\"thoughtSignature\":
        \"CiQB0e2KbwIFgDCNrMGSytg6JrDuDya60nOOEORX2b19/Mg0j80KhQEB0e2KbyApd2XsYiA4muj/h8otUG24G+Ev6m67DY/F5neqF0vzLHajcc19jS+lNDgYr+Crc2z9t9qxX6FPtNeKmIrNLmu10DZRziWnjp8WQLgjpaud/0vCSsHZPl41uYq63KPjKihs16P4mZOLUAnDKtIoAm7BWQEIDGQaT4Jaot/lsnQSCvABAdHtim/gdDfRfXYutSM908e5C5WriPOjZQbXisaaYAuLnapdsU9Mypy903ekvR9jgC7zw2vL2wD7edXj1jtY8bthR6hOzKZ4CVgoouTeBSj+pmc6xiyzA8gCfjJHjXQ7pagvf3uB2DpuaVt0M/x1y4E9sCcXP2yvk8sG+CMqNo/W/izKSHq4Rr/Ms+Pnyh0xETKQL/bL/gRQW6cdcqgOXMomSE+98yLgDzsJLRNIKB9FfNY1eCTrv6TEyYMPJewXulvV49ESBTYo1ajmHM1JTxGgC2Oz8n9INGEnpVtKswaHfc32i8KAHRLY3fXgp7SzCoECAdHtim85me5ipLjUna8IfWcAFTtI8aZp8kps4M3jygqX+nt+ZwlUHagoyoLDOts4qOh0g/Jv0Cv3CH76BCWTLp8VWEhgk7wxa74AG9FyMnoD/zlYIxtQqnnnoje0m36Vq6qjQrzkJR0Ph8iUobjK6eAs91K+vE3CBfstpwzSa2XEZzYkrTzj0fy6BBhmd4vhKG0jx5EsY/gmute1O22sjKQ2STMYyjPszyMXsQNMzxTP4o+qdFXWmWQ0Isu+11iw02CO8WFB6nRxUdQ6pOYf8dtW9tm/Xu3Awyo7jGyVWkCP/8f3/3MUOoR6+aoOI+A/z0OzcFC5/LFaCUGTfvB1ASgK2gEB0e2KbzNnek/QqfyzrAL4G+5RRHVnB0Vihuf2MrI1SlwNXUH4HhKw+F9sZKXNKWKy2RxI6udrdnBXmPpj+pXK8E1RLFsj9UhHJGvUbmU5pspueZF19geyOKzkjhPUaDM6vxr64U8tYTSTLxvsnFleCvWnxfQf98SEcW3phtfM9i2k69DMuvc4KOA02gSmrxfnRq5ozferBtLRMDw0rnByn58/o1cHWHCzCmWkUiWqRPlVWqP1cD/Ix9xxmWnajsHwSvO9omKeJuD1IWGouCHgulMOkPPlTDWTewrZAQHR7Ypvonsp1gjqaSdLVyvnHl61TDjup2ASXe6ut7xv9LT0a9Kl96HNdtVxl/2WlYc5xfTQEsAY8RZiYsYIDM0sIGriqpyW5UzJNkY1DToBE+QdUSRXjujfeEjFdQ1j6W5wdS1Td76PzEamtnHUQc7xfMhr1GybkTIsTVabdNanrCbabaJvN/VNSAHxBNvsuh1MtkghrBInnoOpBiD4dSKQFHffTZPiRhEUa4Ksc+WKPXha90g5clIVetvJRMyfFqJcMAkwPqrftqaWjDG0S6Q8Mz1zFFWRY7wKpgEB0e2KbxBEIogF9TnzWxc74vk7Gm4qNElOJ4Itx2iWCyp451Ic/REAQTYxg45ARSR4MSdLA4KyhMNSusz1A/YERzWq4h1r+N+yWd05nGtf3uHv/81Y81lK9M4AMnLgu0te0VeAy4RarfxO0V8MRHbzqb00r/e0VdB257cUlIPA6n1whr2KojeUjAGt3de73XHFPj/3uq1Q4dPV0VkntH4n21eWB824CqcBAdHtim/2ZfEzuKxDR6fJkOUr0/pQfJOwp3NeyR3muvU2CTg/LwgATRYWFiKyKi8yB6DvaMLHCvBc5Khwrpiom+21p6BMZNFRWVDLM19yLh9dqhtGRlAxE4KVzabuJXp5TwZUGn1hZDkgkdAbtFY0Yhalw4UQokqPjTMRdSGfAMv3pWwTtOzLmbKMwuCNN+j9XTiKx+9Krs4oyAM3q0yHe4rmIy1x1B8=\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        189,\"candidatesTokenCount\": 29,\"totalTokenCount\": 516,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 189}],\"thoughtsTokenCount\": 298},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"23QKafPtNq_Vz7IP7KW0iQI\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Tue, 04 Nov 2025 21:49:17 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2294
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Please look up the book with ISBN 0-7653-1178-X
      and provide detailed info and a recommendation score"}], "role": "user"}, {"parts":
      [{"functionCall": {"args": {"isbn": "0-7653-1178-X"}, "name": "get_book_info"},
      "thoughtSignature": "CiQB0e2KbwIFgDCNrMGSytg6JrDuDya60nOOEORX2b19_Mg0j80KhQEB0e2KbyApd2XsYiA4muj_h8otUG24G-Ev6m67DY_F5neqF0vzLHajcc19jS-lNDgYr-Crc2z9t9qxX6FPtNeKmIrNLmu10DZRziWnjp8WQLgjpaud_0vCSsHZPl41uYq63KPjKihs16P4mZOLUAnDKtIoAm7BWQEIDGQaT4Jaot_lsnQSCvABAdHtim_gdDfRfXYutSM908e5C5WriPOjZQbXisaaYAuLnapdsU9Mypy903ekvR9jgC7zw2vL2wD7edXj1jtY8bthR6hOzKZ4CVgoouTeBSj-pmc6xiyzA8gCfjJHjXQ7pagvf3uB2DpuaVt0M_x1y4E9sCcXP2yvk8sG-CMqNo_W_izKSHq4Rr_Ms-Pnyh0xETKQL_bL_gRQW6cdcqgOXMomSE-98yLgDzsJLRNIKB9FfNY1eCTrv6TEyYMPJewXulvV49ESBTYo1ajmHM1JTxGgC2Oz8n9INGEnpVtKswaHfc32i8KAHRLY3fXgp7SzCoECAdHtim85me5ipLjUna8IfWcAFTtI8aZp8kps4M3jygqX-nt-ZwlUHagoyoLDOts4qOh0g_Jv0Cv3CH76BCWTLp8VWEhgk7wxa74AG9FyMnoD_zlYIxtQqnnnoje0m36Vq6qjQrzkJR0Ph8iUobjK6eAs91K-vE3CBfstpwzSa2XEZzYkrTzj0fy6BBhmd4vhKG0jx5EsY_gmute1O22sjKQ2STMYyjPszyMXsQNMzxTP4o-qdFXWmWQ0Isu-11iw02CO8WFB6nRxUdQ6pOYf8dtW9tm_Xu3Awyo7jGyVWkCP_8f3_3MUOoR6-aoOI-A_z0OzcFC5_LFaCUGTfvB1ASgK2gEB0e2KbzNnek_QqfyzrAL4G-5RRHVnB0Vihuf2MrI1SlwNXUH4HhKw-F9sZKXNKWKy2RxI6udrdnBXmPpj-pXK8E1RLFsj9UhHJGvUbmU5pspueZF19geyOKzkjhPUaDM6vxr64U8tYTSTLxvsnFleCvWnxfQf98SEcW3phtfM9i2k69DMuvc4KOA02gSmrxfnRq5ozferBtLRMDw0rnByn58_o1cHWHCzCmWkUiWqRPlVWqP1cD_Ix9xxmWnajsHwSvO9omKeJuD1IWGouCHgulMOkPPlTDWTewrZAQHR7Ypvonsp1gjqaSdLVyvnHl61TDjup2ASXe6ut7xv9LT0a9Kl96HNdtVxl_2WlYc5xfTQEsAY8RZiYsYIDM0sIGriqpyW5UzJNkY1DToBE-QdUSRXjujfeEjFdQ1j6W5wdS1Td76PzEamtnHUQc7xfMhr1GybkTIsTVabdNanrCbabaJvN_VNSAHxBNvsuh1MtkghrBInnoOpBiD4dSKQFHffTZPiRhEUa4Ksc-WKPXha90g5clIVetvJRMyfFqJcMAkwPqrftqaWjDG0S6Q8Mz1zFFWRY7wKpgEB0e2KbxBEIogF9TnzWxc74vk7Gm4qNElOJ4Itx2iWCyp451Ic_REAQTYxg45ARSR4MSdLA4KyhMNSusz1A_YERzWq4h1r-N-yWd05nGtf3uHv_81Y81lK9M4AMnLgu0te0VeAy4RarfxO0V8MRHbzqb00r_e0VdB257cUlIPA6n1whr2KojeUjAGt3de73XHFPj_3uq1Q4dPV0VkntH4n21eWB824CqcBAdHtim_2ZfEzuKxDR6fJkOUr0_pQfJOwp3NeyR3muvU2CTg_LwgATRYWFiKyKi8yB6DvaMLHCvBc5Khwrpiom-21p6BMZNFRWVDLM19yLh9dqhtGRlAxE4KVzabuJXp5TwZUGn1hZDkgkdAbtFY0Yhalw4UQokqPjTMRdSGfAMv3pWwTtOzLmbKMwuCNN-j9XTiKx-9Krs4oyAM3q0yHe4rmIy1x1B8="}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "get_book_info",
      "response": {"output": "Title: Mistborn: The Final Empire, Author: Brandon Sanderson,
      Pages: 544, Published: 2006-07-25"}}}], "role": "user"}], "systemInstruction":
      {"parts": [{"text": "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in BookSummary format for a
      final response.", "name": "__mirascope_formatted_output_tool__", "parameters":
      {"properties": {"title": {"title": "Title", "type": "STRING"}, "author": {"title":
      "Author", "type": "STRING"}, "pages": {"title": "Pages", "type": "INTEGER"},
      "publication_year": {"title": "Publication Year", "type": "INTEGER"}}, "required":
      ["title", "author", "pages", "publication_year"], "type": "OBJECT"}}, {"description":
      "Look up book information by ISBN.", "name": "get_book_info", "parameters":
      {"properties": {"isbn": {"title": "Isbn", "type": "STRING"}}, "required": ["isbn"],
      "type": "OBJECT"}}]}], "toolConfig": {"function_calling_config": {"mode": "ANY"}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '3394'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"author\":
        \"Brandon Sanderson\",\"pages\": 544,\"publication_year\": 2006,\"title\":
        \"Mistborn: The Final Empire\"}},\"thoughtSignature\": \"CiQB0e2KbxPd5CcgC9zS8b7AzPNq8pz0867AHxTyw6Yix6DWVcIKkAEB0e2Kb+eC+j42kuMItXhim0bzPE+OqwZJBz0A3zKkglsPQbdeXoJ5obPyMPc4gevcQ9jQaOdlr/lhMHNgkmizpvAh+c7iFhsvrkw6IywuRyPK9GfeRzRmyf46kvavuojU10AEx+uuQLK8wnSOlnC1Q4Ib7X+GaGU40jwWEe3Ll7mXxTl8yWaLh3pIToGTbJgKxQEB0e2Kbxw6vIpvf5tUADHcLxpQxYzaFYb9bOWZqADaNydtRqP4P1xk5FnkSIbFM9IED/fsFucDW4Fu5I3pddXHaMh12lj60QDCN9GkW8tJXgs7TMO03EusXJ7yw/Zsc1TEEK/fZTr2Diu6XDbLyh7Qdwx4lDffSH8tyHFfp6YM+amdfxIpir7KHFCEyF0kASmwCv+sKsmB072Lh44rO0yz+whkqomKTuCaO6mllG3WqgVeDFAceu05KeRRxf6DhrAYxNwkxAq0AQHR7Ypv/dYlbtJKIS2ONQjSh75NKkRvhApys2cefvaelAq2YKpIu9jwkA3ttatC5bxdP4m0UJVYMeg4rZ2JBK6faeNUP72EEYJ+/aBgVSGp8JV6k6rFSRn2vLprNbW2MSgJFvV5IfD4GYr7SnwubBbBAO+O4kggX73dtStZqFBdZcHBcJEJOca5y5wI1tB4z67ReyACerA2IGgNugkURuEVl2SEcb0iQMbTyjF0j3iALXA4GwqcAQHR7YpvzAGWxZbeeaccd/8yrZB4t3GAtvJrjLzzfrWlv8MwPw032D9G9qPuOk5uJ4Eo4/8xs3KiHlFPmz9ZilprocIvA29e14p0zTfMDJ871ziguencMuH+c+3CPjwRT1VgL2LsagCNlE5EHeIEwdHJXa66zsbapXsUrEm4xaexwJbUGviHuPi2tnPtIARsDLz0LrQ4eUI6oLToWgrIAQHR7YpvtZdm771GMWr3vXftgAUyLB4TRcp+L6gEwXKx8GVkUNqn4F7vW9fUp/k1o4mixFFllpDnzLHLMI6kdKSdfQE2zuQnEl8dH8AUhEOiRPWttzaClr4XVrUH8Z10wLgKNbzpk6h9A6RwE3k0Od6pj1BSVwh/lxgWNC2CUQiZEMtyDvWZ2cWUeuZphDbzMcLDf/KMUsvuUqBfQ+2+miCwaqXcvgrOWIK4BxFD+L26XjkLyoU3xfkKx2wuvSim1tEvQ7gI9fwH\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        564,\"candidatesTokenCount\": 49,\"totalTokenCount\": 821,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 564}],\"thoughtsTokenCount\": 208},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"3nQKabyPDYSsz7IP_Le4oQ4\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Tue, 04 Nov 2025 21:49:19 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1947
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
