interactions:
- request:
    body: '{"messages": [{"role": "user", "content": [{"text": "Please recommend the
      most popular book by Patrick Rothfuss"}]}], "inferenceConfig": {"maxTokens":
      4096}, "system": [{"text": "Respond only with valid JSON that matches this exact
      schema:\n{\n  \"$defs\": {\n    \"Author\": {\n      \"description\": \"The
      author of a book.\",\n      \"properties\": {\n        \"first_name\": {\n          \"title\":
      \"First Name\",\n          \"type\": \"string\"\n        },\n        \"last_name\":
      {\n          \"title\": \"Last Name\",\n          \"type\": \"string\"\n        }\n      },\n      \"required\":
      [\n        \"first_name\",\n        \"last_name\"\n      ],\n      \"title\":
      \"Author\",\n      \"type\": \"object\"\n    }\n  },\n  \"description\": \"A
      book with a rating. The title should be in all caps!\",\n  \"properties\": {\n    \"title\":
      {\n      \"title\": \"Title\",\n      \"type\": \"string\"\n    },\n    \"author\":
      {\n      \"$ref\": \"#/$defs/Author\"\n    },\n    \"rating\": {\n      \"description\":
      \"For testing purposes, the rating should be 7\",\n      \"title\": \"Rating\",\n      \"type\":
      \"integer\"\n    }\n  },\n  \"required\": [\n    \"title\",\n    \"author\",\n    \"rating\"\n  ],\n  \"title\":
      \"Book\",\n  \"type\": \"object\"\n}"}]}'
    headers:
      Authorization:
      - <filtered>
      Content-Length:
      - '1271'
      Content-Type:
      - !!binary |
        YXBwbGljYXRpb24vanNvbg==
      User-Agent:
      - !!binary |
        Qm90bzMvMS40Mi4zMiBtZC9Cb3RvY29yZSMxLjQyLjMyIHVhLzIuMSBvcy9tYWNvcyMyNC4xLjAg
        bWQvYXJjaCNhcm02NCBsYW5nL3B5dGhvbiMzLjEzLjMgbWQvcHlpbXBsI0NQeXRob24gbS9ELFos
        YixuIGNmZy9yZXRyeS1tb2RlI2xlZ2FjeSBCb3RvY29yZS8xLjQyLjMy
      X-Amz-Date:
      - !!binary |
        MjAyNjAxMjZUMTI1NDI0Wg==
      amz-sdk-invocation-id:
      - !!binary |
        ZTVlOTA1NTktMWFiNi00MGE3LTlhN2MtODg0ZjE1Y2FmZjYw
      amz-sdk-request:
      - !!binary |
        YXR0ZW1wdD0x
    method: POST
    uri: https://bedrock-runtime.us-east-1.amazonaws.com/model/amazon.nova-micro-v1%3A0/converse
  response:
    body:
      string: '{"metrics":{"latencyMs":313},"output":{"message":{"content":[{"text":"{\n  \"title\":
        \"THE NAME OF THE WIND\",\n  \"author\": {\n    \"first_name\": \"Patrick\",\n    \"last_name\":
        \"Rothfuss\"\n  },\n  \"rating\": 7\n}"}],"role":"assistant"}},"stopReason":"end_turn","usage":{"inputTokens":273,"outputTokens":50,"serverToolUsage":{},"totalTokens":323}}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '355'
      Content-Type:
      - application/json
      Date:
      - Mon, 26 Jan 2026 12:54:25 GMT
      x-amzn-RequestId:
      - 98df55ce-2897-4eb8-8417-3979d5acf794
    status:
      code: 200
      message: OK
version: 1
