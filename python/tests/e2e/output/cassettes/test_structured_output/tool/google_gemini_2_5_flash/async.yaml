interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please recommend the most popular book
      by Patrick Rothfuss"}], "role": "user"}], "systemInstruction": {"parts": [{"text":
      "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in Book format for a final response.\nA
      book with a rating. The title should be in all caps!", "name": "__mirascope_formatted_output_tool__",
      "parameters": {"properties": {"title": {"title": "Title", "type": "STRING"},
      "author": {"description": "The author of a book.", "properties": {"first_name":
      {"title": "First Name", "type": "STRING"}, "last_name": {"title": "Last Name",
      "type": "STRING"}}, "required": ["first_name", "last_name"], "title": "Author",
      "type": "OBJECT"}, "rating": {"description": "For testing purposes, the rating
      should be 7", "title": "Rating", "type": "INTEGER"}}, "required": ["title",
      "author", "rating"], "type": "OBJECT"}}]}], "toolConfig": {"function_calling_config":
      {"mode": "ANY", "allowed_function_names": ["__mirascope_formatted_output_tool__"]}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1178'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/21V25KiSBB9768wfNoNZkbuwr4JioAoF0GFjQ2jhBJKuQmFqBPz74t294zdMzwQ
        RZ6Tl0oiT35/6fX6IcgjFAEM6/4/vX87S6/3/fG+Y0WOYY474N3UGUtQ4V/c1+f707mj7Js8xKjI
        ZZCmH5zf8BxksLP3t9sMVaAOixJu90WVAYxhtC0aXDZ4i4si3W77Xz47gyqu/xC0QyqAUR532PCz
        092twUlR/dHxXjGqarx9r8sCuELh8bfcD2oKnphOgZN9U9f935g//lADRjh9uLnqpLcYzSc9U+nd
        z2ttMf4c4seH70/h+t1lmjjBSxTnADfVI6pc2sooUjHKRGO9oQfWJCPHjFBA0SHmeW0SdruzD61r
        c40vjUdBg2hS0oCvpvH80tAUS5aq0tL6FV7mZbXQqtI/cTUXVCAx1ELTnGBReK1NRtOdu1uO7LzV
        DshqDDGlosuAPnTYMloRimau1hmcjZSrqdSNvDQHpiRJ8nR1qCttxZqhReaQvI2jltorae3zoqAY
        ArsLp4AJY5qnh8Ekoy94yIHctKVitBLcYJj5Mqm16npvmOdz6QaUsEbGzeClc5zOru0Y1kxGVhYO
        Nry65ozjhBi6URPPdwYQ2QYax0VyFmJiOqWckZ+WaUkWGyfGN8Yb+LJhHOY7PzQdpU6HiUjRF1TK
        hLZauEPrgHQ+A+PgIrgZOk4lndykSbaf3maT2TlPEDE9OCNckia7YWZUJYVSGlzXbKF3VzL2LTfz
        EeWCEenJh2ZX2Dkxu0QiDsaphMVRkM2ihhan7I6+lFyFrxoDdyeePw24q3obFbmpZHpz5mY7m5A3
        tlzfLkOH9Dir5cR8LsJAcJQLP72snKGrulVSZQuRFg9eZaLBiuRJuI7TXA+b9sLBE2ssp4ZN5YjL
        YoaRrI2uW5hA5ZKvxmJiUWht283JWIthhXhdHsQ4XYPofM73Dhsq9GWi+MPBYTNUIla4nbhNFu32
        5fgqEFHLLVtJ8Fe84C1DewED7QoKYlj5XJ4H+s32yPGq68Ip9TzjkqlqttZ2g8n4HEWCo59EThEC
        qqELBwFOlXiz9I4bpnaMiBJQstRcgk9P11mXWpow7qjxtVkTH1OpZMoRtoWaWCDhaOjTtMjBSZkd
        cO7emlu6YjwxZsBSNXhPy/a+T08kMEiKXXnzopKI5jLL0BE0WFWkOTMKwqXcbCTvdmOpfcjEbXnT
        tXGitBZhDbyDTkzMvWohbnENdHKRSrXnX6/PU/trYv/7Na39qnid+ayIYPpO/znOnfLkqE4cCOoi
        v9OWrmn9FJ4+yiN46czkJ/4c1jWIH3Hn97i9GOaw0z8Y9d7Ftxd26vtX/fe315z34h5l9Zu75xxi
        0Kk++CmI/bIqshK7xRHmctE8VJ+m3pT0aUt8ILDiG44LDNKPEMN9+S1wPe7SovR5fTxtlq5DIEX4
        +lDIycZ90t8uwce63vv48tTud1H8WCPFiy9vDX/9BytY1ei12THMunZ+pb9xX/edriePjP0K1mWR
        11CL7hx1482An8gHdm/V8TZsza02svsvP17+B+oIyJ1ABwAA
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 04 Nov 2025 21:50:21 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1854
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
