interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please recommend the most popular book
      by Patrick Rothfuss"}], "role": "user"}], "systemInstruction": {"parts": [{"text":
      "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in Book format for a final response.\nA
      book with a rating. The title should be in all caps!", "name": "__mirascope_formatted_output_tool__",
      "parameters": {"properties": {"title": {"title": "Title", "type": "STRING"},
      "author": {"description": "The author of a book.", "properties": {"first_name":
      {"title": "First Name", "type": "STRING"}, "last_name": {"title": "Last Name",
      "type": "STRING"}}, "required": ["first_name", "last_name"], "title": "Author",
      "type": "OBJECT"}, "rating": {"description": "For testing purposes, the rating
      should be 7", "title": "Rating", "type": "INTEGER"}}, "required": ["title",
      "author", "rating"], "type": "OBJECT"}}]}], "toolConfig": {"function_calling_config":
      {"mode": "ANY", "allowed_function_names": ["__mirascope_formatted_output_tool__"]}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1178'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.48.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/21V25KiSBB9768wfNoNdgZFBN2IfUBAUERAuSgbG0ZxvxZIFd4m5t8X7ekZu3t4
        IIo8J/MkWREnv730en0fwCANAA5R/+/ev12k1/v2eN+xCuIQ4g54C3XBGjT4F/f1+fZ07ihRC32c
        VpAHRfEu+QcOQRl28f7hUKYNQH5Vh4eoakqAcRgcqhbXLT7gqioOh/5fH5NBE6PfFL0jLU6q5rfY
        vam0QfjwJq0D3KR+/qn8g1qAJ+amwknUItT/xPz+ObmPU1w80kxZ7K05Vexp89797CzWwm/U+g3A
        KYy7DPYD9v3d9wetfvenbZzgbRpDgNvmIcnjeM4FMk5LcqfMAlptaXYknIEvxGYq7ZzSWjNwn7H+
        XhGH2kmydgIkFcGolEAjc53iT85ixMrTuJRM01xSq5xjrBCGYpBfVGW4EiVgsMnsRI4aH80VXm/E
        YLUfQZid3KghJ+neqKXjeOCemBXn80JrHXf7xV44Tpej2FHjsaDRnm6QBi8lcqafklNRykFheVru
        zceYuK6cC4wlbcTdUDFEg0ma87ujX2Q3baeYi6bG3MrgjzxjSs04H6yuxHZeEtPxdBl7do2SiySJ
        ks4KVIu2y2iqCitlNN8KbTyazDrVjWN658bWC1sSdF2KgtMYTjNXaOh44NsZ0M4SWhsq45GGm7OE
        eWprc0nSwDlPz5CK6GuRpp5FBuL5al9bHFwGUNDPoiNkOjfnmBs0NyVl1aJdLS5WvPMvTDgH8Ybm
        68japxdxSCU12uq3rXOsruUUXYUEueI68lo/woUvyfLx2nitdmOIW7YnLrqraKRIGlN+P/IjZTvW
        WP0yg1YbbHl20bhLSGwya+NuYcDsRoitkG5De2gkLLplZkytcZyJ8nCKWmpNJRsvFObYmjmCaFj0
        qL6R8jwVVEFdXUbFUYtQGCVcBjgutU7jeazY6lG3WN9wfK+2mAm2RUWQ6GVI11wrLsyyREgKyXwv
        7osq1wUZcSXnrgqmpDRKoyVyINDtbLBjx0sOnjOXvelb15EHK8kVCSIOjVmLIUAhMjCfjXI1QMZ4
        RU5MeT22aPsaUyVY2+HSCIlQzE8XQkzNgbjUBsJxHBUoo921A0lmOp5xgpydVB/WM8MeC5tEunR3
        KJXLTNtclzkiz3i35Xf4xG1cwq2CNVnEGJFksZhrZdRmWrAVDe1yC0s9ldBSafSmmFxVxUxdkdvb
        12oTDfVMTlZzZ7hnCbDKQcsZKlf7fm4faU8sCg9T7KbQy4QbsKBmmbUptzyaxQNXiyhi5MSkvzhy
        DjvMRnWlMzbh8nh30sBl4W1Zzw9s2JS3rbqwTGk6Pxt7ZaBPhwSh/vPsOL/c4L9fTtBvqlezKasg
        LN7oP62iszyYomQTAlTBO21ravpPD+qnMAgvXXjwga+GCIH4UVe91+3FnQd0NhUGvTdj7/mds/+B
        /vz6qnlv7tFWv71nqiEG3UYBP524XzdVWWOzykPIV+1jo1BD9lX3aQO9I9DTHziuMCjeQwz916fC
        SOhk0+J5NT1trW5CoEjx9WHN4s58suJO4H1fb3N8eRr3m+G+73E4nbz8GPjrHdhhg9LXYcdh2Y3z
        C/V1/CXqFkryUOw3IaoriMJFcOdg2VCAz6N59QXd2IVOr64eY6j9l+8v/wO2h416nQcAAA==
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 04 Nov 2025 21:48:36 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1928
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
