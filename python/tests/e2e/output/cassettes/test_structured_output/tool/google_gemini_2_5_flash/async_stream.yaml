interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Please recommend the most popular book
      by Patrick Rothfuss"}], "role": "user"}], "systemInstruction": {"parts": [{"text":
      "Always respond to the user''s query using the __mirascope_formatted_output_tool__
      tool for structured output."}], "role": "user"}, "tools": [{"functionDeclarations":
      [{"description": "Use this tool to extract data in Book format for a final response.\nA
      book with a rating. The title should be in all caps!", "name": "__mirascope_formatted_output_tool__",
      "parameters": {"properties": {"title": {"title": "Title", "type": "STRING"},
      "author": {"description": "The author of a book.", "properties": {"first_name":
      {"title": "First Name", "type": "STRING"}, "last_name": {"title": "Last Name",
      "type": "STRING"}}, "required": ["first_name", "last_name"], "title": "Author",
      "type": "OBJECT"}, "rating": {"description": "For testing purposes, the rating
      should be 7", "title": "Rating", "type": "INTEGER"}}, "required": ["title",
      "author", "rating"], "type": "OBJECT"}}]}], "toolConfig": {"functionCallingConfig":
      {"mode": "ANY", "allowedFunctionNames": ["__mirascope_formatted_output_tool__"]}},
      "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1174'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.31.0 gl-python/3.10.16
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse
  response:
    body:
      string: "data: {\"candidates\": [{\"content\": {\"parts\": [{\"functionCall\":
        {\"name\": \"__mirascope_formatted_output_tool__\",\"args\": {\"title\": \"THE
        NAME OF THE WIND\",\"rating\": 7,\"author\": {\"first_name\": \"Patrick\",\"last_name\":
        \"Rothfuss\"}}},\"thoughtSignature\": \"CiQB0e2Kb8NON/k9S7JcYMpCTDvLPCw8aLvG7jubMV0Zy9e3sLYKcwHR7YpvfjiClqYIIxnA2gr2wWtAAISmbT9lRhed0JZNxOca3JdAIAVmFMbXbSpJ1HrP2lGBCJngTW01LhDz/6HiVwqF7BqBZ8LDai0HuVQNwav2u1Q2OVHa/kDv6dwCP2671tx6n9ilMg1zIsR+jFEQVbYK0AEB0e2Kb74PY/HKVmgK5eWEil0bzpbD4WzjmSeih0r/GBSNltCZRjF4cWThNWH6EWIrckaAauJlmJqCz4N5NhwU2hy+5Nr/PJv3fv4tuu4qYTpf9j+bWqJoOE9RQ8eJGRo74pyRu+uBif2gL9SKKiUSbqk+xqUTLBc4gqoCB7iak4NLBAUdypqRzoyWlqCrI8pWL3/tI6DaRfML2INi15v9EwNOyJIXAgiOSzS7WVkorj1ThxbZVO+ez3cjJ1Lqb6v6AM+T4yzzUbpNC5J3yT/XCsYBAdHtim/qcHNDyotL50sp/wH6uzPMJa0p7hY8BRFK9yToSPijGRvi/dC1rLpW4LYMXt/4jq2dLsWdRmAn4rEWEEHIxnzxVnYD+r21WPDA6Q2y0r5MvtDtMqdOApzpUM6I4OlVsvzkXGuCxMGja6W/uio5PMh6tnbd/geMz3eF9+daJdwRqznO9fnOR9Z5oAE3xwsJCiFDk4lz6oSb5psOqljGz23GZBDKc+Wt9gcsQxexGX7k0T+bOZRmNPV29Cm+wfJUyg+4CoUCAdHtim+qKfir0dF3D9ojbvUIWawpuFyCzGfz87BYqzTbsQSiSN/bkBbD8gyr8yf4/UmiE9h7LTWncCs9Dj450+XynUsM7WGmN0WF7wYsjbUPCZ3kt12pOHC12O6ok8ouZSwsLcgEaJFvRGVtO6h3e+/6Ad8k0XI/+daFkTb32rzEriY5L2wdkwdRsQi/2TyLXiGhqCAEufWj/08vMazqxsDQZdbGLRPIl2ULxumU/YWRod48fEExpwTUiscH/rDmuG+h5Edo3tqfcXwQQ/xLPCLkl8JbZFuefifPytsxMOtoG0bQueT5J5QeSxNSsIDTuYTeBZRUx/rK67lZxUPoFPtqAAdwCtEBAdHtim/ikD5pv8lCM+hW1P6ND2ia1Pngx73LuZGoGj8u3lh/KIImVfAZoMtCSUU94uCP08CaoIWNrvopeiSfYu2ZvpfsITV1wVbjB89iWY3fiqnjaU9i0BJaCFc/Zj+/yvVKdK6CVrrM9GM5vis4aIkVn7JjJwoBXjJVhj5LWVNxdpiGbdrZyCuyPT8Wsz+gSKlrfInILssj3rlEzOBr14dHW7sGTF5bHOsIeeAuzb4Y550zFhb4JWD/qJif0HULh5Vt9Uv6Qu+2ZS/c8zIJtZwKxwEB0e2Kb/NcwVjK43Ges7qZDMhOBVU9FVDlhpAK+MR4wGZVRdjNZTw4KAyvxicfGFkh6dj2WSMMPw4bCWomJiI95R8JJ41GmbAy8RXsNzlh28a8mpbAA3vosVYKCes1plzd1m5lkVPR5eEyIZhvF68sezGKjapppJCEhbGNuMfOoFqA+ScCYUYGca95PLmc2zJvgS87F5nGWH5bB+M9baE1pifGnnJPCXTZ/kYBub985IGAjvh3/TTSYFGWKJ5fGbq+MJ3MTHPF\"}],\"role\":
        \"model\"},\"finishReason\": \"STOP\",\"index\": 0,\"finishMessage\": \"Model
        generated function call(s).\"}],\"usageMetadata\": {\"promptTokenCount\":
        217,\"candidatesTokenCount\": 49,\"totalTokenCount\": 533,\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 217}],\"thoughtsTokenCount\": 267},\"modelVersion\":
        \"gemini-2.5-flash\",\"responseId\": \"b6LyaPqOG-Wez7IP1P6B6Aw\"}\r\n\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Disposition:
      - attachment
      Content-Type:
      - text/event-stream
      Date:
      - Fri, 17 Oct 2025 20:09:21 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=2429
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
