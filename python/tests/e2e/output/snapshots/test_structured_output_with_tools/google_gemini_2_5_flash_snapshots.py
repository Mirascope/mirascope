from inline_snapshot import snapshot

from mirascope.llm import (
    AssistantMessage,
    SystemMessage,
    Text,
    ToolCall,
    ToolOutput,
    UserMessage,
)

sync_snapshot = snapshot(
    {
        "response": {
            "provider": "google",
            "model_id": "gemini-2.5-flash",
            "params": {},
            "finish_reason": None,
            "messages": [
                SystemMessage(
                    content=Text(
                        text="Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output."
                    )
                ),
                UserMessage(
                    content=[
                        Text(
                            text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        ToolCall(
                            id="google_unknown_tool_id",
                            name="get_book_info",
                            args='{"isbn": "0-7653-1178-X"}',
                        )
                    ],
                    provider="google",
                    model_id="gemini-2.5-flash",
                    raw_message={
                        "parts": [
                            {
                                "video_metadata": None,
                                "thought": None,
                                "inline_data": None,
                                "file_data": None,
                                "thought_signature": b"\n\xd5\x04\x01\xd1\xed\x8ao\xa9\xe0\x1d.\x15\x01\x10s\xd1J\x14\xea<u\xd8\xe0\xc1\xc7i#^\xf8\xde\xbeQ\xa1N{\xddc\xbb~:\xd8q-\xfc;\xe7\xc53\x15\x1e\xe3MUq\xf4gJ\x86\xe1Q\xa5\x8c#\xefx\xfeo\xde'd((8\xddI'5\xc6\xe6\xff\xbb:%\xf6\x07?\x06\xb0(%!\xc7\x01Y\xd0\x8b\x04VE\x04\x91\xaf3\xca;\xb2\xcb\xf0\xbf\xdb\xb9\x88S(4\xa0\x0e\xfd\xdd\xd1\x9a\x96+\xb0\xba\x8b;\xdd-\xae\x9c)\x0c\xf97c\x90,\xd4\xb5[/\xa9\xad\x85\xb3\xe2\xcc>5i\xaf:y\x9e\xe0\x05*\x96B\x86k?X\x90\x12<4\xc9\r\x87\x0f\x88g\x08d\xd0\">\xad\x90\n:\xc0m\xc7\x1c\xd8\xaa\xe8X\xb1_\xf3\xc5\xf2\x93r\xc7\xd5-\x92\x9f+\xec0\x12\xc7v\x1d\xf3x-\xe8\r\xb9=\xb3\"\xbf{\x81\xe4\xcc?3\x85\xc1\x92\xd8E\x91w\xaeaX\x91d\xc4\x90\x1f\xa5\xeb[\x10b\xf5P^\xb5p\xf6g\xfdh\xcb\x82\xab\xe5\x19\xfe\x85\xaf\x00\x80\xa63\xc6\xbc\xde\xc6\x9e\x03\xd2\xe9\xa8\xa6S\xdc\x0e\xdcy\x13\x84\xe9\xfeQ\x1b\x1c-\x0f\xc4*np[\xb6\x9cMl\x8d\x8b/\x15\x04Er\xf9tg\xec\xcf\x01\x8e\xcc5N\x12|\x87j\x94B\x0e\x9ff\xe2g\xc2\xb6\x80\x04x\xe6~\xac\x84-6\x18\x06\xe1\xe4\x91\x02c#\xdc0?R\x1a\"'S\x81\xab\xf8\xa6\xf2\xeaT/\xb8\xdb&3\x13\x90\x949\x9d4.\x10\xddX\x96r:\xad\xde#\xf6\xd7b&b\x14V\xfbc\xb8\x97\\\xa4\x04\xba[\xd3\xbf\x94z\x0f\x98`~\x11\xdc\xbaz\xd7\xd6\x18&L\xe6\xc2\xb0\x9cI\xbb\x16}\xa9\x96\xe4\xa70\x02\x10@\xca\x03\xf2\x02\xd9T%a\xc1\xfd\x96U\xa8\xbac\x9e\x1b\x8b\x848YL3\x8f;\xd1\xb2):\x85d\xe7\xd3\xce\xa1\xa6.\xcc\x10\xb2\x96\x9a\xbbS300\x02\xa9\xfe\xfc\x0f\xc9*\x89\x16\xb4t\xf1\xba\x92Ni\xae\n\xfcqtM?\xb1\xcc\xb2i\xb1\xaf\x16\xc0k;f%4\xf8\x94\x15\xc5\xe0cZ\xe7\xa2\xc3\xe97\x96B\x7fW\x04\x8d\xdd\xb2\xf9\x8d\xbd\xb0Mj~\xba\xdf\x08\x95\xd5D\xbdn\xa5 Z\xe2\xfd/\x19\xa5\xc6\x17\xa1\xb85\xeb#j+\xd9\xa4\xb3Fb\x9e\x80\xc9\xf2\x0b\x1chB\xb9/&\xd1`\xd0\x0f\xc1\xe0EY\x04\x0b\xfa\x1b\xc8)\xaa\xa7",
                                "code_execution_result": None,
                                "executable_code": None,
                                "function_call": {
                                    "id": None,
                                    "args": {"isbn": "0-7653-1178-X"},
                                    "name": "get_book_info",
                                },
                                "function_response": None,
                                "text": None,
                            }
                        ],
                        "role": "model",
                    },
                ),
                UserMessage(
                    content=[
                        ToolOutput(
                            id="google_unknown_tool_id",
                            name="get_book_info",
                            value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text='{"pages": 544, "publication_year": 2006, "title": "Mistborn: The Final Empire", "author": "Brandon Sanderson"}'
                        )
                    ],
                    provider="google",
                    model_id="gemini-2.5-flash",
                    raw_message={
                        "parts": [
                            {
                                "video_metadata": None,
                                "thought": None,
                                "inline_data": None,
                                "file_data": None,
                                "thought_signature": b"\n\xe9\x10\x01\xd1\xed\x8ao\x1cEe\x04\x1b\x8a\x1b\x073\x93\x17\x80\xde\xa4\x07\xdd\"N\xdd\t\xa6\xae^\xdf62W}B\xf9I\xf5\x98V'!\xbd\xfd\xc9\x88H\xb8\xde5\xe7n\xaf\x9fL\x86\x99\xcfkJ%\xbe\xb4\xc9\xd0s\x81\xd3\n\x15t\xa4}\xe9\x89\x01\xd1e\xefux\xda\x11@\x06%\x89\xd1N\xffIX3Sh\x00\xd3`\x88}\xf0\x8f\x01\x1eK\xc4<\xae\xc4C\xd0\xa6\xf0\x18\xaf~\xc3\xa8\x03\xba\xae\xa44\x00\xf9p\xafS\xa4\xb7'\x02\xeblI\xf9\x08\xf0i\xa3\x8d6\x05\xabG\x90-\x1e\x96\x0f\xde\x90\xf9^[\x8fR\xf43\x10k\x1d\xbb\x00\x00\xd2\xe6>\xb3\x94.\x1br\x1bB4\x1f\x90\xc4m\x17\xba\x9f\x7f\xaf\xddx\xb4\xfbF\xc6\xc7\x998\x1e\x9cZ\x96\x1dwu\xc0i\x85\xc5l\xe4\xd1\t\x1dK\xd7T\xea\xd4\xd3\xcf\x046}N{\xf5\xf2\xa3J\x01\xcbs\xa7$\xe1\xf4\xda\x1e\xd1\x15\x9f \xbd\xc8\xae\xf0\x9a\xdd\x07\x86qr]Y\xc8ot*ih\x8a\x88\xe5f\xe8\x08\x0fd\xb1#)\x8ej;z\x96[\x83\xcd\x8d] ]L\x0f\xf1\xb3\x94-\xb2\xbe\xe4)@#\xbc?\xd6#\x01: \x14\x14\xe2\xf9\xb8\x04\tJ\x0c(}\x15\x9e\x8d\xd2t4\x04\xca+\n\x92+\xc3\xa3\xd2\xfd\xcb\xa3\xbf\x81N\x96\x16\x9c\x83\x8b\x8c&\x95\x82s\xfa\x05\x15\x12\x1d\xadC\xb2\xff\x82E\xee<$ \xf5g\x7f\xa0\xa0\x9d\x06\xa9W\xaa)\x1d\xeed<u;\x83\xbb\xa2\xad\xfe\xf0\xa2\\RlG\xc8'F\x94\xd9\x83\x01\x13)\x86\xe9\x8b\x1a1\xa9\x94\xd5T\xd3\xd3\xf8\xcf\xd2\r|$\x9f\x9d\x0e\xa4\"\xb0EIj@\xba\x1dGO_\xde\xe8\x9d\xae]\xb8\xaf8\xa0x\xad\x8d\xc1\x00\xd7e\x7fS\x04\xaf\xaeT*\x01\xe0\xa3\x1a\xa0\x98\x91\xd5 z`}\xe6\x82\xc5\xce**,D\xef\x87\xe7~\xab\xbdY\xec\x9e4\x0b\xd4\xaawQ\x0b\xe6\xa4\xd2p\xcc\xd9\xee\xe7\x8e\xf9N\xdc\x9a\x8c\x8f\xee\xc4ic\xe3k\xfa\xe6\x8c\x99M\x0e#\xd3\x7f\xaa\x07\xb0\x93+G\x7fq\xc0\xddQJ\x8b\x01\"`\x19)\xcb4\xf9\x15\x9b#6\r1\xf6\xb7\x80h\xde\x87\xf3\x9e9\x9fq\x8b\xb8\x1cZ\x9f\xc4\x10\xc3\x82\xa8\xfc\x05\x16\x94/\x85\x96;\xa9\x11\\j\x96\xf8\xc61iv\xba\xf8\x06)@\x843\xa9\xdaS\x15K\xd7*\x80V-\\\xb9\\\xd9\x13:\xd4\xbaXn\xa3\x80\xf4yN\x91\x8c\xc9^\xf4M\xb8\xa8\xa3\xd3\xc2f\x063o\xecoX\xb4\x91\xc6\x91\xe1\x99\rr\xc2\xb6H\x93\xef\xbfR,\xf1\xd3+]\xf5\xc2\"\xa0\x82\xf3;IjTb~\x83\x7fm\x02\x10\xed\x8f3\x88\xe9\xd7V\xd4\xadg\x17\x8d\xe1\xb6\x05\xb3/\x06\xb3\xcb\x0b\xe3})\xdf\xa9f\xaeZr9L\x86!h\xe1'\x9e#\x1eob\x16E\xd1i\xce\x14\x08\xfd'\x84]M\xf9\xfaC\x8a\xe2\xce \x98\x93|\xc0\x14t\x8d8j0Sv\x8b\x91\x8f\x86 \xad\xff\xe4\xac\xdd\xd15\xce^gG\xaeSn\xe2H\x97`\xc8\x0c ,\xdb\x87\x85\x0b_eW\xf8\xf3\xfe\xe7hk$,\xbc\xe3\xb4S3\xf1F\xaa\x9f\xa7\x92*\x8a\x98b\x07\xd0\x91\x0c\xe0G\xe0\x9f\xdd#9\xe7\x0bk\xb9Tg\xf0\x00{\xf6}\x8c\xea\x00\xdd\xc8\xc6\x8e1\x07\xed\xb4\xe4\xe5\xfc3\xe4\\^\x16\x87\xc0F\x12\x99\x15\x1c\x90\xd8\xb1\x9f\xf0\xaf-4_\x86a\x83\xd8I%\x81W\xbb\x14\x8a\x9b\xe2@\x9e\xee\x1a\xd2aID\xf2&\x81\xe6\xb1=R\xb1\xc6\xee\xb7\xd1\x06\xef\x90\xacF\xaccr\xc0_\x8c\x9c)\xfd)\x8eX\xc6\x0f\xc9\x06\xae\x7f@%`\xce\xffIxP6\xc9\xe8m\x00\xdb\x02x\xab\xbf\x92y\xd53\xfd:RL\x89\xd0\x08\xfd\xb7\x928\xe2\x1e\xdb\x0edZ\x97\xac\xf5\xb6 \xd0t4b\x90y:l)1\xa2\xf2\xabG\xd4]\x0e\xd1\x0e\x80\xce\xdd\x80\xa8\xeb\x1f\xd7\xa3\x9e\x10\x9c\xfe\x10\xfe@z8\xab:\x91\x02\xb2\x7f\xc0@+\x02\xd7\x93\t Y:\x03&\xef\r\x92\x99\xb1\x08@\xae4AG\xd7mR\x97\x8coO\x9bi/\x05Aq\xaa\xcfX\x0c2G\xf4\xc8\xd84-\x1a9PtY\x98xN0\xe5Ab\xde\xe8#\xa4vd\x948\x18z\xca\xc6\x8b*\xd2\x95hT\xbf$\xf0\\\xe6\xc5MUx~\x13\x01\x9a\x9b\xa1SM\xb8\xdb4\x1eA\xd6\xaeZ7\xf0\x17\x0c\xb2!\xae\x05l\xa0\x18\xb8g5#\x8a\xd2\xa4\xfd\xf8y#\x1a\xc4\xa6\xc6@\xeei\xcf\x07\x98\xc4\x14\xe0\xfe\xb7\xea\tIj\x97\x1f\xe4\\\x85F9@vd\x9c\xc3&\xe5\x89\x17\x17R\x92\xd8\x92k\xfb\xab\xfeVRV\x00\x1f\x8a`\xfe\x12\xc0\nhQ\xc6\xc2J\x8e\x1c\xd9\"\x18\x05\xbbJ#0W\xb8\xf3\x81\x0b<\xc8j\xf3\x13\x87\xaa\xdf\x08w\xb7K\xd2\xb3\xd7\xff\xbev\xdd\x9c\xf1rK\x0bO\xb3\xef&W\x96\xe6\xc5\xc6\xd7\xde\x16\xa0\xf7\xc2dE\x94\x91\x16v\xe9\xe9k\x7fY\x82\xb4\x03\xfd\x1c\xf4\xb1\xe5R\x98\xc4\xed\xd4I\x98\xd0\x1a\xdd&\xa5v\x8b\xfb\x9f\x92\xd0\xb4\xaeiT\xaa\xa1\xf28\x80\x1bp\xa44\xfc\xa7\r\xdf1C\x90\x1e\xd5\x15,\xa0z4\xac*\xbe}\xbe?/6\x92*'\xff\x8c\xc3>#\xe0'q\xf4\xa6\xbe(\x8e\x8a\xf29w\x88\xcb\x0e\xccY\x1c\xa6\x1epz\xd0^q\x1ej-\xabw5\n\x98\xf2\x9a\tzz\x0c+\x18\x9b\x9e\xb4\xaa,Q\xeam\x1d[\xcc& '\xda\x99\x17#\xd2\x9b\xa9\x07\x95\x9c\x06\x1f\xa6V\xeaiu#\x9b\xad{/\xc2z\xbf\xa2\xff\xf0\xc8\xfe\x1d\xf1|\xf0d\x08Wp\xbe\n\x15\xa3\xefy\"Q\x13\xe5\\\x022\xfaz\x91\x17\xbavi87\xben\x0fH\xe6\xb0\xb2/\xfb\x96\x10\xabM\xd2\xbd,\xc0\r'\xa2\xd2[\xc9\x93\xbc\xd3\xb3.q\x8c\x9c\xab8\xc4\xc6\x10!\xe5nq\xc0_d7N9.\xe6\x1d\x8b\x84\rv\xfd\x8e\x1as\x11\xe4\x06\xcbo\xfb\x95{\x0c\x87\xa3:\xfc\x11\xd3\xa9\x8aL\x11Z\x12\xaa\x83\x1d\x86\tL\x0e>\xe6dR\xa9k\xec\x03\xd7\xa4$\x16+<PdC\x96Y\xc8\xf5\xaa\x87Io\xddq\xa0A\x81A3.\x1c^t\x065%X\x974n\xb2\xb5(\n}\xbd9*\x1b\\s\xfa\x7f\x03\x12\x9d\xfd\x1b%\x1f\xe5\x18\x0e\xa1\xba-\xfaE\xc4\xc40\xf6\xe2\xc0\x87\x85\xb8\xa1Q\xf2/V\x97<\xeb_v\x08\x7f\xbc\x89j!+\x96\xa0vK\xd2\xb4-\x86$\x19'\xc8\xaf\xd55\x87\xa6N\xc5\x8e\xec\x11\x18\r\xb0\xcf\xcc\xefO\xf9\x99/3\xf5\x1c-f\xd7\x8f\xcc\xe7\x10j\xa7-\x0e\xa8In\n\x9b\x8f^<dz\xa3\xea?\xabK\xcew\x0f-\xda\xda\xb7\xc5X\x90\x82\xd4Ia\x85\x1e\xdaD\xc0\xd1\xc4\xb7gI/\"\x8f\x9dj\xe66\xc6\x81\xcd\xcc\xdeI\xf4\x16\rx\x1e;\xe0}f;^=\x8cu\\\xba\x0es\xfc\xb0\x83u\xd5\x0b\x10\x14\xf2\xbb\xf7\xff\xa1\xbai\xe8\xec\xb6\x11d\xa0\xfdN4 \x95\xbex\x90\xd0\xc3t\x1f\xd6\xd6]T\x19\xef\xa6<\x8a.\x8b^\x8bz\x89\xeejf\x96\xf5\xf4\x81\x84\rpn\x1c\x97\n\x9cS6\xec\xdd\xaa`\x8f\x16\x15\xe8}\xec\xc3\xdf\xc6%I\xbd\xbc\xf9\xa6\xd2&\xfa\xee\xf2$)\xb7\xb2F\xa3\xa8\xbf\xef\xcfK\xef`8\xd2@X\x03m'\x8f\xec\xe2\x88UM:\x11\x8e@\xaa\xfd\xe1\nXg\x19>h\xb010\x81\x8f\x01\xd35\x11\xd7~!\x9f\xa2\xb5\xee\"Y5\x9d3\x89\x1d\xc1)\x07w4\x84J\x95*\xa7r\xb0.L\x0e\xfdN\xa7\x8f\x94\x88\x9a\x03w\xe3\x89\x91e\xefW\xae\x1f\x92\xf5\xf2\xc5I\r\xc1\xce(\x18(#\xdb\xcc\x15\xe9|\xe9t\xb1UjN\xb1U\xf4\xf0p\x01?\xc1\xc4=\x7f\x90\x1a\xed\xb2\xb4\xa2\xf7=\x1d\xecBl\xcc\tE\xeb\x01\x1c\xe1\xf6\x9fZ1\x1b\x01n+\xe6\xfc6\xd95\x80w\xccnF\xaa\x8cw\xa2-m\xa70\xf6\xc4v_\x0f)\nlM\x7fZ\\\xd4\xf7\x93p\x19\xd3\x8fh\xf4\x1c\xf7LI\xbeC\x02\xbex\xce\x08\xa0\x82mO:\xb9%\xfd\xaf\xf6\xb6\xc7f\xee\x00\xd6q\x91\x18c$H\xadw\x9aT\xd6h\xccY\x1c\x04\xc5\x10\x92\x11P\xe7A\xd3\x08\xb5QrH-\x89W`\xd5r\xf9ok\xfa\x80k\x8ai\x94\xb6\x8e\x0e\xf8sXJn\xf2\x9f\x8bM\xfa\xa9\xe0\t\xa4'>U\xfe\x87\xd2\xa0\xa7\xfc[\xc3\x1c\x91T\x011\x19\xfa\xde\xf7\xde\xe6V\xd2\x9d\\\xd6\x9bbd\xbaG\x12f\x1c\x15\xe8\xf1\x98x\x99\x9b\xd3\x07\x90\xfe\x94\xc9\xb7\xed\xf6\xffP\x14\x15",
                                "code_execution_result": None,
                                "executable_code": None,
                                "function_call": {
                                    "id": None,
                                    "args": {
                                        "pages": 544,
                                        "publication_year": 2006,
                                        "title": "Mistborn: The Final Empire",
                                        "author": "Brandon Sanderson",
                                    },
                                    "name": "__mirascope_formatted_output_tool__",
                                },
                                "function_response": None,
                                "text": None,
                            }
                        ],
                        "role": "model",
                    },
                ),
            ],
            "format": {
                "name": "BookSummary",
                "description": None,
                "schema": {
                    "properties": {
                        "title": {"title": "Title", "type": "string"},
                        "author": {"title": "Author", "type": "string"},
                        "pages": {"title": "Pages", "type": "integer"},
                        "publication_year": {
                            "title": "Publication Year",
                            "type": "integer",
                        },
                    },
                    "required": ["title", "author", "pages", "publication_year"],
                    "title": "BookSummary",
                    "type": "object",
                },
                "mode": "tool",
                "formatting_instructions": "Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output.",
            },
            "tools": [
                {
                    "name": "get_book_info",
                    "description": "Look up book information by ISBN.",
                    "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                    "strict": False,
                }
            ],
        }
    }
)
async_snapshot = snapshot(
    {
        "response": {
            "provider": "google",
            "model_id": "gemini-2.5-flash",
            "params": {},
            "finish_reason": None,
            "messages": [
                SystemMessage(
                    content=Text(
                        text="Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output."
                    )
                ),
                UserMessage(
                    content=[
                        Text(
                            text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        ToolCall(
                            id="google_unknown_tool_id",
                            name="get_book_info",
                            args='{"isbn": "0-7653-1178-X"}',
                        )
                    ],
                    provider="google",
                    model_id="gemini-2.5-flash",
                    raw_message={
                        "parts": [
                            {
                                "video_metadata": None,
                                "thought": None,
                                "inline_data": None,
                                "file_data": None,
                                "thought_signature": b'\n\xdf\x07\x01\xd1\xed\x8aokB\xdein\x1e\xc5\xf3\xf3 {\x9bu\x07\xcf\xb1}\'rO\xd8J\x13\x9aB\x10\xe1\xde\x03\xca\x9f\x0f\xb3\xe1\x11l\x80\x16/j\x8b\xc2\xff\x05uz\x84O\xd7Q\x8f\r\xc3\xf0\x11}\xc2\xc5l\x96`B\x0c\x14\xcfh\xc1ft\xa5\x0f\x1es\x882=\t\xcd\x0f\x98\xfauKL\x022\x17\xe3\\(\xf2o\x98 \x1d\xf8\x15\xfb\x08\xed{\xdda\x10\x03\x9e]M\x84Y-\xad\xcfZ\xa3g\x9b,\x13\x88H\xc8\xfdU\x8a\x08\xd9s=\x8d\x1c\xb8\x06\x94\x08C\xc2\xec\x87ZNr\x1e$\xee\x0e\x14\x85N\xcb\x1e\xfaS\x8c\x15\xf84\xae,*\x93K"\xed\x8eON\x12\x13\xa1\\\x98)\n\x8c\xaa8\xe8\xfcN.\xb9\x1c\xd3\xb5\xb7\xd1\xfe$\xc0\xd5\x10\x95\x8e`\x8c\x19\xf8M\x84g\xbb\xd3\xba\xf7\xe8\xa8\xb6\x0c\x04xi\x06rx\xa65\xaav&\xb6\xf3\xf6\xb0\xfd\x98\x8f\xa1\x19\x95\x0e\xf99\xc6b\xb6\x07\xd7\xe8@z\xd4\x89w\xef\xeaK\t\x9d\xe9\xb6E\xfc\xa0\xddw\xf5\xc5\x15\x7f\xe2(\x14\x19\x03*A>\x85\x05\\\x16d\x86]O\x85ba\x12\xac\xcf"\xae\x91\xf8\x12\x977\x19\x06CZo\xd4\x06\xfe"Ef\x0f5\x9b\x87\xfd\xa8\x19\xaf\xb2 \x0c~Nv314\xeb\x80\tU)\xcf\xc5\xc7\x1b\xcb\xd2\xf5\xbc\x144k\xae\xe8\xac\xda\xbf!\xd9\x90s\xf7A\xf0\x8e\xf1\x9b\xe2\x83\x8c\xfd\x0cu\xddgQs\xa4R\x9d\xda\xa2H\x06\x01A1\xd5l\x8ar\xa7\xd84\x8bo&\xcc\xcd\xa2\x89Z\xf2<9\x93\x83\xc3\x01\xe1\x82\x00\xdc\n~\x1d\x00K\xaf5\xb2\xcc\x9ccY\x94\xbc\xe0X\xc9,\xb1\x8bY\xbet\xab3KH\xbdC\xbbj8\xc16^\x84\xec\x0ce\xa4=!0\x97t\xf4\x9a \xe0c\x85\x95\xc3e\x85\xbeoE\x80\xdf8\x929\x9c\xe1K\xe5S\x99 HU\xef\xf9\xcd\xdf6\x97\x96\x83|\x8dP]\xc0\xa2\xc2\x90\xdc\xa2k\n3d\xa4n\xe6-\x0f\xd9\x7f\xf2\xd2\x94\xf7\xed5/\\\x9c\x7fV\x98\xea\x05\x02\xef@z\x0b\xd4H\x8b\x13\x06w\t\xb5\xb6j\x90\xff)\x7f\x88:\x94\xb9\x15\xb3\x1c\xaf\xfa\x1f\xf4\xd0z~.\x8b0\x16\xd8\xa1\xf9R\xdcEl\xab\x9dvo\x8e\x9a\xda\xb6\x0b(\xabdF\xd4B\xda\xbe\xa25~]\xbc\x8b\x00})g\xccHhH\x9f\xe8\x08m\xe6h\x92|\r\xbed\x90\xeb\x7f\xf6z`Tn8\xd2\xeb\xe1#\xdeeYB+\xe3\xfa\x0f\xa0\'&\xe3Ov\xe6\xe6\xa3\xd4"&~\xa4\xe3\x86\x8b\xbfj{F\x99\'$\xaa\x15\x93o\'U\x8c\x1a- p\x1e#\xc5-\xdb,F\xa6\xc0\xc3\xc4\xd5t\xcc\xe0o8\xe7V\x02\x13H` \x9cW\xa7\xffi\x9d\x990uH\xf7\x0c\x00F\x92N^\xb7\xd8E"Cq\x18J\x82\x0c\x03\x02\xbaPT\x92m\xee\xc74+\xcbX|X]\xec"\'E\xdb-\x8f\x11&\x0e\xd7\xa8\xa2Imb\xeb\xbfW\xb8\xa9x\x9a,\xdc\x85\xce\xb52"\xe5mq\x95\xf3KV\x9a\xbd\x18\xe4\xf1ks\xf3xc;\x17\xf70\xb7\xca\xe4\xc7\xe6\x888\xa1\xf8\x9e\x15)\xe1\x82\xf9\xe4\x9bv\xd0*\x15\t\xa7\xee"\xfeT7\x89\x0c\xac{\x1a\x81\xf9!\xd2\xee\xb7,\xfa\x0e\xec\x9a.\x82$\xe1R[z\x04[\x92\x82w\xf7a\xe1\x7f\xcbf\x81\x16\xe3"i\x80\x92\x1b\xb4\xe9/N\x9c\xbd\xda\xae$@I\xf5\x96F?\xbdi\x98\x96$3\xc62\xd6\x88\x83*d\xd9\x86\x1a}s\x01\xb4\xaf\xe8\xe1\xa5\xd1\xbf@s)x\x8d\xcfW<\x8b{\xd3\r\x7f\x10\x19\x8b\xaa(W\x1d\x1f\xf8\xc7\xea\xd0\xb4\xae6\xff\xbe\x8f\xe1b\xbc\xf1%0\xce\xe6\x87\xd3\xa7\xbfm\x9cF\xa1\xcb\x88Y0\xa2\xd2Qo\xbdp5<\x148!\xb7l~\xa3C\xa8\xd1/\x06z\xd6\x86\x18\x93\xc8\t{f:\x15\x1d\t\x89\x9d\x83rT\x15$1\xa1N\xd7\xa1\xc9Ym\xdew\x87\x86\xa9\xad]',
                                "code_execution_result": None,
                                "executable_code": None,
                                "function_call": {
                                    "id": None,
                                    "args": {"isbn": "0-7653-1178-X"},
                                    "name": "get_book_info",
                                },
                                "function_response": None,
                                "text": None,
                            }
                        ],
                        "role": "model",
                    },
                ),
                UserMessage(
                    content=[
                        ToolOutput(
                            id="google_unknown_tool_id",
                            name="get_book_info",
                            value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text='{"author": "Brandon Sanderson", "title": "Mistborn: The Final Empire", "publication_year": 2006, "pages": 544}'
                        )
                    ],
                    provider="google",
                    model_id="gemini-2.5-flash",
                    raw_message={
                        "parts": [
                            {
                                "video_metadata": None,
                                "thought": None,
                                "inline_data": None,
                                "file_data": None,
                                "thought_signature": b'\n\xc7\x05\x01\xd1\xed\x8ao\xdf\xd16\xfe\xe1\x13\xa0\xf6\x07\xf5:\xa5B\xbe9>E\x8f\x8b\r:\xf0\x00\x126F`\x16"\x9fl\x90\xc2\x08OX\x91\x98\xc5\xc1\\\xaaZ\x8d\x951\xf6\xcd\xa5l\xf24X&\x07q\xa7bjCt, \x80\xb8\xaa$\xb4\xef\xe2\xf5\x7fl\xafG\xb5\xd1\xd8\xa7\xca\x95\'Y"\x95U4T\x1d,n\x8b)0P"\xf5\xf0\xb7\x0et\x9e}\xa3\x05\x0cu~\xed\xfaw\r\x1c^\xef\xdbK\xea\xd0B\xfb\x7f\xd3\x81\x86\xa0\x1eu\x0f_hI&k\xa6\x82\x00\x82,Hmx\xc5,.e\xc4\xaa\xb5\x0f\xbb}\x10n\x88[\xd2\xc5\x19\xb4\x80\xd5lI\x168\x8f\xa5\xccq\xed&\x1a\xfd\x1fV\xb3s2\xf7\xeb\xda\x84\xceI2\xb3&\xc3}\xe5r\x83\xa9O\xcd\xd6\xc7\xa6\x13C\x1e\x05\xf4~{\x91B\xf0\x11.(\xb0h\x7fV\x19&\x96]\x8c\xea\xfd\xf5""\xe8&o\xb1!\xad\x9d\xed\x17X\xc1mQ\xd6\x86\x1d\xeb\xd3(\\\xbdxF4\xe5\xd6\t\x8dmB\xdb5#?\xa1\xe2x\xe6\xa0v\x9c\xb6\xd4\x9f:\xfc\xec\x15\x82J\xe8\xe4\xf4{\x17\x92.A?\x80\xa5&\x00%\xf4\xfc\xc2\xf7/\xb3\x18\xf3\xe8\x1d\xf5y\x18\x12BOTwO\x18Z3Q8-\xe4#\xce\x1ef\xea9[\x9a\x1b"\x0e\xf4\x9e\xf5S\x07\x1au\xf1x\xa9\\X\xf1R\x01"\xa8\x13\xbe\x03\xc7cd\xaa\nj\x10^+\xb7\xd6Y\xf7\xca\xbb\xd4\xb2*)\xc5\xddLjE\xc8m\xb2h\x8d=\xed\x9b\xe8\xc0\xf9\x83=\x8a\xf9V\x06\x88\x9eSt\xfc\xbf6\xa2\r\xf8\x98\xa8o\xba\xacL\'\x8b\x7f\x8e\x8fxB\xaeG\xd7~\x1b\x14\x88\x81j\x11I\x95\x86}\x83\xe9\xc0\x0eO\\\xa7Q\x067\x8e\xb9\x13\xd6\xcc\nH\x01\xe8\xb0\x9e\xd4\xfd\x83\x17\xdap\xf2:\xb5/,Z\xcb\xc8\x8bn\x1e1\x84\xa3,\xef\xfbS\xfcC\x81\'\x08<\xf8\xfdy\x1b|M[k1\xac8g\xab\xb6\x1f\x8c}?\xee\\\xaam\xe2\x907=\xeb\xfaGd\xa5\xb5(\xec\x05\xa0\xa4%\xdf\xf1ek[\xb4C\x82\xef\x03$u\xa4R)\xb4\xf3$h!\x10X\xe6\xb4\xa8J-\t\xd1\xd7{7\xbcY\x0c\xea\xfeH\xa2U6\xd2\xff\xc9\xc6\xa6\x96]\x7f\x82Xa\x06\xb0\xe7\xd2\x8ex\xe9M<\x10\xdaC\xa4M\xb1\xf7\x13\'\x81\x1f\x9f\xa9\x06\x8f\xf1\xa3\x88\xb88\xd5\xff\x8f\x84\xb0\x9b\xean\xe1\x1b\xd8\xb9\xa9}|\xaf\xea"Y\xc6\xecqa\x03\x1e\x92\x07\x83\xa8\x80\x0b\x83\xf7\x06)WD\xe6\x80\x0c\x10\xe9? \xa4\xd8\x84\xdeDN\xdbLe\xfd\xb9\xb7\xa1\x9e\x08\x89\xda6\x9apJ\xd9\x0e\xa8\xc0a[\xf3\xb2\x19\x08\xafz\xe5\x12\xab"\xa6\xde\xdb,\x0e\xf6\xdc\x1cU\'\xce\xbc\x7f\x1f%\x0e\x8af\x83\xfcp\x08\x87g\x1a\x94X\x1e\x1d\x97',
                                "code_execution_result": None,
                                "executable_code": None,
                                "function_call": {
                                    "id": None,
                                    "args": {
                                        "author": "Brandon Sanderson",
                                        "title": "Mistborn: The Final Empire",
                                        "publication_year": 2006,
                                        "pages": 544,
                                    },
                                    "name": "__mirascope_formatted_output_tool__",
                                },
                                "function_response": None,
                                "text": None,
                            }
                        ],
                        "role": "model",
                    },
                ),
            ],
            "format": {
                "name": "BookSummary",
                "description": None,
                "schema": {
                    "properties": {
                        "title": {"title": "Title", "type": "string"},
                        "author": {"title": "Author", "type": "string"},
                        "pages": {"title": "Pages", "type": "integer"},
                        "publication_year": {
                            "title": "Publication Year",
                            "type": "integer",
                        },
                    },
                    "required": ["title", "author", "pages", "publication_year"],
                    "title": "BookSummary",
                    "type": "object",
                },
                "mode": "tool",
                "formatting_instructions": "Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output.",
            },
            "tools": [
                {
                    "name": "get_book_info",
                    "description": "Look up book information by ISBN.",
                    "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                    "strict": False,
                }
            ],
        }
    }
)
stream_snapshot = snapshot(
    {
        "response": {
            "provider": "google",
            "model_id": "gemini-2.5-flash",
            "finish_reason": None,
            "messages": [
                SystemMessage(
                    content=Text(
                        text="Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output."
                    )
                ),
                UserMessage(
                    content=[
                        Text(
                            text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        ToolCall(
                            id="google_unknown_tool_id",
                            name="get_book_info",
                            args='{"isbn": "0-7653-1178-X"}',
                        )
                    ],
                    provider="google",
                    model_id="gemini-2.5-flash",
                    raw_message={
                        "parts": [
                            {
                                "video_metadata": None,
                                "thought": None,
                                "inline_data": None,
                                "file_data": None,
                                "thought_signature": b'\n$\x01\xd1\xed\x8ao\xed\xf6\x9ey\xa3\x8d\x82\xe5\xeb\x8e\x0c\xcc\xf3\x11\xc1\x15\xa6}\xa1t\xc0\xda\xfa\x07\r1\xa5x4\x8d\x03\nd\x01\xd1\xed\x8ao\xc2\x94%J\xf3\x138\xc5\xfb\xbf!7\xda*#\xb9\xf5Uu\x19\x1b\x03\x01\xdb\x99%$\x7f\xb6\'\x87\xbe\xef\r\xa2\x9c)s!\xc0[\xc8\xb1\xc7l@\xe20u<"\xd7\xdc\x86+{\xd8\x85\xb2\x9c\xb8\x94_\xcb\xf6\x8b\x93\xcc\x9c\xe3\xccm\x11\xa4\xec\x12\xcc\xdaT]`Q\xae1\x93\xd3Y\xbayv]\xbe\x81\xc8\x8f\n\x8d\x02\x01\xd1\xed\x8aoo\x82\xeb\x01L\xf9\xd3\x98(\xb4\xe8\xa3\xf7\xd7N-\xed\xea\xca\x98\xa7\xd3\xd6\xf2}]I\xf2\xcc2\x82\xe2*\x84\xee\x84\x0e\xe0\x8eV\x01Um:a\xaeu\xa4\xb9Q\xf8\x00\x15\xa22\xf8<\xc6\xa4n\xe7\xb4>b\xeb\xde\xb8M\xc9\x17\x01\r\xef\xfc\x98\x8c\xbd\xa0\x96!\xb0c\xb0G\xac\xbb\x8c\x11\x83\x981iG\xce6\xb8\xf0_%I\xdf%L\tru\xc5\x97\xdb\x907oY%\xc8\xc96\x93\x8cwV\x1f&1Q\xe6\xae:V\xe1\xcc\xbc\x1f\x00\x90\x9f\xc5\xd9se(J\xf1 \x92\xee\xf7MA\x1f\xec.\x11\xfd\x91\x01X\xc7\xf3\x0b;\x0c\xc2=\xc9\x9e\xfc\t_\x80\x0f\xd8c\x9f[\xdae\xb7:\xe13\xc0n\xdeWi1\x9d\x83\xbd\x0b\xfe[)ud\xd0j\xce\x7f\xc86D63i\xea\x86\xfem\xdd\x03\x0b\x0c\xf0\x03\xa5\xd3\xe6GS\x8ec#FM\xea\xdf\xbd<P\x16;5gW~\xcc_\x9c]+J\xcff\x15/b\x9a\x1e\xd5(\x81\xf9\xff\x96\xc8\x14\xbbJ\xbdD\xfc\xe8\n\xf2\x01\x01\xd1\xed\x8ao\x02\x0b\x81ze\xbc\xfc?\x85\x94\xb7=o\xbb\xc7\xfb\xb9\xde\t\xf8\x14\xf6\xbd\x97f\x8c*N\xdcs\'m\xcdm\xb8~\xc6d\xf7x\xfe+w\xbf\x85\xf8\x0f\x18\xbe\xb8\t\xc0\xd3\x88Sf\x01\xafS\xee\x116\x1b\xc1\xbe\xc5/\xf0\x93\xaf\x04y\xfb\xd2\xe8~%=\xeb\x1c\xaf\xd2,/\xc7\xdd{?!\xaf\xbf\xc6(g\x9b\xd3\x08j\xc5\xb6\xaa\x9dV\xd4\xb2\\\xde<\x06n#!\xb4&"\xf0\xef(\x81\n\xc7a\x84\xd8x\xd8\xb8\xf6{\xe3\x91Y\xd8\xef\xdcT\xb4<\x808\x1a\x0c\x18XXz\xceL\xab\x99\xb0=Z\xf18\xf9\xa0\x02\xdb<\x98\x90,\x88\xc7\xdc\x87\xf7\x17\xcc\x98\xaf\xb9\xd4\x04Ma\t\xba\xa4\xcfJ\x10\xc4\xb3[\xd7\xd62\x8f@]n#\xd4\xdd\xfb\xb2\xa3\x04$\xd6,\xf0\x95U+\xf1\x1b\xbc]\xc1\\\x03\xd6H\xa7r%<\xb6X\xfe\x90\xf4*\x97`\x06X\xce\x86\x9b\n]\xe0\x8a\n\x90\x02\x01\xd1\xed\x8ao\xfa\xbe\x9b\xec(\xaf2QAi\xed\x087\xf9`\xb0\x9bY\x93\xd4\x9dlW\x08\xaf\x08\xdc\xc5Z\xe2\xc3\x87\xd8\xf6,\t\xe9\xc7\x90,\xc8."\x1e\xf7\xd4\xcd\x1c2\xa4\xd1sI\x98\xa6\xe4\xbf\xb80\xf7W\xc9\xdf\x0e\xe8\n\x04-\xfa\x98<\xc5\xa7\x8bu(b\xc6\xb2\x0e\xe8\xa0\xe7\xa8\x86\xd3\x83o\t\x8dR\xd9\x08\x83J\xeb\xe9m,\xbc\xebA\xe3\x9eU3Fb>Ufu\xb8$t\t\xc8^\xb7\xd0z\x85\x18U(<\xa0\xd4\xdcY\x93h\x02MO\xea\xbc\xe1\xca\xf7\xd2!\x86\xcb\x9aR:\x97@\x8b\x8a\x0b\xfa\xc2\xb3\xf8U\xd5O=\xff\xc0\xec7\xff\x93\xb8<\x82\xde\xd4\xe4A\xd6b\xc3\xb3?L\xc6\xc9A\xc5<\xa4\xddm\x8e$\xe2\xb8\x96\x91/\xc4\xa8\xdd\x1d\xc2\xd3\xd5\xce\xe8\x88\xf5\xa6\xcc\xff\xaa\xcf89\xb8:\xec\x15<\x88_R\x02\x01\xc1\xdc\xb33\xf7T\xa9:\x90\xf7\xf0\xb7\xcf[\x84\xc9\x86k\xc4\xd5\xa9\xfdkE\xdc\xe4\xd6\x86W\xc9\xe79\x90\xe3k\xeb^8\x18\x0f\x02\x82\xbf\x0c\xa1\n\xfa\x01\x01\xd1\xed\x8ao\xf5\x82\xdc\xcb[n\x92D\xd61]\xe5\xad\x18\x06\x18\x1cK\xaeAH&\xb0\xd5F\xed3\x03\xf3\xfd#\xa5~\xfbtL\x8c\xc5\x04\xed`.b0\x87\xd1\xf0\xbe\xa3c\x99\xa4\x13\xbc+B\xac\x038\x01\x03\xd1\xee\xf9\xf4\r.\xd0/\xebj\xd0\xff\xe2<\xf0z\x0cX\xaf\xe0%\t*`\x9dh3-\x9d4\xcaX\xe3?\x1f\xc0\xe7:\x8b\xcd\xc3}\x06M\xe8]\xf6\x00\x85\xdd\xbd\xd8\xde\xed\xe2\xca\xbdZ\xfc\x86\xe2\xc6(\x7f\xf8Ms#\'\xe4F\x1c\xfc\xc67\xf6\x16f\xee\xed\x8c\x88\x9e\xb0\xfd\x00\xbf\xe1K\x9b\xf5\xea\xe5\x9a&\x8c^#\xfd!\x0b/\\\xear,\xd2\xd7t4\xf0Tw\x15\xce\xf5\x89\xa2\xb4|\x10\xa0c`w\xee\xb6.1\tC\xa2\xbe\xe5\x1a\xc4\nd\xb11\x1a\x932/0\xcd\x1c\xc3\xb2\xea\xd4,\xb2.I\xab\xad9\xb0K\x88\xf7\xe5\xacD\xa6\xd0\x9a\xc3\x99\x82\x9cF\x9bF\x8c\xe2\xf8\x06[\xb6n\x07\xcd\n\xdd\x01\x01\xd1\xed\x8ao\x0c\xb6Kw\\q\xc5NkQ\xab\xe5\xbeii\xde\x02\x0bO\x85\xc9NO]\':\xd8\x03\xf9\xd9\x98\xbd\xb3\xdb\x06\xfcC\xfb\xacZ\xa0\xcc\xd6\x83\x01\xc5\xcdZ\xd0u\x8c@y\xd4\x1b\x9dV\x8e\x850\xd6\xd4H`\x88\xe9W\xf7U\x18\x8b_tD\x81&!h\xd5G\x991\x8b/9\xe3\xdfE\xc7a\t\xbf\x8cb\t\xbd\'\xd5\x83\xbd\xa5\xf0\x04M:{\x16\xeeL%\x18oy\xe4\xcd\x881@\xf33I\xfa\xcb\x9c\xb5\x83;jZu<\xb4fCZ\xf6\x1b\xf4\xf5\xee\xe7\xb5\xb5/\xcb\xae\x87\x1d\t-\xe0\xea]^\x83Pf\x96\xf7\x058r<(]\xf7:\xf4|\xa8#\xa1\xdc\xe3\x05\xf3\xb7\xa3/\x85\x8e\xd6T\xfaP\x89\xddp\xe92\xae*\x0c\x01\xbcy\xbb\r$$\xd1\x11Dt\x07\x80\xa1\xf4\xd1\xd1\x9e\xf8\xa1\x7f\xd9r\n\xdf\x01\x01\xd1\xed\x8ao06\xfc\xb8\x8e\x91?\x9b\xedB\xb1`)\xb2\xc7\xa64y\xf7~\xe5\xfcD]\xb0D\xfc\xa2\x9d\xab\xa6 \x04\x83\xb6l\x91\xd5\x1f3\x94\xb28\xb4\x82o\t\xb9\xa3n.\xeb\x8d\x88>\xf4\xf4x&\x8d\xe7\xd8\xff!\x1bC\x04\xbe\xb1\xc9\x14\xf8\x0e\xad[#\x96\x12y\x81\x03do\x1aZ\xc5\xf0\x84u\\\x87\xfa\x80\xc4\\\x8b\x10\xd3\xf1\xf4d4\x8a\xdb\xbeV\xc7\xffZ\xb3S\x9a\x8c\xa1\x16I\xa4d\x7f=\xce\xf8}\x98\xbf\x16\xd7!\xf92\\\xef$9J\xa1\x0e\x91\xa2*f\xe7\xe7\x8d\xbb\xb6U\x12\xa9\xc3\xed)g\x1d\xd8\x81\xb8\xfe\x0f\x174\xd9Nu4{\xb4w\xa1d)X{\xa9\x9a!\xc3\xf4\xdet\x9c6\xc1jd]\x93\xc6\x8dB\x01\xf8\xe4\xce\xf3T\r\xb9\x1f(`}\xdb\xb3\xfa\xff\xca#\xda\xa6\xd5\x9dbf*b,\xa7\n\xc3\x01\x01\xd1\xed\x8ao\x84\x90\xe8\x05]P\xd1\xf5[\xf8K\xf0\xf5\xd1A\xef\xf0\x8f-\xd6W\x9b9)\xdc\xa2v\xde\xfeEe\xf2\xd3\x96]G\xf0LV\xec\xa9}r\xad\x1d{.\xeb\xc5\x15\xb1\x1d\x1akLD)\xca3\xa95\xcd\xee\xf6\x04\xba+\x87\x1e\xa6\xe3\xddD\xac*U\x14\xf9\x17\xa0\x96\xf3T>\xde\x14\x15\x08\xf7\xeb;\xa0YJ\x04rF\xc1\x15\xeanS\xcc.\xc5\xef\xa8\x16\x1bd\xee\x96\x9c8\\O\xb4C\xb8#\xbf\xcc\xf8\xf2T\xd4t\xf7\xc4\x02\xb7\x9f\x972>\xce\xe8\xf7\x18G\xcb\x00\xb2\xfb\x1d8s\xec\xe14\xd8\ra)i\x16\ti\xa5\xa9\x06\xe4\xf7\x15\xe5\x8b_\x7f*\x11\xb8\xd2\xb2^\x9b>\xae\x97\x18\x84\xd2\xf7o\x86d\x9eA4S\x0b\n\xe2\x01\x01\xd1\xed\x8ao\x99"\xc6P{\xa8a\nk8\x7f=xD\xb9\x04\xd1\n\xb0\xeck\xc2\xe2\xae\xea\x7f8U\xc5\x80x\xc9\x99\xfd\xad\xab\xb1\xf5\xf6f\x83\xea\xfd\xd2\xd0\x88~\xcedj\t\x98CpB}\xddX\xbab\n\xcb\x14\xa0\x1f\x0c\x80\x8e\x1a;\t\x95\xe9u\xba=\x84\xfe\x1c2\x18\x95\x94P\xce8\xc2\xc9\xb5)\xffH\xdd\xd4\xdcT\x9c\xf1\xf227\x93\xee\x80\xea:Z\xb7\xf7\xe1\x01\xcd\xc2\xf3\xbd\xf4\xac\x02\xc5\xd8\x9b(\xaa\xb7Qnb\xf6\xfa\xbbO!(\xd8\xc8\xc4\xe6\x86\xa5\xc5\xd4euBrF\xc9ZCk{"\xbf#R:\xcb\x19b\x1e\x92\xd2\xa4\'\x14\xc2\xda\x08?\xa9:C\x9dJI\xc5\x82\x1f\x85\x87\xcb\xe7\xe1\xf1X\xa9{_P\xb5\xef\x03b\x0eHS\x1a`;\x19\x9c\xd1\x99\x84"\x1de\xb8\x9f\xa3H|&\xc1F\xd8\x0b\xd6\r\xa0\x86\n\xcf\x01\x01\xd1\xed\x8ao\x1di\xa1\xed#\xb3&\x8a\xb12\x82\xc0\xa5\x14\x92\x07\xebG\x04 \x84\xf5\xe5\xc1\x1bF\xc7I4\n\x18\x0b\xd9\xe0z\xe5\xcb5-eXQ\x9eX=j\x8e\xf6k\xf2\xa2O\xb9s\x85\xd5\xf5\x17Y\'\x13/J\x87\x19A#u\'\x8f\xbe\xea\xd3\xca\xddt\xc7\x1a\x9e\xc4J\x88}\xd74\x0b\xdf\x91\x11oM\x1a\xb6\x88\\\xfd\x1d\x07\xaa\xeaj\xc2\xa1\xf9`Y[.B:\x83\xcd\xc1\xdff\x16\x97\xf6e\xe0\xaa\x10&9\xeeR/\x9c\xd0-\x0bh\x18\xcc/te\xd2w\x1fE\x08z[\x99\xf0D\x11\n\xf2\x9d\xfa\xdbx[\xdf\x87lU\xd6\xdd\x19\xe4x\x80"u\\\x95HtE-\x0b*t\x84C\x0c\x06\x9c\x19\xe4\xfd\x109\xc2\xf9\x05p\x83"\xda\xc8B3\x9c\xe0\x95\x944\x11\n\xcf\x01\x01\xd1\xed\x8ao!i\xc1\xa1\xd2\x87\xb9\xe7\xb3\xfc\xbawD0_\xa6\xa8\x7f\x7f\xab\xe9\x16\x0f\x02\xe3\x95\x85\x8d\xc4\x08\x9c\xa1\xb1\xdd]\xfcq\x7f\x01\x8d\xc0\x1e\xb4\xd3G\xcbdV\xbc]\x04Z\x94$\xd8a\xc0\x8f\x88$\x10R\xb1\x18\xeaz\xf7\x85\xb7\xa9\\\xa1\x96\xbd\x02g\xed\xe9\xd3g\xfb9\'\xe4\xc3\xab\t\x13\x13\x9c\xe3\xd1\x9d\xa8\xb3\xcb\x8d\xd3.\xba\x17jLr\xd6_\xdd\xccx\x1d\x8a\xd6O\x15\xeb\x8b\xc2h\\\xb576\xddq\x02\x16\xe3\xdb\x87\xb3\x01_\xc8C$\xf5\xe4\xc3\xf2\x98z\x8e\x1f\x19\xf1"\xcc\xf9\xc6.N\x83_\xb8\xeb\xd8\x88T\xd21\xeccRi\xaeh\xa4K\xeb\x056l\xe2\xc2\xbe\xba\xf8\xaa\x1bUQ\xa8\xcdg\x82\xbe2\xa4\x18i\x91\x99l;\xe2.\xfa\x84K\xb1\x94\xc7\n\x89\x02\x01\xd1\xed\x8ao\x9aI\xe4t\xb3\xb7"\x1c\xe0\xa0\x8b\x99YM\x17\xa6\x93r\x98B\x98\x0e\x12\xd3\x1b\xc3\x8e,\xcd\xdd\x89f\xc7\xe0\xcfX\x00h\xb9\xf6\x8d\xf8\xad\xca\xb1a\x95\x95\xa17\xff|\xd7f\x02\x11@\x00\xe1\xa7\x9d\x14\xc7\x14\xad\x04\xc3\xaeE\xd64\xc0Vx\xb0"d\x91\x89\xc0\x1bjQX\x8a\x8e\xae\xca\tw\x19$\x9f\x83$z\xc1e\xaee)\xb7\xa60\xbakw1\x94Y\xa8-\x01O\xd7w\r\x8b\xea\xa8G:]\x9c\xe8\x10\xfe\x15\xde\xc4q\x89M]\xfe\x13\xea\xca.+\xaavA\xd4Q<U\x88\x13\x00\x16*\xe9q\xf6E\xfa\xe89\xbe\xa9<\xfb\x04\xbf\xd1-\xee]\x1cX\x83\xff@\xd9\xe6\x88\x9bbW\x13\t&\x0f\x824M\x87\xc7\xd7\xc8B\xbe\xe7,%\x91\xcd=\xe0\xc2\x11\xe1\xa7\x8b\xdc\xd2f\xf2\xbd\x18\x8cc\xd1\x15_>\xdeX\x99>&\xcc\x12\x13l\x87\x8b\xe3,\xa5z\xfb\xd5\xfa\xc0\xd1\x98\xa1\xfdKmLY\xc7\x1c&0\x959\xfbq\xd9\x92\xa4\xda%n\xb5\xc4\n\xfc\x01\x01\xd1\xed\x8ao\xf4\xfa?\xf6\x1c5\x1d\xec\x14\xf1\x8b\xeb\x03\xccm\x7f\xecDN\xaav\xf6?(\xb6\xd7\x96\x14_N\xaf\xb3z\xfc\xec\xa8yf\xa5\xa9\xe0\x0e\xf6#V\x88,6)\xd6\xb8\x1f\x96<\xf6\xabw\x94&\x1f\xdbHhw\x7f\x9a\x9f\x14\x93\x08\x04\xeb\xf8$U\x1e\x7fM\xbd\xd7F\x03\xe5\x16\xde\x07\xc2\x1b\x81\xa8\x87oF\xab\x17\r\xee\xd3\xc2\x7f\xb0\xc4\xbb<\xe5L\xb7\xf9\xde\xb35\x17\xfc\x13_3\xf0\xf7ovI\xe3\x7f\xf8\xb6\xc9\x16K\xe9<\x92w-\x1b\xcc}\x0b\xa9\x02\xb0$q\xb9>\xecO\x8b\xb3\x7f\x9e\xbb\xc5\x10\x06\xb8\xb5ZC\xeb>\xd6\xe0\x1b\xe5f\x93\x18t\xc7\x90\x1a\x148\xb8m\xec\xb6W{\x04u;\xd1g\x04\xd1/\xc7p\xe3\xba\\r\x0c\xff\x84\xde\xb3~q\xf0\xcaU\x89\x9d\x1e8\xb0\xfe\xf7\xc3J\xbeG\'m-O\xf6\x06+\x88\x87\x88\'\xfb\x7fI\xf6\x83B@6\x8f\xa18\xf1;\xaeU\xa8\xa6\x1e\xa8\xd2\x87&\n\x81\x02\x01\xd1\xed\x8ao\xf8\x18!p\xb1\x8a\r\xc6\xd6M\x02\x92\xc63\\5\x03\xc8\x93<\x83\xe8\xd1\xcd\xba_\xc5#\\`-\x1ag\xb4\xc3\xc1\xde3\x96\xe2\x0c\xb4\x08;>\x0f\xa3h2N\xcf\x9b\xef\x05\xf5\x13\xc4\xc4\x98\xe7\xcckq\xa7\xf2\xe0\xb4\xf7\x07\xef\x94\x1079R2:\xdc\xe4=Y\x0e\xb7\xbe\xdc\xfb\xcf\xd9(\x1e_v\xac\x90\xb0\x9b\xc8\x89\x07j\x1b\x06d\x02\xd7^\xef/\xd8\xef\xd4\x0e\xe4\n\x06\xd68L\x01*\xc9\x01\xbaL\x9f\x9cq\xb6+\x92\x83R\xdc\xd5\xb2Hi\x8d\xc7\x81\x95\x8b\x9dwyli\x94V.\xc8\xfe\xd5^\xe4{\xa6\x985k\xbbz\xcdY\xc4\xa7\x02)j\xeb,\xea\x1f \x1e\xd2`\xd5=l\xc7G"\xf9\xd5u\xd2\xe9rh\xa1\x9f\xc1>>K"\x86l\x8c\xf1:g{\x02Q\x7f{\x80C~\xfbL\x07\xf3T\xd5=\xf3=`\xff\xa1d\x14\x01|\x15\x81\xbe\xc0\xbbr9\x895\xc6\xd9N\x9d\xbb\x0c\'n[\xe6\x10\xcd\x19\xf9\xd6\xff\n\xa6\x01\x01\xd1\xed\x8ao\xed0\xae\xf5\xa5\xf7\x06C\x01\x08\x07\xcfn\xa6\x1eV\xafGJM\xdb.\xf4\xb6\x11\xf5\x13\x81\xefYf\xc4\x15\x8b\x95\xdb4\x11i4!\x15dj\xd2\xb9Lc\xcc\x84\x97h\xf2\x8bf\xda\x10u\xaeF\xc5\xdb\xcc\xfd\x0e\xa2\xf6\xb6\x81\xef,\x91N\xf1\xfbjFA\xe9\x86\xc1\x86\xce1\xc4I\x9b\xc1\r\xbdj\x9f\xf2\x9fK\x99\xfd\xf5|\xd1\x9c\xfe\x9e\x88\x8f\x84\xd5\x86\x88\xf6\xc3e\x07\xfd\xf9n3\x19\xf98\x87_\x1bT{\x8a\xc9\xcaF2\xbc\xc64l\xd1\x17\xca\xcb\x8c\x18I#\x82\x02j\x93\xed\x8a\xabN\xec\xe0)\x94\\\x8eU\xf7\xe2\xc5\xdb\n\xba\x01\x01\xd1\xed\x8ao@\xa8d\x95\xed\xc93V\xa4\xa5\xc1\xfap#\xe7*\xae\xa4F\xd0\x10\x000\xbd\xdb\xe7\xca\xd8\xf0Y+\xde\xed\xb3\xa0>z\xdc\xf9\x0eX\xfdp@\'?\x0b\xa4\x00=tJ\xac\x01`\xe0U\x8d\xce\x9a \xb0\x9d\x03!\x93R\xb0l\xbb\xa1\x1bx\xb1g8\t!\xb3\x02J#\x85FK\xfb\x1f*L\xd9\x84_\x10\x84\x1d\xa9\xedt}\xd0C\x86waD\xc7\x80\xeb\x825\x88\xf8\x9a\x0b\xd3\x06\xe4Z/1_\xa3\xe7\x97v\x0b[e\xae.G\x96\x08\xfd\xac\xca<\xfaW\xd0p\xb1T\r@k<\x17\xea\x1e\x06w\xe6I\x1e:\xc6\n\xd2\\\xe7\x17\x88\x82\n=\xfa\xa6d\\\x8d\x1e\xe7\x04\x92\xb6mc\xa9\xfe\x11\n\xf0\x01\x01\xd1\xed\x8ao\xe2\x8c\xbc\xed\x175Z\x0c&\x82\x8f\xa6x\xf7<\x86\xd8T\xd4\xd2U\xe9\xc7\xe7\xceC~\xbd\x95{q3#!\x15\xee\x17\x18@\xbc\xcfx)\xaaWa\xf3z\xa1M\xb1}\x96\xe76\xfdU\xa9a\xe1\xd4U\xb1\x18\xc1\x03\xd4"\xad\x0ea+\xc6\xef\xb9\xbeSn\xcf\x0e\x94\x16\xaa:a0\xac\x8f\xe75\xf2\xcd\x86G\xca\x1bu\xeeP\xd2\x85N\xa3\x02\xdel\xd6\x11K\xe7\xbaRB\x1bB\x83\xf9\xcd}rPqH[\xed\x83\xf7a\\\xb4\xf8\x88d8\xb1H\xb9\xf4\xeb\x99\xa6#\x9b\xaa_.\x88|\x95\x0b\xb1\xc6\xaa\xed\xb8k\xc1\xf6\x17N\x1bv\x9e~i)]\xf4\xdc0\x03\xee\xb8\n\xc1\x03\x85\x06\x1dV\xae\xcf\xac%\xa5\xf77\xeb\x92\x82\xf9\x04\xf0\xe4\xe6\x84\xecV\xf1\xbd\x89Up\x88C\x98\xa5\xa4du\xe8~\x86K\xc3\xa4MC\xef\xc1u\x86\xbd!R\xb8v\xccGr\xe8=\xfc3\xa5\n\xe4\x01\x01\xd1\xed\x8ao\r\x9e\xda\x81\xbe\x03T\xb8;\xdd\x85\x94\x92\xf4\xf2\xd5\xcb|\r\x17\xe8\xaf5\x84\x0fZJ:\x9ft \xb5\x19\xd7\xce\xbf\xb3T)4\xe4\xe4&:\x1a\xf2\x08qRe\x97\xb1\r&\x03\xe1\xd1"\x85e\xf0\x11M\xde\xfa\xb9\x03\x89\x11\xc8x\xd3[m\x0b\x08\x9f\xc20\xad\xd7f\xb1\x86x\xe6\xe4 \x96?-\x0b/\xdfq\xb1\xef\xa2\'\xf6\x07^D\xfe$\xd35\x85\x10\x80kw\xfe\xf7#7y\x15q<\x90\xe6\x15\xd3C\x18+\xe2zI\xcc[\x02W\x7f\x02\xb4\xea\xc6\xe3\xda\xc3!N\x1d\xb3\r1\xb5\xab:\x1b\x9a\x83\xbc\x14\x9c\x8e\xbf\xa4C\xf8\x0c\xb0\xe3Y\xfd\x9e9S\xf4f\xa1\xb3\xec#Jj\xddK*\xf8\x19\x15\x9bH\xa2=p\xfd\xd1\xeeK\xee;\xf0-]q\x1c\xec\xde\x91W\xca\xa9\x96\x80<\xf4\x1d&<\x98\x03e\x14\x7f\x0eX\x8b\x0f\xee\n\xf4\x01\x01\xd1\xed\x8ao\x04\\\xb9\xff<m\xe2\xb5\x10}\x18n\xaet!\x7f\x9d\xab\xbb\x17h\xa11\xfb\x81\xed\x90]g\xc6\xca\xb2.eP\x1a\x86\xbd]\x0b\x95\xe8\x80i(\xfb\xa2~\xad\xbb\xcd\x88\xc2\xf0\xc0\x7fn\xa9\x1at\xab\xe9X\xd44a\xc1\xad! \x9fv\xe6M\xc3Ib\xc9\xfe\xbc_U\xd4k\xa1\xcd\xbcd\x8f\x05\xc8.D\x83\xec\xc9\xa1\xdcc\xa9[v\x8a\x90\x06\xc7\x13K\x80\x8a\xd5\xb8\x0eo+\xed5)\xd3\x88\xb0\x05D\xdatZ0\x1d\xb2\x8f\x81\xa4\xbe\x9aE\xcb23\xfd\xf51@5t\xf5\xc4)j\xc3\xb8\xba\x19\x1e\x83\x14\xb7\x12\xe7W\xda\xb3\xf0\x8c\x0e\xe5\xe2\xb0\xbd\xffHD\xc1\xc0\xc6&\xae1\xf8\\\x15\xad\xbd\x15\xe1\x9c\xa9a\x96\x96\t\xa1\x18\xed\x86*\xcdG\x14\xec\xeb\x96\xda/\x18\x13\xab\xe1\xd2\x81\x99CS\xf5s\xd7\x0fzo,\xfb1Wd\x97\xdd\x8a\xbf):\xa8\x03(9t\xfc\x16\xae\xc2\x94\n\xed\x01\x01\xd1\xed\x8ao\xb6\xfe\xea.A\xa8[\xb4\xde\x84\xe2\xe0\x16\x98\x18\x7f&\xeav\\\xe3\x84\x17\xb1\x0f[\r\xf1\x1d\xa6\xc1\x8f\x9a\xc2\xb3b|\xec{Y\xc2\xd0\xc2\xc9\x03\xc4X\x9e^L\xbd\x97\xf7a\xd6\xc8a,\x88g0\xc98\x077*cx\xbc\xb5\x90J\xe9\xb3"\xa2\x87\xb8\x12\x8b\x82\xc4^5v\xb2\xd2D\x93K\xc6\x7f\xe6\xb3\xc6\x81 \x87\xd8\xafN\xe5\xd1\x13_t50g\x80\x96\x14n\x83\t\xb1\x88j,\xfa\x03\xc5*\x0cB).~\xc4\xe2\xbd\xb6D+U\xd0\xf1\x1b\x9c\x95\x93,\xc0\xc9\xd9\xff\xba\x00\x92\xe6\xd9)\xbbd\xf4\xee\xd4\xcf%\x8b\x8b\xb6\x83\xc2\xff\xd0Wv\xaf\x9c\xbf=^\xf8^\xa0\xe0Y1\x1b8\xa23\xa7\xa5\xe1\xa6W\xc8\xfa3t\xbe^\xe7\xac\xb9}\xa5\xce\xd81"\x00l\xd7\xd6\xbf\xe2\xda\xd1\xb5\xd3\xc7?\x80\xeb\x18\xb0\x8e\xf9\xac\xec\xc6\xfa\x82\x8dW\x98\x1d\x9f\xc8\n\xec\x01\x01\xd1\xed\x8ao\x87\x8d9\x02pS8\x87=b\xb8\xb7iwLpd\xda\xe638ij\xfaG\xd3\xfa\x96\tu\xd8gdL\x1ae\x89\x0b\x03\xe2\xe2\xa5\xba\x9a!\x1d\xf4\x12\xa2\x85\x14*\x90\xa3\xfe\xbd\x81.8\xe5n\x11\xdf\xd1\xbc\xa5)q\xa0\xee5\xe2^\xb7\x90se\xc8\xfa}\x94a\x1a\xe7\xe6\xb95\x01\xae\xbexc\xc1\xa0J\x90\x8d\'t\r\xa2\xbe\xe4\x0e\xef\xe1\xef\x1b&\x1f\xca\xfc\xf4\xafX?Cp\x8f\x96\xe34\xfe\xd2\xb0\x13;\xb2W\x83\xd7G\xdb+F\xbf\x80\xf2f5`\xac\x0b\xa2\xbe\xc6x\x90\x1dX\xd5l$\xbf\x98\xffibds\xe9\x8eN\xe1\xc4\xb0@\x03\xf0\xce\xa5r\xd3\xc4T#dD\xcc\xc6Y\xd7\xdd[d\x88\xd1\xc93o=\xa7\xcd\xfb\x05\xda\xf0\x93\xb5\xdfA\xef\x87\t\xc2+\x8c\n\x9c\\_\x16\x9d?n\xc5\x94E\xa8pJ"\xb0!6\x11\xd3\x88\x0cl\x97\n\xe5\x01\x01\xd1\xed\x8aoxL\x87:Ii?4\xbfr\xf9\xddl\xe56\xc9\xc8\x96\xb8\xf7<\x83rN\x86\xe5u\x1fM\x95\x8e\xc9\xdc\xd5\xf2\xfb\x89>n\xc6\x99\xd1\x9e\x01\xd5\xc9k\x99\xb2B\xa6\xf6\x97\x11]\x7f\xb0Jw\xd0q\xc7\xce\x03R\x1ae\xc0\x84\xf4\xaa\x8b\xe5E\xc9}\x05,\xc8\x99uy\xc5\x17\xc0\x10E\xd9\xbb\x93q\xfd\xb1l\xe7bR\xbc\xa7\x8f\x98\x8c\xae{)\x92\xe3\x17{\xf6Dp\xac\xadg\x15\xe9\xb4\\\xb2\x01Dg6E\xb2gj{\xaa\x17\x04)\x8c\x1c\xd1\xcc I/\xcc\xb3-1\xa2I\x13\x95\xd6<\x1c\x803\x99\x1b8&\xf3\xda\t\xa7\x97\xaf_\x1aB\x0f\\\xbc\x98\x11\x03A}\x1f\xbe\xee]v(\xd0\x8d\x84n\xa0.\x14p7d\xb0*\xc9\xc6\xf6\n\x14\xe0\xda\xa6\x9a\xe2\xb6\xf5\x11\xc8c\x8c\x90r\xe1\x14y\x1c~\t\x8e\xd5\xc2\x92\xe6f)p\n\xd0\x01\x01\xd1\xed\x8aof\xffu\xd5\xc0~A\x10\xbc\x8e\x08\xde[j\x05\x13\'\xe5\x02\xa7Wp\xf0\xe0O\xf6\xc8\xe7t\xd3\xca\x88\xa8\x99\x8b\xaf\xbc8\xa3t\xa1<j@\xb2u\x8f\xd4\x03\xa7\xe1\xd8\x8d\xb4\xec\n\xa9\xe0o+\xbd\nd\xf3{l\x165\xf7\xa7\xa2\xa9j\x15x{\xad\xf5\xa7\x06\xbb\xd5\xda\xd0\x01m\x8f\x9e\x06\x83\x04\xb1f\x97r\xe6\x18\xbd\xfc\x8c(\xad>xmT\x1e(\x8cXX\x9b\xbe\xc4\xc1\xde\xe5\xee\x81\xdfx6\xe1\xd6\xf3>\x8f\xf9X#[(\xb8\xb4Hi\x84\x87\xf7\xffyRr\xcf\x94\x7f_D\xa5M\xa9\xd9R2\xb4\xaczh\xa8^\xb9\x92I\x97\'\xe1\xd9\x99\xcbh\x9cov\xc4L\x95#lJ\xf5L\xf5\x80\x85\x87c\xca\xe8\xed\xb5+\xb60\xad\xa99\xac:k\xf4\x13\x18\xff',
                                "code_execution_result": None,
                                "executable_code": None,
                                "function_call": {
                                    "id": None,
                                    "args": {"isbn": "0-7653-1178-X"},
                                    "name": "get_book_info",
                                },
                                "function_response": None,
                                "text": None,
                            }
                        ],
                        "role": "model",
                    },
                ),
                UserMessage(
                    content=[
                        ToolOutput(
                            id="google_unknown_tool_id",
                            name="get_book_info",
                            value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text='{"publication_year": 2006, "author": "Brandon Sanderson", "title": "Mistborn: The Final Empire", "pages": 544}'
                        )
                    ],
                    provider="google",
                    model_id="gemini-2.5-flash",
                    raw_message={
                        "parts": [
                            {
                                "video_metadata": None,
                                "thought": None,
                                "inline_data": None,
                                "file_data": None,
                                "thought_signature": b"\n$\x01\xd1\xed\x8ao\xabs\x0f@\x10\xf4\xe8\xc2GV\xdd\x82s\x1b(}\xcd?\x10U\x84\xf4\xb1j\xac\xd0\xf9f\x87\xc3E\n|\x01\xd1\xed\x8aoj\xdc\x0e8>J\xc3\xc6\xc2H\xce@7\x9fm\xcd\x8e}\xc35(\x8a*!\x82\x9f@\xc0\x9b\xe0\xd8\xea\x15\xd0\x95\x1e%\xe6\xf1\xa4\x06\t\x12\xefw\xe7\x17\x08\xfd\xe0\x80l\xf5\xc3,\x16\xb8\x7f_\xefq\xa3\x8f\xc3?\x95\xf9\xe7\x94z\x96cw\xae\x9d\xdb\x08\x95R#\x9b\xb8x\x1f~\x05\xe5\xc4\x9b\x08|S\xf6-$m\x0ea\x98\x95J\x0bt\xb5}\xcf\xc2\xae\xde\xb6\xc3\xe9\xb0M\xe1o\x0bKR\n\xcf\x01\x01\xd1\xed\x8ao\xc2G|\xf9\xb8H\x86\x08\xb1\xba\xac\xe2\xbd;\xab\x80K\xe4c\x8d\xc5\xc7Rv5\x9d\xab4\xad=\x7f9\x15q\x91\x95\x1e\xf1\x9a\x94\x8e\xe7\xac\x8d4\x0f\x90)(/f>\xcc\xfe\xdf\xcf\xb1\xc7\xdf\x92a\xb2/.\xdcZ\xdc\xd3\xe1|\xab]mD\x13\x1az$\x8djeWp\xab&hh\x81\xc7\xd5\x99\x0e)\x87\x10\x02[\xbbd\xe9\xea}p\xe4\xa7G\x1bV\xb0n^\x90\x96@\xf02\xb3\xf1Sf\xa7\x90\xecG\x13\xd7\xaatq\xb11\xef\x93\xab(D\x11&\xc3U\xce\xfe\x05\x85\x7f\x99\xab\x1a\xd8@XI~%D\x0e\xf3i\xa1G\xab'\xa8\x1f\xfa\x02X\x12\xeb\xd9i+\x9b\xfc\x13%\xd2\x0e\xe5\xf0\x10'\xb7A\x95w\n\xe2\xe19?(W7\x8b\xb2\x95\xcei\xd8\xb9/\n\xb0\x01\x01\xd1\xed\x8ao\xe8\xfc\x91n\xaf\xde\xd9sDJ_\xb6`\xc4\xca\xe4C\x88E\xe1\x8eQ8\xcd(v\x15\xab\xda\x17\xae\x84~\xbc\x96/\xad\xdaD\x12l\xe6\xf9\x02\xa7:\xe5+W\x83\xb0\x8b0z\x90Yof\xdf:yO\xb3\xf21P//\xe6!\xf7\xf4ny\x8c\xa11\xf3\xef\xad\xaf\xe8a\x12\xbeE\x90j\"\x87K\x05\x16{\xf7q\xf3\x85\x86\x8f\xa69\xe0l\xd7\x1f\xbd\xa6#\x11d\xaa3\x92\x9a\xa2\xdd\x01\x12\xbcEM*\xdb\xcc\x83;T\xaa\xa9\x1bXkP\xac&\xc4\xdc;\xe8\x00L*{]\xcf\x91>k\xdb\xe1\xfb\xf8\x96\xbc\xcd\xd3\x1e\x01Y$\xdf\xc4HT(Ez\xa6\x9c>\n\xaa\x01\x01\xd1\xed\x8ao_\xd3\xc6L\xd0}\xdb\x14d\xb2\xf8}\xc4\xe4\xdb\x0f\x16\x81\xb9\xc4\xf5$\xce%\xbd#\xa6Q\x04\xc5^\x1f\xf5-\x92,k\xa3z\xe6\x9a\xf64\xe6\xa0\x1be\x8f\x0c\xc2\x13\xb4C\xe2\xe1\xe0\xcb\x8b\xf9\x95\xcd\xd6\xbb\xd6n\x0c\xbd\xa9n5\x14\xaaNw\x9a\xa1;\xae+M\x9a\xd3\x7f\xe0R\xbc\\\x03gOj]yTj\x8dr\xafh)\x13A\xd5\xc0\xc9\xe1)\xb7\x19B\xb6No\xc2\r\xb3\xe1P\x02\xe1,[\x19]s\xbc\x1f\xadn-\x88\xea\x97\x8f\x1c\xc8{3\x1d\xac-V\xa2\x13\xcfr\xf3u\xedY\rx\xa4\xd6\xc9n\xa3:,\xbe\xfe\xae1U\xfb\n\xc0\x01\x01\xd1\xed\x8ao\xe1\xd3\xd7\xba\x18\xbc\x16\x7f3\x1a\xd8\xbc\x9ce\xbe;\x8d\xf4\xa2\xcc&\xcd\xef\x85\xd6\xc2\x11\x8a\x92\xcc\xde;1z\xa9[N\xb4\x94\xb5\x7f\xc4Hm4K\xf0\xb1$\x15\x8b\xc2\xa2\xa4vG~\x0c\xe9\xa8ul\xdd\xa3\xc4\x04z:\x9e\xef\x99\x7f\xc6\x9d\x8b\x8f\xfa\xdcC\x1e\x99\xc5\xca\x95;\x94\xa1M\x149}\x81/zE4\xff \x07\x8dE\x05\xa8\xa3\x9b\x07\x9e\xe5v\xb5\xb1E\xfa\xa7\x1cM\xd6\xc4h\x91\xa6\xc2\x0bi\xc3\x87Me\xe1\xa3\xdbP<\x0b1\x10| \\m\x85\xc2\x93\xd7,\xbb{\xf5\x16\xda\x10$D\xc3#\xfe\xbd;\xc3\xe9\xec\x9a\x7f\xa50\xf8\xdc6K\x86[\xcd|W\xe0\x051L\xde\x81n\xf7\xe7\xaa\xbdx\x05\n\xe3\x01\x01\xd1\xed\x8ao\\\xc2$\xbaJ\xe6&pD\xc0H4}\xa6\xf6\xbc\x91\xe5^\xac\x02zf\x81\xbf\xff\xb0\xeb\xa9\x10`\x19\xff\x89\x07\x98]o\xcb|\x80j\xd0\xbd\x93\xa7?5r\x16\x7fdvP\xe5\x16\xf4 \x8c7\xffJ@\xb4\xca\x1d\x02\x14\xfb\xc5\x1c\xb1\xb5\xd6l\xfd{Wf\xf7o/C\xb5\x8f\xa4UB\xaa\xad\xc3\t\xb9\x866\xfe\xf0\x9a\x84\xf5\xd4\x90\x83\x17\xae\xc5\xe9Y/\xca|\x9c\xce\xf2:\xe19P\"_:]\xeb?z\x9d(@c\xb5\xae\xca\x84\xc7\xd0_\x98\x98\xc3\x81\x14\x85v\xba\x197^,\x0cgHDF\x18\x12\xa2u/\x13\x0e\x02\x08\xeb@\xf8\xc5\x9d\xbf\xb3o\x87\x05Zzv\x8e\x1ek2\xda+\xf9\xa9\xedJI\xa4\x0b8`\x11\xda\x08\xd2k\xbaSG\xd7\xcd\x9ae\xa0\x89S\xab9E\x8b&\xb9\xfet_\xfe\xddo;j\x88\xc0#\n\x89\x02\x01\xd1\xed\x8aoo\xea\xa8\x8d\xc6X\\\x16[7`\xbd\x04?\xa7g\xe9\xaa`\x89i\x072\xf65HL\xa6\xcd\x1cZ\xd8\x90\xe1\xa6\xffx\xe3\xc7\x0e\x05f\x9c\xb2\xb92F\xa0\x96\x81l\xfb\x1eY\x9er\xa0\xccA\xc17\x9d\xff\x17\xc7_\xb0\xe0]@\x96F\xb4\xbb\x90m\x91(x\xf2\x9e\x837e\x96\xa8~4\xba\x7f\xf3Po\x18\xc5|\x89\x1d_\xcd\xb5\xd7\xd0\x15\xe8m\xa5\xab<\x8f\x8b\xfe\x135t\xcc\xbf\xb4\x94\x80\x1e\t\xdb\xccr\x14B\nE\xea\xee\xea\r\x9aH\xf2&\xf2Z086V\x1e\x08\xf8X=\x19\xa6eO\x1f\x06Q\xf9\xaf\xecD\\\xfc\xd9+\xcb\x87ES\xabI\xe8n0\xb1jGA\xf1\x86\x90\x03\x15\x83\xc6!\xc6e>\xb2x\xc5]z6\x07(\xbe\x7f0\xe3\xbd\xdb=\x97\x1a\xe6QN\xc7[AQ\xf2!O@V\x9a\x81{v\x0f\xbc\x12\x17\xb8\xf9QL\x08\x98\xbd\xca\xb6\x9c7\x060\x87?^4\x86\xb1Uw\x85\xdd\xf4\n\xb2k\xdd(U\x0f\xe8\xedh\xe7\xe4\nE\x01\xd1\xed\x8aoU\xa6J\xcf\xa1\x9fD\x1f\xc3w\xe5\x15|0\xeeon\x12\xf3\xd5\xaf\xba\x14\xda0Tea\xe0f\xfct\x870\xdf\xc24\xd8a\xaf\xed\x1cZ\x8e+\x02\x98\x14\x1b\x83\xc7o+\x92\xca\x1c\r\xff\xbd<\xc1\x94r\xa3",
                                "code_execution_result": None,
                                "executable_code": None,
                                "function_call": {
                                    "id": None,
                                    "args": {
                                        "publication_year": 2006,
                                        "author": "Brandon Sanderson",
                                        "title": "Mistborn: The Final Empire",
                                        "pages": 544,
                                    },
                                    "name": "__mirascope_formatted_output_tool__",
                                },
                                "function_response": None,
                                "text": None,
                            }
                        ],
                        "role": "model",
                    },
                ),
            ],
            "format": {
                "name": "BookSummary",
                "description": None,
                "schema": {
                    "properties": {
                        "title": {"title": "Title", "type": "string"},
                        "author": {"title": "Author", "type": "string"},
                        "pages": {"title": "Pages", "type": "integer"},
                        "publication_year": {
                            "title": "Publication Year",
                            "type": "integer",
                        },
                    },
                    "required": ["title", "author", "pages", "publication_year"],
                    "title": "BookSummary",
                    "type": "object",
                },
                "mode": "tool",
                "formatting_instructions": "Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output.",
            },
            "tools": [
                {
                    "name": "get_book_info",
                    "description": "Look up book information by ISBN.",
                    "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                    "strict": False,
                }
            ],
            "n_chunks": 3,
        }
    }
)
async_stream_snapshot = snapshot(
    {
        "response": {
            "provider": "google",
            "model_id": "gemini-2.5-flash",
            "finish_reason": None,
            "messages": [
                SystemMessage(
                    content=Text(
                        text="Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output."
                    )
                ),
                UserMessage(
                    content=[
                        Text(
                            text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        ToolCall(
                            id="google_unknown_tool_id",
                            name="get_book_info",
                            args='{"isbn": "0-7653-1178-X"}',
                        )
                    ],
                    provider="google",
                    model_id="gemini-2.5-flash",
                    raw_message={
                        "parts": [
                            {
                                "video_metadata": None,
                                "thought": None,
                                "inline_data": None,
                                "file_data": None,
                                "thought_signature": b'\n$\x01\xd1\xed\x8ao\xb6\xc3\x8aNR\xdf\x92\rJ\x7f\xfd\xb9)qaa&2\x0eiGw]V}\xc98IP\xe8X\nm\x01\xd1\xed\x8ao\xf3s|\x98\x860\xd0e\xa4`\x8f\x86(l\xdf\xabWW\x805\xb5\xe6\xcd\xb6\x17\xec\xe6FU\xff\x13j\xb0\xfbGu\x04\xba\xfc\xc0\x03\xf7c\xd4\xa6\xd0\xe4\x9d57\x82e\x0f\xa8\x05\xc9\xe3\xbc\xcdB\xdd\x83o\x11\xe3\xc4\xc8\x86\xb9\x01-\xb8\xcb\xfd\x03\x94\xaf\x8fWx8\x8d\x101d\xb3eX\xc7\x8c["\x05$n\x0c$\xf3\xfd]\xba\xa7!0\n\xf1\x01\x01\xd1\xed\x8ao\xfeI\xc4|q\xb6k\x038l\xab]j\xf0i\xeb\xcd2\xd3#\xbfI\xefP}\xab\x86A\n\x83 \xe9\x11\xa6\xc8[a\x03\xf6\xe3\xd2\xa2\xb4\xb8\xa4\x9e\xf3\xb6\xef\x17\xf1\xc9\xe2\x16\xd8\xc6\x8e\xb3\x87\nG\xf7V}\xbc\x82\x9bK\x05z\xb1#_\xa6\xa0g@;"\x04,\xcfG\xa1:`H\xf5F\xde \xb8\xae\xa4x4\xa3\x12\x19\xf7\xdf4\xe3q\xfby\x0fE/\xf9I3\xbd_\xec\xdf\xca\xad\xffh\x8c\x9c\x11\x1b\x9bEu\xe4@\x9e\x010\xc2\r\xe4\xa6\xefi\x04\xac02\'\xc4\xe0\xc6\xc0B\xd3C\xbc\x1a\xda_\x8b\xa7\xda\x83`\xb1\x1d\xc7\xda\x8a\xce>\xae\xbd\x17P\t\xedTh?Z]L\x10,\xff]\x1e\x9b\x8e\x0e\x98\x9b\x93ihB\xbb\xd8\x16yZ\x15\xf5\xa3\xef;\xf8\x08^\xd0n\xaf\x99\x1fS?N*\x08v SKL\xa3e`.\xcd\x12\x9a}g\xa7/\x89\x1e^\n\x88\n\x8d\x02\x01\xd1\xed\x8ao\xf5\x0c\xbbd8\xd8\xe5R-\rw\x84/\xca\x1b|\x15\x97\x9e\xa1\xdb\xc0\x06\xfc#9\xc4\x18"\xc1\xd9\xfb\xa1\x87\xf8\x03#\xa9\xd8\x96wPA\x13Z\x82\x81~?\x8b\xa1\xf8\xf3\xa2&`\x8f\x1e\xdc\x02\xe2\xd2\xab\xc81*?\xc4\xb8\xe7\x8e\xc6PC<|"\x0eS\x07\x96\x0e^8P\xbf\x17\xfb\xbb\x1a\x13y\x9b5\xdb^\x9e\xff\xb8A\x7fL\xa2\xc7\x8d\xb3\x87M\xccV\xa9D\xeb;\x9e\xde8D_\x8e\xc9\x96\x18\xe94kV\x0e\xe48~2\xb8\xc1\x83\xc4\xae\x01\x1e{\xcb\xe0\x01\x1a\xdd\xabC\x85\xf6\x1a\xb7U;\xa4\x90\xb9\xb7\x05\xfa\xb1rb\x13\xa2\x95\xb4\'dx\x0e:\xeb\xf9\x91S\xdeB\t\xb6\xd9\xea\x8d\xe7\tY\xb2\x94\xb3\xa0c#\x9afG\xaf] \x0e\xab\x92a\xd5\x14\xe6\xde+\xad\t\xda\xa7\n6\t\x98\x01\xd2\x10y\xd1\xbb\xbe=\xa570\x06:Ak\x87Z[z\x89\x86\xf6\x95\x10\xa0\n\xd1\xec\x175h\xf0\x08\xab\xbf\xa2\x08&\x10l\xbe+U\xfdSR\x85:X\x8f\n\xe0\x01\x01\xd1\xed\x8ao2\xe6\x0f)\xbb\xf8dx\xfd\x1f\xba>\xd2\x85\x11\\t\x0b~\xc2\xf6\xa2"\xd4X\xec\x06\xfd\xab\x9f\x05\x9a\t\xcd\xe5\x8b\x82\xca\xaa\x1d\x81\xd8\x87<\xd4\xe1\xfb\x81\xc8\xa9\x946\x16p\xbb\x80Q\xde\xad\xd6{\xa2 a\x7ff\xd0Px` :e\xcb\xb6\xe8p\xbfy\x9a\xe0\xe6\x04\x8eW\x12[\x167\x98\x9bL\xe0\xb5\xce\xad\x96p\xe8\xa4\xd6\x08\x94\xc2dq\x84|\x06\xa1\xe0\xe13D\xa0\xe6\x1f\x10R\xa8\x92\td\x91\xe4C|\xd0\xa9pK\x85\xb9\r\xd0\x9e\xb5\r*#\x9d\x8e\xba\xfd\xe5/\x02gS\x87\x86\xd5rd\xb30\x9c\xc8\xacl\xdb\x9f\x10\xeb\xa4\x13L\xda\x16\xf2\xe8\'*\xe4q\xc8\xebl\xaf\xaf+i\x0b\x9a5Q\xbfx8!I\xa2t\xdc\xbbT\xc8\xa5\xb2u\x14\x1e\xf3$\xa2\x15\xe5\xbc\xfb\x91\xae\xb6Q{p\x04_\x18W\nH\x01\xd1\xed\x8ao \xaf\xfb\xd0\xb74\xf7\x12q\xec\xdc\xb79E\xed\x9c\xffA\xf8\x8d\x12^\xcfz\x8c\\\x89\xc0\x80\x16\xbe\xa5Iv\x10\x06Lj\x0e~f\x92\x93\xc4t\xb9:|9\x95\xe1\x86\xf8\xb1|\xdd\x07\x80V\xf6\xc3\xcc\x8e&\xc00\xf3',
                                "code_execution_result": None,
                                "executable_code": None,
                                "function_call": {
                                    "id": None,
                                    "args": {"isbn": "0-7653-1178-X"},
                                    "name": "get_book_info",
                                },
                                "function_response": None,
                                "text": None,
                            }
                        ],
                        "role": "model",
                    },
                ),
                UserMessage(
                    content=[
                        ToolOutput(
                            id="google_unknown_tool_id",
                            name="get_book_info",
                            value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text='{"author": "Brandon Sanderson", "publication_year": 2006, "pages": 544, "title": "Mistborn: The Final Empire"}'
                        )
                    ],
                    provider="google",
                    model_id="gemini-2.5-flash",
                    raw_message={
                        "parts": [
                            {
                                "video_metadata": None,
                                "thought": None,
                                "inline_data": None,
                                "file_data": None,
                                "thought_signature": b"\n$\x01\xd1\xed\x8ao8V\"\x15u\x92\xb9#\xfft\xdb\xe3T\t\x02P\x1f\x89\xf5\x02\xeb>\x03UP\xf5Hd\xd8\xd1\x11\n\x96\x01\x01\xd1\xed\x8ao\xab\xe3'\n\x15f\x81\xca\xec\x11sp.\x14(\xaf\x1f\xb9\x8b\x01i[\xaa\x14_\x0fCt0\x83$\x8b\x0b%R\xce\xbb9V\xfe\x9b\xdaDL\xd7\xce\xde\xb84\x7f\xe5D\xaf\t\xe5\xf2\xfd\xd0\x10\xe5.\xde\x98@\xf1\xe2[5\x18\x8c\xc1\xc7|\xd9\xa3P\x0f\xd8\xfd\x11;\x94\xb3\xb1\t\x8a@\x80~\xa0N\x1bAQ\xa5\xf0\xd3\xc9 (N\x1c\x91\xcdf1\x17\xd1\x12p\x10\x8f\xc5\x82\xd9F\xe2\xe0~\x9f\xbd\x1e\xa8\xd0gj\x97\xa2~tI\x84\xea\xb0\xf4\xdb\x90(\xda<\xa2W\xfa\xdd\xbb\n\xbf\x01\x01\xd1\xed\x8ao\xf7k\xbb\x9c\xb6*\xa6\xe9\x89~%.#+\xeb\x8e[}\x9bE-\x93\xf9\x94\xcb#`L\xa1\xe5\xa5I\xbaW\xb4V\xee\xe9\xfe\xa2&r\xd3\x9d\xddI\xa8\x05\x80\xdc\xf5\xcd\xe0z\xbb\xd2\xa0!}\x1d\xf6\xc5\xbaNA\xd3a3o\xbf\xd3\xf4\xc0N\xa4>\xe8\xf4\x14\xdd>\xda-(\x1956(3$*n\xec\xc9>\xcc;'\xe6K5z\xaa\xf0K\xe4\xf7\xab\xc66\xec\"\xf7\xa2_\xcc\n\x02R\x9f\xcc\xcep\xba)v@\x94\x12\xd7\xd4;\xd49\xbb\x11\xd6\x89\x8f0\xa2\xf7\x95\xd2t\xf3\xb8l\xc3\xf4p\xdc\x85\x0e>\x8a\xc9\x88W\xcb\xe5J\xfd\x80\xe8\xcf\x89`\xdfcC7\x0b\x92\x964\xba\xa6\xe0\x86 \x90\xaf\xd1\xee\xb3\n\xbf\x01\x01\xd1\xed\x8ao\xe2Q\xfbBW6Cn&\xd4\x19`e\xf9\xcd\x8b'\x8b\\\x14\x9c\x1eQ\x19\xef\xc6><\xf4\"#\xba\x15\x1d\x040b>c\xa2\x0e`\x869I\x05\xf8 \xbeb\x82jD\t\xa5\x07\x0bG\x10|K\xfeiA\xff\x16\x02\n\x7f\xd3\x83Tbg\x1fp\xb5+\xdf\x9d*MrLGS^\x1e\xed\x91$\xa2\x01;7\x11\xef\x05\xec\xd60\x9d\x1f\xfd\"\x03\x94\xec\x11\xb2I}^\xe1\x86\xf1_\x9c\nc\x08\x81\xdb\xcd\xca\x1d\xe8\xff\x8d<\x1d*\x9a\x04\x1a\xc2w\xbfQ\x1b\xba\xf1\xe2\t\xb9\x07\x1c'\x93\xbc\xb9\xd8\xf8\xaa)j\xf1\xa0\x99\xefp>\x9bv.y\x06n\x086%\x8b\xc51H\x0c*\x99U\x9a\x845%\x86\x8b\x86\n\xb9\x01\x01\xd1\xed\x8aof\x95@\xe5T\x1b\xb17V\xb1\xe2\xb7T\xc1{-a\x9cL\xed\x9d`\xf2\xdaS-\x19\xd5\x87L\x92\xdf\xd9v\xea\xa8{\x81\xa0\xbf\x13\x96\x9c\x8e\xd7\x16_=\xeb\xec\xd3\x81#\xfe\x98\x9bn\xd4#\xeb\xf1\xce\\\x7f\xb6\xc9\xf9\xbf\xed-\xc9_}u\xbb__\xcd\x90\xc7\xc7\x9eJ|\xa7.f\xa5\xf6\x91:8\xdd/\x98U\x8f}\xff\xd7\x82C\xe6\xbd\"\xad\x11!\n\xd9\x11\x99v\ncw\xd1\xcc\xcf\x83\xe3\xc3\xa4\xe2\xc4\xfb#2!\xd4Z\xf9\xdb\x86\xf6d\x05\xfb\x95\xa5\xdf\xe9\x08\xe1\x01D\x9a\x08\x16I\x179am\x02\xe9\x903ao\x97\x00Jc\r.\xa3\x95\xaa\xf5\x0f\x02\xdc\xc9\xee6l\xcc\xd4\xb2\n\x98\x01\x01\xd1\xed\x8ao\xf7\x95\xadg\xa7\x13-\xfb\r\xf4\x86\x89h$\xdb\xf7\xfa\x11\x1bz\x8f\x13\xb04KWB\x15\x98\x1c\xe6\x9c\xbax@\x8c\x9e\xcc\xff\xfd\xa3e\x91\xbe\x0b\xbe[\xdf\x08T05rM\xc2\xc9\xda\xc4+O\x96y\xb0bU\xfc\xfa\xd8\xaa\x98B\xb2\x9c\x831l\x1f9\x8a\xb0v>\xaf\xb24\xa7\xd8\x07\xfa\xe7\xac\x19y \x8f\t\x8e\xd9\x1do4\x8be\xc0\xf3\xack\x0b\xa5\xaf\xdd\x14\xa5$a\x03\xdc\xc7\xd6\xf7[\xe5\x04\xf3 \xba\x87\xf7\x9c\xc7\xb5(\x9dZ\x11\x16\xd9\xc30\x1bDa\x82F\xa5/j\n\xf5\x01\x01\xd1\xed\x8aoSr|\xfau\xf1t&~O\xf9 b2\xd1\x1f\x84$\\\x00w6\x95\xa17\xa1\xe7\x98@\x05\xe0\xc2|\xfa\x17\x94o\x1bd_\x16e\xfb\xe8\xa7L\xabs\xa5F\xa4\xc3\xf5\xbfw\x1b\x14\x06\x9e\x93M\x8d}H\xfc\x16\xe6\xae\x9f?\xfa\xa5}\x03l\x98T\xebr\x08\xd4\xfc\xcei\xc1\xec},\x95\xb4\xc5\x04\x82\xbeG\xe67<\xc3\x1f\x11\x0er\xa9v\xcaH\xe3\x1a\r\x1a\xc1-\xc3ys\x01\xbe,1\xfeG|\xac\xab0\x1d\x8d'\xacs\xd0j9\x93 \x1e|\xd6\xea\x95\x8cq\x80\\K\xd0r\x98\x08Q\xecNR\xae\xbf^eh\xd1\xae\x87{\x1a\xcb&\x1dT\xce\xbb\xd3\x8c\xa2o\x03\xd5\xa1e!e|\x7f\xb6\x89{\x17\x06v>\x1ds\xfd\xc7\xfad|\xaf@F\xd7\x80ehVp\xf2\x94D\x127\xfeH\xa3!\xc0\xc8\xea\xe1\xa6\xacg\x85S\x13\xa1\xb4\x13\xc4\x15S\x06\xcb_\x19\xfee\x8a\x92`\x01\n\x86\x02\x01\xd1\xed\x8aoy\xf4\x95W\xfc*F\xa9\xe3\x07\xfc\x00,2^K\xb1\x86\x9d\x84\x83\x1a\x82\xff}'ZG\x95\xf2?\r\x07\x1f4w=\xd3\xc8q\x125\xb9\xe2\n\xc6\xb7ZAp\xdf\x1dS#\xd3\xee89\xa5\xbd\x86\xd9AA\x00E\xef1b\xca\xa4|\x1d\xc8\x9a\xce\xcc\xd8m(dG\xd8\xe38\x99\x9eb\xe2\x85QH\x89\xd36\x96b\x9dh\xad\x7f\x06\xd8\x1f\x11\x9fJ\x89\x9a\xd7\x16\xadlbm\xca,\x9d\x87\x07o\xa5I\x07cd\xfc\x86\xee(-g\x06v\x82\x086\xbch.\xa9\x08\xc2\xbf^\x8a\xadP\xbe~.\xa3W\xaa\x14\xccA&[\x8e\xb6\x1e\xd5L\x92C\xbe\x8dU\xda\x0cE\xf1\xed\xba Y\x8f1,~\xf6_h\x99U3\x06\x1en\xe1'\xbdm\x15\x87\xa1\xbb\xaasv'\xa8\xfb\x88\x89Sk\x7f\xcd\x97\n\x8d\x18\xc2D\xf2u\x91\xd69\xb5\r\xb4\x19$\x1c\x9ev\xfe\xee)\x0em\xef\xcb\x8f\x1a\x1ac)\x13\x135:\xe75\xea}\xd7:\xf8\xd8&o\x9e\xf5\nz\x01\xd1\xed\x8aoz\xbeB\x1a\x8dG\xa6JD\x8e\xaf\xbc\x80R\xb3\x00S\xd43}2\x08\xacd\x96j\x08\xce\xf5\xf3\xaa\xa2\xb1\x94\xb0\x9f\xdc4\xe3\xc1\x97\xeb\x1fYp\x06\xc8,_\x8e\x12\xf3D\x0b\x8a~&\x89\x14e7\x11\xb0\x96\xfb\xc9Q\xa8\x1a\xc0\x93\x11\xf7\xc1\x06,e\xbf\xcc\x8e\x0c\xb0\x97b-\x12N\x05uC\x18Z\xca\x15r;?j\x19$3t\xf5a\xca\xc6\xd9\xaa\x94=a\xcf\x13$\x97u\x8f",
                                "code_execution_result": None,
                                "executable_code": None,
                                "function_call": {
                                    "id": None,
                                    "args": {
                                        "author": "Brandon Sanderson",
                                        "publication_year": 2006,
                                        "pages": 544,
                                        "title": "Mistborn: The Final Empire",
                                    },
                                    "name": "__mirascope_formatted_output_tool__",
                                },
                                "function_response": None,
                                "text": None,
                            }
                        ],
                        "role": "model",
                    },
                ),
            ],
            "format": {
                "name": "BookSummary",
                "description": None,
                "schema": {
                    "properties": {
                        "title": {"title": "Title", "type": "string"},
                        "author": {"title": "Author", "type": "string"},
                        "pages": {"title": "Pages", "type": "integer"},
                        "publication_year": {
                            "title": "Publication Year",
                            "type": "integer",
                        },
                    },
                    "required": ["title", "author", "pages", "publication_year"],
                    "title": "BookSummary",
                    "type": "object",
                },
                "mode": "tool",
                "formatting_instructions": "Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output.",
            },
            "tools": [
                {
                    "name": "get_book_info",
                    "description": "Look up book information by ISBN.",
                    "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                    "strict": False,
                }
            ],
            "n_chunks": 3,
        }
    }
)
