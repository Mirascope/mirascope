from inline_snapshot import snapshot

from mirascope.llm import (
    AssistantMessage,
    SystemMessage,
    Text,
    ToolCall,
    ToolOutput,
    UserMessage,
)

sync_snapshot = snapshot(
    {
        "response": {
            "provider_id": "anthropic",
            "model_id": "anthropic/claude-sonnet-4-5",
            "provider_model_name": "claude-sonnet-4-5",
            "params": {},
            "finish_reason": None,
            "usage": {
                "input_tokens": 904,
                "output_tokens": 304,
                "cache_read_tokens": 0,
                "cache_write_tokens": 0,
                "reasoning_tokens": 0,
                "raw": "Usage(cache_creation=CacheCreation(ephemeral_1h_input_tokens=0, ephemeral_5m_input_tokens=0), cache_creation_input_tokens=0, cache_read_input_tokens=0, input_tokens=904, output_tokens=304, server_tool_use=None, service_tier='standard')",
                "total_tokens": 1208,
            },
            "messages": [
                SystemMessage(
                    content=Text(
                        text="""\
Respond only with valid JSON that matches this exact schema:
{
  "properties": {
    "title": {
      "title": "Title",
      "type": "string"
    },
    "author": {
      "title": "Author",
      "type": "string"
    },
    "pages": {
      "title": "Pages",
      "type": "integer"
    },
    "publication_year": {
      "title": "Publication Year",
      "type": "integer"
    }
  },
  "required": [
    "title",
    "author",
    "pages",
    "publication_year"
  ],
  "title": "BookSummary",
  "type": "object"
}\
"""
                    )
                ),
                UserMessage(
                    content=[
                        Text(
                            text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text="I'll look up the book information for ISBN 0-7653-1178-X."
                        ),
                        ToolCall(
                            id="toolu_01CbrmhKDPwcB2ZvTVDhDE87",
                            name="get_book_info",
                            args='{"isbn": "0-7653-1178-X"}',
                        ),
                    ],
                    provider_id="anthropic",
                    model_id="anthropic/claude-sonnet-4-5",
                    provider_model_name="claude-sonnet-4-5",
                    raw_message={
                        "role": "assistant",
                        "content": [
                            {
                                "citations": None,
                                "text": "I'll look up the book information for ISBN 0-7653-1178-X.",
                                "type": "text",
                            },
                            {
                                "id": "toolu_01CbrmhKDPwcB2ZvTVDhDE87",
                                "input": {"isbn": "0-7653-1178-X"},
                                "name": "get_book_info",
                                "type": "tool_use",
                            },
                        ],
                    },
                ),
                UserMessage(
                    content=[
                        ToolOutput(
                            id="toolu_01CbrmhKDPwcB2ZvTVDhDE87",
                            name="get_book_info",
                            value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text="""\
```json
{
  "title": "Mistborn: The Final Empire",
  "author": "Brandon Sanderson",
  "pages": 544,
  "publication_year": 2006
}
```

**Detailed Information:**

This is "Mistborn: The Final Empire" by Brandon Sanderson, the first book in the critically acclaimed Mistborn series. Published in 2006, this epic fantasy novel spans 544 pages and introduces readers to a unique magic system called Allomancy.

The story is set in a world where the Dark Lord won and has ruled for a thousand years. It follows Vin, a street thief who discovers she has powerful magical abilities, and Kelsier, a charismatic rebel who recruits her into his crew to overthrow the immortal Lord Ruler.

**Recommendation Score: 9/10**

This book is highly recommended for fans of:
- Fantasy with innovative magic systems
- Heist stories with a twist
- Complex worldbuilding
- Character-driven narratives
- Dark but hopeful themes

Brandon Sanderson's intricate Allomancy system (where characters "burn" metals to gain powers) is one of the most original magic systems in fantasy literature. The book expertly blends political intrigue, action, and character development, making it a modern classic in the genre.\
"""
                        )
                    ],
                    provider_id="anthropic",
                    model_id="anthropic/claude-sonnet-4-5",
                    provider_model_name="claude-sonnet-4-5",
                    raw_message={
                        "role": "assistant",
                        "content": [
                            {
                                "citations": None,
                                "text": """\
```json
{
  "title": "Mistborn: The Final Empire",
  "author": "Brandon Sanderson",
  "pages": 544,
  "publication_year": 2006
}
```

**Detailed Information:**

This is "Mistborn: The Final Empire" by Brandon Sanderson, the first book in the critically acclaimed Mistborn series. Published in 2006, this epic fantasy novel spans 544 pages and introduces readers to a unique magic system called Allomancy.

The story is set in a world where the Dark Lord won and has ruled for a thousand years. It follows Vin, a street thief who discovers she has powerful magical abilities, and Kelsier, a charismatic rebel who recruits her into his crew to overthrow the immortal Lord Ruler.

**Recommendation Score: 9/10**

This book is highly recommended for fans of:
- Fantasy with innovative magic systems
- Heist stories with a twist
- Complex worldbuilding
- Character-driven narratives
- Dark but hopeful themes

Brandon Sanderson's intricate Allomancy system (where characters "burn" metals to gain powers) is one of the most original magic systems in fantasy literature. The book expertly blends political intrigue, action, and character development, making it a modern classic in the genre.\
""",
                                "type": "text",
                            }
                        ],
                    },
                ),
            ],
            "format": {
                "name": "BookSummary",
                "description": None,
                "schema": {
                    "properties": {
                        "title": {"title": "Title", "type": "string"},
                        "author": {"title": "Author", "type": "string"},
                        "pages": {"title": "Pages", "type": "integer"},
                        "publication_year": {
                            "title": "Publication Year",
                            "type": "integer",
                        },
                    },
                    "required": ["title", "author", "pages", "publication_year"],
                    "title": "BookSummary",
                    "type": "object",
                },
                "mode": "json",
                "formatting_instructions": """\
Respond only with valid JSON that matches this exact schema:
{
  "properties": {
    "title": {
      "title": "Title",
      "type": "string"
    },
    "author": {
      "title": "Author",
      "type": "string"
    },
    "pages": {
      "title": "Pages",
      "type": "integer"
    },
    "publication_year": {
      "title": "Publication Year",
      "type": "integer"
    }
  },
  "required": [
    "title",
    "author",
    "pages",
    "publication_year"
  ],
  "title": "BookSummary",
  "type": "object"
}\
""",
            },
            "tools": [
                {
                    "name": "get_book_info",
                    "description": "Look up book information by ISBN.",
                    "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                    "strict": False,
                }
            ],
        }
    }
)
async_snapshot = snapshot(
    {
        "response": {
            "provider_id": "anthropic",
            "model_id": "anthropic/claude-sonnet-4-5",
            "provider_model_name": "claude-sonnet-4-5",
            "params": {},
            "finish_reason": None,
            "usage": {
                "input_tokens": 884,
                "output_tokens": 317,
                "cache_read_tokens": 0,
                "cache_write_tokens": 0,
                "reasoning_tokens": 0,
                "raw": "Usage(cache_creation=CacheCreation(ephemeral_1h_input_tokens=0, ephemeral_5m_input_tokens=0), cache_creation_input_tokens=0, cache_read_input_tokens=0, input_tokens=884, output_tokens=317, server_tool_use=None, service_tier='standard')",
                "total_tokens": 1201,
            },
            "messages": [
                SystemMessage(
                    content=Text(
                        text="""\
Respond only with valid JSON that matches this exact schema:
{
  "properties": {
    "title": {
      "title": "Title",
      "type": "string"
    },
    "author": {
      "title": "Author",
      "type": "string"
    },
    "pages": {
      "title": "Pages",
      "type": "integer"
    },
    "publication_year": {
      "title": "Publication Year",
      "type": "integer"
    }
  },
  "required": [
    "title",
    "author",
    "pages",
    "publication_year"
  ],
  "title": "BookSummary",
  "type": "object"
}\
"""
                    )
                ),
                UserMessage(
                    content=[
                        Text(
                            text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        ToolCall(
                            id="toolu_012GBxYYYvfeoPKaNrFtAqLc",
                            name="get_book_info",
                            args='{"isbn": "0-7653-1178-X"}',
                        )
                    ],
                    provider_id="anthropic",
                    model_id="anthropic/claude-sonnet-4-5",
                    provider_model_name="claude-sonnet-4-5",
                    raw_message={
                        "role": "assistant",
                        "content": [
                            {
                                "id": "toolu_012GBxYYYvfeoPKaNrFtAqLc",
                                "input": {"isbn": "0-7653-1178-X"},
                                "name": "get_book_info",
                                "type": "tool_use",
                            }
                        ],
                    },
                ),
                UserMessage(
                    content=[
                        ToolOutput(
                            id="toolu_012GBxYYYvfeoPKaNrFtAqLc",
                            name="get_book_info",
                            value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text="""\
```json
{
  "title": "Mistborn: The Final Empire",
  "author": "Brandon Sanderson",
  "pages": 544,
  "publication_year": 2006
}
```

**Additional Information:**

**Mistborn: The Final Empire** is the first book in Brandon Sanderson's critically acclaimed Mistborn trilogy. This epic fantasy novel is set in a dark world where ash falls from the sky, mists dominate the night, and the immortal Lord Ruler has reigned for a thousand years.

The story follows Kelsier, a charismatic thief with extraordinary magical abilities, and Vin, a street urchin who discovers she has similar powers. Together with a crew of skilled rebels, they plan the impossible: to overthrow the Lord Ruler's oppressive empire.

The magic system, called Allomancy, is one of the most innovative in fantasy literature—practitioners "burn" metals they've ingested to gain various supernatural abilities.

**Recommendation Score: 9/10**

This book is highly recommended for fans of epic fantasy who appreciate:
- Intricate, well-defined magic systems
- Heist-style plotting combined with epic scope
- Strong character development
- Dark atmospheric settings with hope emerging from darkness
- Complex world-building

Brandon Sanderson's masterful storytelling and unique magical system make this a must-read for fantasy enthusiasts.\
"""
                        )
                    ],
                    provider_id="anthropic",
                    model_id="anthropic/claude-sonnet-4-5",
                    provider_model_name="claude-sonnet-4-5",
                    raw_message={
                        "role": "assistant",
                        "content": [
                            {
                                "citations": None,
                                "text": """\
```json
{
  "title": "Mistborn: The Final Empire",
  "author": "Brandon Sanderson",
  "pages": 544,
  "publication_year": 2006
}
```

**Additional Information:**

**Mistborn: The Final Empire** is the first book in Brandon Sanderson's critically acclaimed Mistborn trilogy. This epic fantasy novel is set in a dark world where ash falls from the sky, mists dominate the night, and the immortal Lord Ruler has reigned for a thousand years.

The story follows Kelsier, a charismatic thief with extraordinary magical abilities, and Vin, a street urchin who discovers she has similar powers. Together with a crew of skilled rebels, they plan the impossible: to overthrow the Lord Ruler's oppressive empire.

The magic system, called Allomancy, is one of the most innovative in fantasy literature—practitioners "burn" metals they've ingested to gain various supernatural abilities.

**Recommendation Score: 9/10**

This book is highly recommended for fans of epic fantasy who appreciate:
- Intricate, well-defined magic systems
- Heist-style plotting combined with epic scope
- Strong character development
- Dark atmospheric settings with hope emerging from darkness
- Complex world-building

Brandon Sanderson's masterful storytelling and unique magical system make this a must-read for fantasy enthusiasts.\
""",
                                "type": "text",
                            }
                        ],
                    },
                ),
            ],
            "format": {
                "name": "BookSummary",
                "description": None,
                "schema": {
                    "properties": {
                        "title": {"title": "Title", "type": "string"},
                        "author": {"title": "Author", "type": "string"},
                        "pages": {"title": "Pages", "type": "integer"},
                        "publication_year": {
                            "title": "Publication Year",
                            "type": "integer",
                        },
                    },
                    "required": ["title", "author", "pages", "publication_year"],
                    "title": "BookSummary",
                    "type": "object",
                },
                "mode": "json",
                "formatting_instructions": """\
Respond only with valid JSON that matches this exact schema:
{
  "properties": {
    "title": {
      "title": "Title",
      "type": "string"
    },
    "author": {
      "title": "Author",
      "type": "string"
    },
    "pages": {
      "title": "Pages",
      "type": "integer"
    },
    "publication_year": {
      "title": "Publication Year",
      "type": "integer"
    }
  },
  "required": [
    "title",
    "author",
    "pages",
    "publication_year"
  ],
  "title": "BookSummary",
  "type": "object"
}\
""",
            },
            "tools": [
                {
                    "name": "get_book_info",
                    "description": "Look up book information by ISBN.",
                    "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                    "strict": False,
                }
            ],
        }
    }
)
stream_snapshot = snapshot(
    {
        "response": {
            "provider_id": "anthropic",
            "provider_model_name": "claude-sonnet-4-5",
            "model_id": "anthropic/claude-sonnet-4-5",
            "finish_reason": None,
            "messages": [
                SystemMessage(
                    content=Text(
                        text="""\
Respond only with valid JSON that matches this exact schema:
{
  "properties": {
    "title": {
      "title": "Title",
      "type": "string"
    },
    "author": {
      "title": "Author",
      "type": "string"
    },
    "pages": {
      "title": "Pages",
      "type": "integer"
    },
    "publication_year": {
      "title": "Publication Year",
      "type": "integer"
    }
  },
  "required": [
    "title",
    "author",
    "pages",
    "publication_year"
  ],
  "title": "BookSummary",
  "type": "object"
}\
"""
                    )
                ),
                UserMessage(
                    content=[
                        Text(
                            text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        ToolCall(
                            id="toolu_016Uezag7Kc66imaW9P3QzRP",
                            name="get_book_info",
                            args='{"isbn": "0-7653-1178-X"}',
                        )
                    ],
                    provider_id="anthropic",
                    model_id="anthropic/claude-sonnet-4-5",
                    provider_model_name="claude-sonnet-4-5",
                    raw_message={
                        "role": "assistant",
                        "content": [
                            {
                                "type": "tool_use",
                                "id": "toolu_016Uezag7Kc66imaW9P3QzRP",
                                "name": "get_book_info",
                                "input": {"isbn": "0-7653-1178-X"},
                            }
                        ],
                    },
                ),
                UserMessage(
                    content=[
                        ToolOutput(
                            id="toolu_016Uezag7Kc66imaW9P3QzRP",
                            name="get_book_info",
                            value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text="""\
```json
{
  "title": "Mistborn: The Final Empire",
  "author": "Brandon Sanderson",
  "pages": 544,
  "publication_year": 2006
}
```

**Additional Details:**

"Mistborn: The Final Empire" is the first book in Brandon Sanderson's acclaimed Mistborn series. This epic fantasy novel is set in a world where ash falls from the sky, mist dominates the night, and the immortal Lord Ruler has reigned with absolute power for a thousand years. The story follows Vin, a street urchin who discovers she has the rare power of a Mistborn - someone who can "burn" multiple metals to gain supernatural abilities.

**Recommendation Score: 9/10**

This book is highly recommended for:
- Fantasy readers who enjoy intricate magic systems
- Fans of heist stories with a fantasy twist
- Readers who appreciate well-developed characters and plot twists
- Those looking for a complete trilogy with a satisfying conclusion

Brandon Sanderson is known for his detailed world-building and innovative magic systems, and Mistborn is considered one of his best works. The book has received critical acclaim and has a strong fanbase within the fantasy community.\
"""
                        )
                    ],
                    provider_id="anthropic",
                    model_id="anthropic/claude-sonnet-4-5",
                    provider_model_name="claude-sonnet-4-5",
                    raw_message={
                        "role": "assistant",
                        "content": [
                            {
                                "type": "text",
                                "text": """\
```json
{
  "title": "Mistborn: The Final Empire",
  "author": "Brandon Sanderson",
  "pages": 544,
  "publication_year": 2006
}
```

**Additional Details:**

"Mistborn: The Final Empire" is the first book in Brandon Sanderson's acclaimed Mistborn series. This epic fantasy novel is set in a world where ash falls from the sky, mist dominates the night, and the immortal Lord Ruler has reigned with absolute power for a thousand years. The story follows Vin, a street urchin who discovers she has the rare power of a Mistborn - someone who can "burn" multiple metals to gain supernatural abilities.

**Recommendation Score: 9/10**

This book is highly recommended for:
- Fantasy readers who enjoy intricate magic systems
- Fans of heist stories with a fantasy twist
- Readers who appreciate well-developed characters and plot twists
- Those looking for a complete trilogy with a satisfying conclusion

Brandon Sanderson is known for his detailed world-building and innovative magic systems, and Mistborn is considered one of his best works. The book has received critical acclaim and has a strong fanbase within the fantasy community.\
""",
                            }
                        ],
                    },
                ),
            ],
            "format": {
                "name": "BookSummary",
                "description": None,
                "schema": {
                    "properties": {
                        "title": {"title": "Title", "type": "string"},
                        "author": {"title": "Author", "type": "string"},
                        "pages": {"title": "Pages", "type": "integer"},
                        "publication_year": {
                            "title": "Publication Year",
                            "type": "integer",
                        },
                    },
                    "required": ["title", "author", "pages", "publication_year"],
                    "title": "BookSummary",
                    "type": "object",
                },
                "mode": "json",
                "formatting_instructions": """\
Respond only with valid JSON that matches this exact schema:
{
  "properties": {
    "title": {
      "title": "Title",
      "type": "string"
    },
    "author": {
      "title": "Author",
      "type": "string"
    },
    "pages": {
      "title": "Pages",
      "type": "integer"
    },
    "publication_year": {
      "title": "Publication Year",
      "type": "integer"
    }
  },
  "required": [
    "title",
    "author",
    "pages",
    "publication_year"
  ],
  "title": "BookSummary",
  "type": "object"
}\
""",
            },
            "tools": [
                {
                    "name": "get_book_info",
                    "description": "Look up book information by ISBN.",
                    "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                    "strict": False,
                }
            ],
            "usage": {
                "input_tokens": 884,
                "output_tokens": 279,
                "cache_read_tokens": 0,
                "cache_write_tokens": 0,
                "reasoning_tokens": 0,
                "raw": "None",
                "total_tokens": 1163,
            },
            "n_chunks": 88,
        }
    }
)
async_stream_snapshot = snapshot(
    {
        "response": {
            "provider_id": "anthropic",
            "provider_model_name": "claude-sonnet-4-5",
            "model_id": "anthropic/claude-sonnet-4-5",
            "finish_reason": None,
            "messages": [
                SystemMessage(
                    content=Text(
                        text="""\
Respond only with valid JSON that matches this exact schema:
{
  "properties": {
    "title": {
      "title": "Title",
      "type": "string"
    },
    "author": {
      "title": "Author",
      "type": "string"
    },
    "pages": {
      "title": "Pages",
      "type": "integer"
    },
    "publication_year": {
      "title": "Publication Year",
      "type": "integer"
    }
  },
  "required": [
    "title",
    "author",
    "pages",
    "publication_year"
  ],
  "title": "BookSummary",
  "type": "object"
}\
"""
                    )
                ),
                UserMessage(
                    content=[
                        Text(
                            text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        ToolCall(
                            id="toolu_019tBapA33WAV3gc9x1NiwhC",
                            name="get_book_info",
                            args='{"isbn": "0-7653-1178-X"}',
                        )
                    ],
                    provider_id="anthropic",
                    model_id="anthropic/claude-sonnet-4-5",
                    provider_model_name="claude-sonnet-4-5",
                    raw_message={
                        "role": "assistant",
                        "content": [
                            {
                                "type": "tool_use",
                                "id": "toolu_019tBapA33WAV3gc9x1NiwhC",
                                "name": "get_book_info",
                                "input": {"isbn": "0-7653-1178-X"},
                            }
                        ],
                    },
                ),
                UserMessage(
                    content=[
                        ToolOutput(
                            id="toolu_019tBapA33WAV3gc9x1NiwhC",
                            name="get_book_info",
                            value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                        )
                    ]
                ),
                AssistantMessage(
                    content=[
                        Text(
                            text="""\
```json
{
  "title": "Mistborn: The Final Empire",
  "author": "Brandon Sanderson",
  "pages": 544,
  "publication_year": 2006
}
```

**Additional Information:**

**Mistborn: The Final Empire** is the first book in Brandon Sanderson's acclaimed Mistborn series. This epic fantasy novel is set in a world where ash falls from the sky, mists dominate the night, and the immortal Lord Ruler has reigned for a thousand years. The story follows Kelsier, a charismatic thief and Mistborn (someone who can use all Allomantic powers), and Vin, a street urchin who discovers her own Mistborn abilities, as they plan an impossible heist to overthrow the empire.

**Recommendation Score: 9/10**

This book is highly recommended for fans of:
- Epic fantasy with unique magic systems
- Heist narratives with complex plotting
- Well-developed characters and world-building
- Action-packed stories with political intrigue

Sanderson's innovative Allomancy magic system (using metals to gain powers) is particularly praised, and this book serves as an excellent entry point to his Cosmere universe.\
"""
                        )
                    ],
                    provider_id="anthropic",
                    model_id="anthropic/claude-sonnet-4-5",
                    provider_model_name="claude-sonnet-4-5",
                    raw_message={
                        "role": "assistant",
                        "content": [
                            {
                                "type": "text",
                                "text": """\
```json
{
  "title": "Mistborn: The Final Empire",
  "author": "Brandon Sanderson",
  "pages": 544,
  "publication_year": 2006
}
```

**Additional Information:**

**Mistborn: The Final Empire** is the first book in Brandon Sanderson's acclaimed Mistborn series. This epic fantasy novel is set in a world where ash falls from the sky, mists dominate the night, and the immortal Lord Ruler has reigned for a thousand years. The story follows Kelsier, a charismatic thief and Mistborn (someone who can use all Allomantic powers), and Vin, a street urchin who discovers her own Mistborn abilities, as they plan an impossible heist to overthrow the empire.

**Recommendation Score: 9/10**

This book is highly recommended for fans of:
- Epic fantasy with unique magic systems
- Heist narratives with complex plotting
- Well-developed characters and world-building
- Action-packed stories with political intrigue

Sanderson's innovative Allomancy magic system (using metals to gain powers) is particularly praised, and this book serves as an excellent entry point to his Cosmere universe.\
""",
                            }
                        ],
                    },
                ),
            ],
            "format": {
                "name": "BookSummary",
                "description": None,
                "schema": {
                    "properties": {
                        "title": {"title": "Title", "type": "string"},
                        "author": {"title": "Author", "type": "string"},
                        "pages": {"title": "Pages", "type": "integer"},
                        "publication_year": {
                            "title": "Publication Year",
                            "type": "integer",
                        },
                    },
                    "required": ["title", "author", "pages", "publication_year"],
                    "title": "BookSummary",
                    "type": "object",
                },
                "mode": "json",
                "formatting_instructions": """\
Respond only with valid JSON that matches this exact schema:
{
  "properties": {
    "title": {
      "title": "Title",
      "type": "string"
    },
    "author": {
      "title": "Author",
      "type": "string"
    },
    "pages": {
      "title": "Pages",
      "type": "integer"
    },
    "publication_year": {
      "title": "Publication Year",
      "type": "integer"
    }
  },
  "required": [
    "title",
    "author",
    "pages",
    "publication_year"
  ],
  "title": "BookSummary",
  "type": "object"
}\
""",
            },
            "tools": [
                {
                    "name": "get_book_info",
                    "description": "Look up book information by ISBN.",
                    "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                    "strict": False,
                }
            ],
            "usage": {
                "input_tokens": 884,
                "output_tokens": 283,
                "cache_read_tokens": 0,
                "cache_write_tokens": 0,
                "reasoning_tokens": 0,
                "raw": "None",
                "total_tokens": 1167,
            },
            "n_chunks": 89,
        }
    }
)
