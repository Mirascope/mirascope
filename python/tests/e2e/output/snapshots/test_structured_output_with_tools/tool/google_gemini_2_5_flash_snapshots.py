from inline_snapshot import snapshot

from mirascope.llm import (
    AssistantMessage,
    SystemMessage,
    Text,
    ToolCall,
    ToolOutput,
    UserMessage,
)

sync_snapshot = snapshot(
    {
        "provider": "google",
        "model_id": "gemini-2.5-flash",
        "params": {},
        "finish_reason": None,
        "messages": [
            SystemMessage(
                content=Text(
                    text="Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output."
                )
            ),
            UserMessage(
                content=[
                    Text(
                        text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                    )
                ]
            ),
            AssistantMessage(
                content=[
                    ToolCall(
                        id="google_unknown_tool_id",
                        name="get_book_info",
                        args='{"isbn": "0-7653-1178-X"}',
                    )
                ],
                provider="google",
                model_id="gemini-2.5-flash",
                raw_content=[
                    {
                        "video_metadata": None,
                        "thought": None,
                        "inline_data": None,
                        "file_data": None,
                        "thought_signature": b"\n\xee6\x01\xd1\xed\x8ao\xec^\x80\xc1\xda\xb1\xeej\xecH\xfc\r\xb19\x17\xa67\x9d\xb2\xbc\x9e1A\xc0\xdf\xce\xd4\x90\x84.\x96\xbdoU\x1e\r\x97h4.\x8c\x9a\x8d\x1d\xa9\xc9\xfe\xa8\xd7g\xa5\xa8\xd8\x13sc\x03\x9fl\xb5\xd4Wy\xd2\xeb^\xf8=\x1bY\xdfp!\x84\xfa\xb1\xc2P\x83~\xff\xe8\x8d\xe0\xb6\x0c\xa5\xe3<\xb4\xfb\xbe+A\xf0\x15\xe4N%\x13\x8e\xfc\xd9\x99a\x06\xc5\x7f\xee\x85\x16\x0f\xf2\xeb\x04\xc9\xdf\xe9d>I\x08Lpg\x92\x01\x87\xd8R\x96\x07\xb7k\x86\x00H\x0c\x14\xdf\xe7\x94\xcb\xd8\x1d2\x8f+\x0e]\xca\xf2\xc1\xbcs\x97\x0eXMw\xc8\x19\x80\xad\x8f\x9e6\xda;M\x98\x0eni\xe3L\t}\xb7c\xf7\xcd\x1a\xac\x17e9\x80p\xe7\x9fl\xcdI\xb6\xbf\x0br\xe1\n]~\xd3K\xd9\xaf(8<\xf5\x0c\"\x17Z\xec\x1eV\x18\xf4\xe1\x1db\x97\xfb&aB\x95;\xf4\x06(\xfe\x8f\n\x85q}\xb4\x01@\x81\xb3\x92\x9e \x9a]\xb0\xb2\xbd\xee\xb6z\xc9\x1f\xf1\xf9sOOj]\xf4\xee\x1b\xb6\xea\x9f\x83\x8f\x19\xb6\xd6\xc8\x92\xf6\x01\xae\xd7\xe1 p\xba\xab\xf51\xab\x97\xbc\xcdu\xdb^\x1b\xf9\x17q\xe1\x8d \xfd\xe5wFH\xb9i\xf2r\xf6\xc4\xf1ha%\r\xbf\x96\\\xef\xe4\xf2\xe8\xaf,\x82i\x8d\xc6\x10Y\xb3\xc1\x1c\xb9c\x85\xea\xd5Yv\xefQ\xb50\xa4\x80\x1e\x11%5d\xce\xba}T@#\xc3\x84\xae?=\xab\xf7\x8d\x8bX\x08\xb2\xce\xf1_\x08'\x99\xd1\r\x82\xea\xd60\xbd\xa6YX\xe4f\xb8\xde`\x99\x96\xb4N\x14\x19\xc2\xcd\xbf\x14\xc8\xee\xd7\xfd\xc5\xb6\xa4\x95&\\\x90\xa5b'\x11\xa7\xdc:\x14; s\xa1\x94\x0f\xac\x0c&M\xee\x98\xf0\r:\xa1\xca]\xeb\xf9\xa5\xbf\xd6,\xdb\x13XC\xdb\xcd\xb2v\x9b\x00\xffA\x1f\x9d#\x19\x06\x9aY\xeeU2\xa8\\_&5\xc84\xc7)\x9aO\x1d\xe9\xd1O\x947\xf6BL\xf3\x0c\xcb1 M\xe0\x1cI9\xc1\xc3\xa5\xba\x98\xa4\xa2\xe7\xefb\xc9\xd9f\x18\x8d`\xe7V\xecW\xaa\xa8\xc8\xd0\x1d-\xd8\xca\\H\xd1>.@\xe0\xceM-\x93\xac\xcd\xb0wf\x16iYT\xdc\x8b\xe2\x80\xbf\xc6\xf9>\xc7/1J\xffH\xe1N\xfb\xcbj?\x06\xf5\xff\xb6\xef\x00\xd3\x07[n\xe4(\x8b\x05{j\x80\x0b\x1eDJ~\xc4\x87\xbenN\x95\xf0\x89\x06\xdf9\x92\xcet\x9e1\xe0\xc4\x9a\x1d\x10e\x0cF{B\xb7\x19\xad\xc0\xc5\x05H@2\x98\xcc\x1c\xdf\x12\x12~q7\x01+\xfeA\xd8[\xaf*WQ\xe9]\xc9-\xd9\x1b\x14\xd5\x04\xf3(k\x95\x96;J\xabR\xd5\xf6I~\xf0\x08\x97\x04m\x80\xc4\xfa\x95\xd5\x82\xefc\xd4\xb0\x87\xb7\xeaRN\x962\x15:\xc35\x14\xd2},D\x81\xe0\xbb\\[\xb4\t\xcd]\xf0\x19\xa9(\xa9*T\xd3\x96\xc2\xbc+\xc3D\x9d]\xd0 s\xaa\xb9\xb3\xcd\x87r*\x07\xd9\xbd\nN\xef\x01!\x84\xdbv\xfd){\x94\x1d\x87\xc7\xfe\x97m\xa9e\xabv\xc5Ae\r\r\xd6\x14\xa1T\xf6\xe41M\xfd\xac\xb7\xe9\xde\x8dEK\xc7\xcd\x98\xe6\xa8\x07\xa2C\xb4\x9a\x83\x99\x84\xf57m\xb7|Oo\x9d\xd1\x95\xe0@\xe2\xa0\x80\xc2]\xa6ao\xe5@JI\x97\xea\x99\x03\xeag1\x0f\xd0\xf3[k\xff\x19\x98\xd1{w\xdf\xa86\xc6\xdd)\xa3\xf7L~\x99\xc1J\x8b\xad\xaf{f\xceB\x9c\xbe\x81\x83:\xd5h\x94\\\xf1\xca\x85\x0b\xae\xf6\xee\x9a+b{\xfc\xc8\xb6V\x16\xd5\x08\x88\x8eK\\'\xcc\xe7\xbd\xb2\xa1\xfef\xff\x97\x93D\x9f\x1bg\x9a\x9e\xa9`\xa1\xdb\x12\x87m\x1a \xff\xb4\xb0h\x10\xc0&\xf4\xc8\xcc\xd9s\x10\xf6\xf9\xe9\xb1\x08\xe5\xd2*\xf6Y\xcf\x19\xa6\x97i<)\x06\xb4km5\x0b\x7f\x89\x89*!\xfd5)\xbe\xd3\nS\x9e\xc7\x86\xb1\xcc\xe0]\xdc\x85r\xcd\x1b\xc1\xa1u\xb8\x16\xe4S\xfc\x05 |8\xbaK\x18aYK\xee\xd9\xe4\xc2\xf4\xa8\xcf~\xce\x19\x91\xab\xdbg\x7f\x17>\xa3\x0f:\x97'\xb8\n\xc7p|\xc9/45i\x05\x9b\x9bj\xea\x9a>N\xbc\xcd1\xfec\x8d\xf7]4\xa1\xaf\xc1_\xbc3\xb5\x8e rn,a\x14L\x9f\xa2E\xb5\xe8\xfe\xe2Xh`S4\xba\xab\xd9\xf8\xfc\xe2\x83ST\xa3\x03\xc6\x1f\xcb\xd3\xf5\xf4\x02o\xd2\xee\x05\xd7\x18\xa9.\xec'\xcc&yF?\x7f\x8d\xa4\x88\xcd?bk\x0b13\xf4z\x1f\x12\x1b|\x7f\x8d7g\x88_6\xd9\r\xf0\xa1i5\xa59\xd0D\xcb\x8a\xb8\xd9o\xbdm\xc0\xf2\x19\xad\x9a\xb0~\xa9Iq\x99=\xf4\xe8\xab\x83{\xbb\x9f-A\x99\xe50\x17\xfe\x0c\xaf\xe7\xa9\xb5@\x7f\x81\x0b1\x8br6\x94b\x94\xd3\xef/\x85\x88\x85\x0fH\xad\x81\x11'\xdd\xab\x8b\n\xe2\x9a\x06\xa7\xd0\xa3z\xe9z\x97\xe8\xcfiqY]\xfc\xbd\xb9`\xa8\xee\xa6\xc4M2o\xab<T\x8b{\xe8\xe0[\x0b\x99K\xae\x98aG{\xcc\xd4\xb2\xb1:\xd6P\xf7\x02\xa8\\\xe7\xa4\xef\xc8\xc4X\xc2\xa7v\x04\xc2\xfe\xf9\xa4y\x8e[\xf7\xe8\xeaeq\xd0q\xda\x1c\xd1\xa0\xf4\xf2\xd5.\xf1\x90\x8f\xce_zD\xf6-\x98%\xb3\xde\xa7,\x1a@\x82j\xa2J\xdc}SD\xac\x15\xda\xbf\x02\x9b\xf1th\xf9P\xa4h\x80knr\xff\x14+n-g\xf9\xe7Xl\xff\x91\xdb\xc6D\x18\xd5}\xfaR\x98\xdb\xab\xd2\x87\xd1O\x01\x86\xa54\x91\xdd\xc0H\xad\xa1#\\\nR\xc5.\xd1\xf7?\xb0K\x0f\x12Xs\xbb\x01%;\x9bl\x07\xfe\x17\xcb\x98_\xe0+\x056Z\xa2\xb4\xe1\xafJy\xc6\xda\x1c\x8dO\xaa\xdd+\xf0\x8a\x8f\xd4\x07\x0f\n\xe2\xd3\x04F\xa4&\xb9\xad\xcd\xa1}\xc2\xb2\xb0\xdcal2HV\xf5\xd3-\x80`(\xe9\xee\xa3\x7f\xb3\xe4\x86\xdd\x1aDQ\n}?\xb9\xfd\xcd\xa0\xbc\x04:\xd6\xd3W\xb8\xa5\x8a\xce\xa0\xee\xbc\xe4\xe2\x04\x80\xc0.}\x93\xf2\xff~y\xe7A\xc1\xec\xdb\xbd`\x04\xbcy5\r\x8c\xd7\\\xc5\xfc_\xf6\xea\x04\x0f[\x1c\xea\xe2UT\xb4\xad\xf9H\rqL\x88\xa1\xd8\xb8\xe5\xd0\xdbKM\xe6\xe4\x04\xcbZm\xc4\x86\xe1\xdc`<\x9f\xb6\xd7\xed\x0b\xd2\r(\xbeX%\xfd\xe3\x8c*\xbbc\"5\xf4\xa5Q\x92\xe0\xee\x95r%O\x07\xec\xe2}\x18!E]3\xd1\x9fp\x87s@\xd6K>\x899H\xc7Z;'\x97\x90(\x1cWzR\xc3m\x8d\xce\x8a\xdc\x9d\xad\xa9\xdc\xad\x14\"\x93B\xf9gO#\x02b\xa3p\xe7\x0e\x85O;\xbf\xe6O\x16\x1e\x1e\xa1\x9e\xe4\xba\\\xd4\xd5&4y6WEtlbG\xcf\xf3\xfe\xa0a3\x07\xa8\xd4\x01x\x7f\x1ei\xe1&=\xad\x96\x7f\xc5%\xee\x91\x01.\x87C[f!\xedB\x1f?\xf9\xff~\x85_Q\xab]\xf3\xd9R\xa8\x8f\xcf\x18\xb6\x7f\x1e\xb4gQ\x18 OJ0\x08\xd6\x0cy\x98\x98l\x14\x89\xfe<\x98\x90\xc9\x92\x91\xe8\xe08j\xd8v\x1c\x02B\x9eK^\xa3'\x83)r!B4.\x877\xd0\xe0[@\xd5\xccqP\x81\xa9\xae+\x92\x00'\x0e\xde^\x02\x04!\x9a\xb2Z\xd8\xffC\xa0\xfc\xf6\xc6\xce\xee#\x05\xe4\xdf\xa3\xc8-,\xcdh\xe6\x80!*&:G\xa5\xaf[*!\xf0\xa7\\\xf0\t\t\xd9\xae\xe7\xeb\xe7[\x87\xa3\xb0\xc4\xc6\nE6\x1a\xbd\xd6\xd8\xf2\x82\\m\xeby>\xf6X\x02 \x1f\xd3\xde\x0e\xf3\xc9\xb8\xda\xa8$k>\xe5IK\xb4\xe73]\xdeO3\xd5\x10e\xcc\xee\x1b\xd4\xb0\x1f6\xd3\xd6L#`\xe3\xf5\x83B\xd9\xcfk\xa7\xbbx\xdc\x96(\x8aw\xefA\xa5\x16m\x9a\xd3I6\xcd\x98\xbdcTD\xb2\xd9\xfc<\xb3\xc9\xc5\xba\x82\xfd\x1fVEX'\x03\xcb\x8b8\x9ch\xe4rC\x1e\xf683gc\xa9\xd9\x9c>\xcc$\xe4\xe6\x83{\xe6kB\x9b\x94\x9c\xfb\x03\xb6\x9bDx~l\x1d&\xfch\x120\xb8\x898\xedw\xd9\xa3\xbf\x12\xc8-\x8e\xf1\xff\xbab\xdb\x94hb8\xd9\x8a3\\v\xbf\xa6h~\xcb3/r\x1cd\xfd8\x05\x06\xb9\xae36\x95\x18\xa9+r#\xeb\xe1\n_<{c\x8c\\\xa6X\xb6r9e>](\xfb\x10\xbb4\x19\xa2\x03k\xaeh4<\x81\xc8\xa4\xf3\xd8\x05\xdcnQ\x13\xa6A\xfe\xdc\xb29Hh\xf6\xda\xf9'T@7z\x1e\x997\xfc\xcb\xc6\x9b\xc0f\xcd\x1cDyz\xc5\x88\x17Y\x8dq3\x9f\x05{\xc3\x16\xb7TO\x9c\x1a\x0e\x13\xdb,\x0b\x91\xeb\xa6\xb9\xa2l\x95\xf3\x85Tb\x99x\xe6[\x88.\xec\x9fU\xaa\xbb\xe7\xc2\n\x97\xab\x9bl\xbf\xf2Q\xbbD\xb4\"\x85iIf\x06\x83\xd5\xf7\xfa\x1c\xd7\xa0A\x95):\x81\x84\xadS\x1f\xde+\x12\x11\x07\x1a\x14\xc7\xa4IAiO\xd6\xa0\x97\x9d\x00.0\xa3Z\xe2b\xed\x84Pup`\xf2\xd8\xcft\xaa\x89\xde\x1d\xd4O\x18\xdb\x85\xcf\xc2\x90\xc9\xc2o\x97\xde\x01\xe4|\xfb\xf9\xa56G\x0f\x1b\xb4A'\xe7_]1\xfc\xcb-\xfbTi\x13\xa573\xef\xa1\x04\xad\x88f\x19\\\x80\r>B\xbc5w2\xdb\xa54\x8fj\xf9\xfa\xaf\xd9i'\xed\xc53\xdf\xcf$\xe2[\xb4\xe1\x12\xfa(\x0f\x0eo\xe2AjN~\xb3&?\x8ec#E)\r\x8d\xd3\x1d\xbc\xb9(\x86\xc4P/\x94u\x1f \xb3v\x1a\xa2&-la?\x1a\\P5\xc76\x0b\x93Sc\xee\xe1t!%-P\xff\x8e\xd0\xde\x82\x00@N!\x9bI\xceI\xa8H\x89\xea\xf94\xb7\xbf\xa1\x81\x90\x0c\x81\x05\x19\x95\x9eyt\xcdl\xc0\"\x967P7\xa7\xe1CKQ\xeb\xfe\xc0\x9e\xb7\x91\xf0\x7f\x96\x9b\xbf\xf9r\x18\xc3\xf9\xb1\x9b\xbb1\xba\x11\x17\xb6\xbe\xe8\x16BI\xd9S\xc3aN\xb7I1\x1e\x91t\xadq\t\xd8\xa1n\x94\xc2,\x91\x0c\xc8t\xca\xfa\x1a\x0b{N\x1a\xa6\xfa\x93K\xdd\x8d\x98y.\xf9\xae&\x9d\xa3\x04\xf64\x93\x1f\xf9/\xba\x99\x8fZ\x01~\x92\x80\xbd\x8f8\xf0H\xb5+<\xde\xc9\x90\xac\xec;\xc2cEH\x15VuC\x91\xc7\xb7\x80\xeb\x9dE\x1d%\xd5\xf4\x0e\x90\x9d\xe8\xa2!\xdf\x19\x0c\x82^u\x8e^\x978?Vq\xe4\x02\xc6E\x80\xb3\x1c\x01[\x1a\x8d\x173\xd1\xa6>2\x02]K=\xcf\x9c\xaa;\x02\x9a\xee=\xaa\xcd\r\x84\x81\x04\xdc\xcd,\xdf\xd0\xeb\xd6\xc1\xf2c&\x06Pi\x03~Y\xedy]#\xf5X\x8a\x9f!r\xeb\x14\x8b\x96\xec\xf8!\x9c\xe6Rz\x95\x89\xd9\x1b\x1d\xd9\x06\x1a\x83\xeb\xc4Ivd7\xe6\xf2\xc3\xea#\\\x05\xfet\x8d\x15=D\x87:\x0b\xed-\xe2\x9a\xd4\xcf\xcb\x04\xa1\xe0\x84\x87\xcc\x9c\xc3\xf2\xce\xfe\x8a\xab927\xf0ko\\\xf2\xe2\xb0\xb8\xfc|w\x8e\xb6\xc8\xfe\xe5i[\x93^\x19~\x9e}3k\xe2\xbb\xc1\x1f\x0fu\xb8\xefw_\xe7\x8bz^\x1f\xad\x99\xd9\xe2\xaf\x94\x12\xef\xac9\x15\x9do\xcda^\xd5/\xbb\xa4\x8a`\xae\x06\x92+E\xa9*\x1d\x1dT\x03\r\xb7[L\x8b\x18(@\xd8\xec\xc6>Q\x85\x9byK\t\xef\x83P\xb6\x0c\x1e\xcd\x9a\x82\xb6\xfc\xdc'\xd9\x91'\x89Q:5s\xf2\x03\xc69\xb0$\x01}\xa3\xeb\xd7\x91\x1d\x8ce\x0eh\xb7\xf5\xf4\x12a\x95\x90Y%_E3\x80\xb0N[\xed=g_\xe2!\xe4\xaawi\x16O3\t\x99\x16%\x9e\xa5\t>\xd8\xfa1Y\xa5\xb9\xf3W\xcaE\x7fL(\xcb\xfeSx\xb6\xc9[J\xcb\xfe\xd6q\xa65x\\^LN& \xfe\x9f\xb3\xf6T\xa4\xa2\x98\xfe\x8b?\xf9M\x84\xd7yI\xa3_\x9e@\xc2\xf7\xaa\x94\xe5F\xdb\r}%\x06\xd6\x1c\xea\xe1\x8e\x9d\x82\xb0\"`\xa8\xfe?\xef5(\xebe\x00\xfb\xa0\x05\xfe\x04c\xdd]\x8d_m\x8c\xfc\xa0\x9ac\xb5\xd9\xd2\r\xd7 4\xb7\xca\xa4\x1f\xc2\x034[\xf8\xee\xf6O\xc3$\x0e\x9b\xaa\x1bi\xf8\x1eVM|L\x85\xe6]\xc3cU\xc1\xb5\x91\x1b\x8e\x8bo\xc2\xc9Q\xbc;Cv\xe3\xbb\x85L.G\xc3\x82\xe3\x06Q\x86\x1a!\x14K\\\x189\xca\xfd\xa43\xe4\x0f\x9b\xd1\xc7\xd8\xde\x88\xc5\xa3\xc8\xbe\x1a\x15Y\xa09\x16\x8f\xaf\xa5\x14\xa4\x973\xdd\x0f\xf1B\xdaCN^\xbab|NV\x17\xd7\x83\xc2\xeb\xab\xb1\xa5g\x1f\xc2\r\x10\xd7\x83\x1b\x01\xa2[\xaf{Pm\xef8\xbe|\xdc\xdf?o\xc9\xe2\xe3!\x91\x83\x87|IU\xefQ\x85\x87\x91\xc4\x80s\x11\xaa!\xe0.E\xa4\xbcs}8\x00.b\xe4\x10'\xf0\xe9l\xfc#\xd9#\xb6\x1a\x8b\x12\xff.\xdc\xd3\x1bo(Y\x8b\xdb\xbbh\x14\xc1\r\xd3\x02\x0f\x10\x08\n]2Y\x88U2\xd2\x8d\x80\x1e\xb7\x01K\xa8\xd2\xd6C\xa0\n\x9d\xea\xf2\xec\xfa\x85\xee\x1ehU4\xe9\xba\xf7\xa7\x86l*\x03Jvx\x14\x14~\xf7J\x00\x13\xa6\x94*\x1f\xff0B5\r\xc5\xde\xd1\xb1Py\xc0\xbd\xa1G\xc6v-\xf9<\xef2\xbf\xeb\xe1\x99\xd5\xf1s\xa5\x1a\xa2\x95E\xd6a\xe0O$\x89W\x9f\xc6\x98\x10U\r\x1a\xf0\xbdC\x01\xda\x90\x82\x08\xc3r\x86\x98\xfc\xb3\xeeak\xeaT`N\x80k\n\xe9\xfd..\x96So\xe4\xb9\x9d\x1a\x077\x12\xbc\x08\x1b\x98(\x0f\xec4\xd9\xa6k\x87\x10\x91\x83\x90\xcc\xdbt\xfa#C\xbf)\x82\x81\xff1\xd9c\xc0\x06\x8eG\xc9\xcby\xab\xdd#n\xccv\x84 I\xe3R\xa5\xca:\x1ds\x0c\xdaT\x80\xcd\xe8\xba\xc3\xa1\xf1+\x01+\xf1\x90\xb4\xd1\xa9P\x11X\xec\xb2\xe1\x82)\xc4\xde\x16\x83OU\xe9\xd3\x82\xcc5\x8e&\xa8\xc6-Z\x1c\xaf\"X0\x02\xf5Y\xfbc\xe1\\\x19\xd2\x1b}G\x12\x0c\x9f\xb7\xdd\xa7\xcb\x9f\x97,\x00_\xb8p1Z\x8ckF\xfa\x82:\xf6\xc4\xe7\x89\x06\xa1F\xe7i\x88z\x87\xd5\xb4H\xc2\xa4\n\x1d\x11^\xc1\\m1\xd5\xf6\xfe\x84\x85\x0e,]\x1d\xc8C\xady\xecp\xda2?/\xd7\xf9\x06{d\x9c\x88\n\x19\x86\x12xG\xd8\x07\x1a\x01\x98\xd7\x0b\xc7\xff\x08\x19\x18\xa7@\x88\x0e\x1fEg\x15}\xb3\x0b\xabKV\xff?z\x11\x17\xf6\xfcOi\xb3\x1a\xf6\x0c|\x91\x06n\xbal\xe8\xc3\r'\xc9\x00L\xa1\xda\x1e\x04\xff\x14\x14KI\x7f\x80r\x94\xdd\xd3\xe3\xd7-\x1e\xf814@q\x9bQN\xddJ55\xd2\x1d@\xd1c\xbc#,D\x90W\n[\x1a\xac\x93\x87;\xfc\n\x0f\xdb\xcac\x12\xd3eC\xe8\x07D`\xd8~\xab\xa0uc\x89OC\xa8\xa3\xd9ys\x9e\x14\xa4gj\xee\xfd\x9aMQ;\x9b\x8e\x9fX\xd8\x94\xb3@\xb7\xa5\x8d\x16\x1fs%r\x8bV\xe6\xa3\x1f\xf4$N]\xe1\x80\x02.\xee\xfeV\x8c\xc3\xba\xd7\xb4\xe6%\x8f\xa8\x9e\xa6U\xbcws:\xe7\x88dJ \xdfah\xc1 T\xa6\xe1\xb8\xf2\xe7\x08.\x8a9\xf5\xe6\xea\\%&.4\x9a\xcc\xc7\xe8\xc1\x9ef\xc6\x01Xb&\xe8o,\xe9\x1a\xd3\xb0\xdf\xcc?Z\x90s\x15fF\xa4vxy\xb9*\x93}ze\x03\x12Gk>\xbdX\xc0\x1b\xd5\xc73\xcc^\x11\xf1\x00\xf7n\x1a\xbf\xce]<\xe8q%c&\x80f\x9fsaG\xd1P\t\xdfv\x02)BGy\xf1t\x96\x16\xa9e]\x8c\x87<V\x16{\xf1W\xaf\xee\x1fb\xa0N\x0fV\xac\x1c\x8e\x90\xcb9\xde\xf2\xed\x06Pg&\x14\xee\xa9\xa9\xca\xf0\xb8\r\xc3\x9c,\x87N\xd3\xd0%\xfa\x83\x02\x88\xa3,t\xd4\xc0\x8b\xdc\x81\xc21\xa6\x8f\x81lU\x92(\x04\x94\xb5:\xe5\xf5\xe6\xf8\x1eM\xa8\x13\xa6\x82~\xb5y\xbai\x11$\x1b\xe9V\xf51p\xa3\xbb'\x06\xaa\xd0ZJ\xf3\x82\xbe\xb5\xbe\xc0\xca\x80\x11!ZR\xe3\xb7\x98\x82T\xd1nH\xd8(\x0b%\x12\xf9\xde\xe14\x11\xceg\xa3\x7f}\xd3\xa8\x03{\xc7\x86\xaa:\xa5\x8a\x85\x8f\x82w\x01\xc4\x82\xf4\xea\x18\x1e\xd8o5\xfb\xb8j\xb1\x96q\x06\x1bP\x1cs\x9d4\x99\x88\x9d*x\xdb\xd4\x9f\x82\r\xee\xe5\xbaB\xca\xd8\xceC\xbe\xde\xed]}\xe1Pf\x9f'\xc7\xa4\xe3j\xa4\xf1\xfe\xd7\x13\xf7\xf3t\xe9eMVoj\xbc3\x88L\xc4Q\x16\x8cV4\x19\xa9\xdc\x80C\xd4\xd616\xee\x87\x89\xc0\r\xd8e\x97\xff\xc7\x0f\x91\xed\xdd\xe2i\xc8\x1f\xa5\x12q\xa5\xe2\x1b\xd8\xdb\x9e\xaf\x97jDFQ\xc9\x1f \xf5\xb8=r\xa9Ba\xe1\xf5\x7f\xe0\xf9S\xf7\xa1B\xc1\xd7s\xca\x1eCR\xfb\x01\xf5\\#\xca!r0\xae\xee\x02\xe0\x9f\xed\x0bq\x12\xd9\xee\xc4\x99'N\xb4\xcd)\xc2\xb7\xb8$\xab\xeaw\x9a\x8b\n\x03\xb0\xb8\x8d\xa9\x13\x1ae)\x81G\xb4\x02\x9aO\xfc\x82\"%\xce\xbd\x18\xb1](3;\xab*8\x82\xeeY\xd9\xce\xeasN\x88}|\x9e*\xd4\xe6I\x9f\xd8\xa3Y\xd3yqg\xd8\x1b\x9d\xdc\xea'\xc9\xd8\x0f\xce9\xe5bVJ\xfc\xaf\x02\x8e\xa4^\xeb{\xc1hq_\x9d\xec[\xdb\xc5@\x91>w\x1c\x1b^\x1d\x91Phv\x1bj\x81\\\x95\x88\x96\x12\xe1\xc5o%\\^\xec\x1d\x87\x8a\x8eP\xd7\xcb\x8e\xecp\xf6d\x9c3\x97\x94ky\xf8]1\xd7=\x1dGe8\xab\x19\x14\x8cP\xe6\x03\xbf&=\xb7<@\x16\xea\x9c}r\x7f\xf8\x97A\xc0\x8f\xddR\r&\xef\"V1[\x0f'\xbem2\xaf\xab\xdf\xfb)\x80\xa7\xd2\x8cq]\x13\xc6\xd8\x1b`\x0f\x81l\x08\x92Z\xe5I\x17\x8e\x146\xfd\x81\x1a9\xdb\x0c$J\x96?a\xc7\x04\xef2\x180\x96f\xe5\xe5\xe4\x8a\xc1\xe5C\x11<\x87\xd53\x13\x1d\x98^\xed\xbf\x9a\xc6\xceV\xc2$\xc8r\xd6W\xf7\nbT\xb7\xeb*\xb6\xb6\xbb\x1a\x0f\xef-\xb5P\xc6\x92\xf6\xbb\xb2\xbfA\xc4\x91Q\x80n\xe4\x88\xc6\x87\x9ct\x9ag\"\x1c\xd6m\xdc\x0f\xcd\x82\x9f\t\x80\xef\x1b\x18\x1f\xd9&3z\x96\x15\xfc\x1b/\xc9W\xc6f0\xdffa\xa3+\xb7Q\xfe\x01\xb4\x1cA\x94}\xf9\xea\x81\x804\xe7\xa3\xb6\xd2-o\x96\x0f\x19?\xaa/|\xab\xbep\xc4D\xee\xd6\xfaz\xc0s\xb7w\x05\xbc\xa5\x82\xc7J1}\xa2\xf4=[\x0ez\x99\x06\xaf\xd7f\xb5\xf2\x17C\xa0\xd5\xc7\x88\"\xd0H\xca\x98\xd0\xa4\x19S\xf4\xdf?h\xc8\n\xea\xf7\x8c\x17\xed\xba\x93\xdc\x86\x95\xee{\xcb\xa4\x86q\xa9\xa9,D\x81\x86\xff\r\x94\xe0-K@\x8b\xd4\xb7P\xac\xces\xa8\xc8[\xc0\xefbG*\x15\xed\x18\xe8@\x8f\xb0K\xd7\x10\xe7\xd0\x85Po\x91D\xd1\x0c\x04\x0c\x18\x06\\J\x08\xd7\x93\xeb\xec{\xe5\xb8s9\x12\x93x\xe9\x07\xae\xca\xfc[\xa3)\xdat\x9b\x99d=\x98\xca{N) i;\xf9O4`\xb4z\xfd\xc6e\x92\x08)T/\x10\xd0&\xcfw\xbe\x8bH&\xa5O\x0ft+\xed\x1a\xac\xcd\xf3%\xf1I\xa8\xd3\x02\xad\xdf\xe9a*\x87n\x8b7\xe1\x11\xd5\x03\xd1u\xf1e\xaf\xd9\xd5C\x16*\xd0\xec0\tI5\x1dcAW\xd6\xda\x89cl\xa4\xb8z\x0e\x94\x00\x0c\xff\xb4`6L\xd3T\xa3\xaa\"O\x9b]d\x04\xcem\xc1\x97\x0b0W,:\xe6\xd6x8\x11\xb4\x83\xfet\x80\x8d\x98\x0b\xbd)W\x97\x10\x05}a\x04x\x1eom\xb1\xaal\xb5\x16\xa3'\x13IQ r\x97\xbdf\x19\xf8\xb5\xf9\xc7\t\xbf\xd5\x07\xc9\x8b\x1d\xd2\xe7nN\xdd N\x81I\xe9[\xf5\xcal\xb9\xe5(\x12\xf3T\xfc\xe54\x83\xe4u\xb4&!\x13\x06U\xa2dBU\xe9\xc2;8{b\"\x1b\xa7\x86\x1c\xf4\x89\x11\x83Cn\x02\x86\x0b\xc4\xc6M;\xae\xdd\xef\xb3l\x8aOf\xf3\x98}\x92\x99\x84+\xe4p\x0e\x892\x15\x99\x8ey\xd1\xc0\xd8u\x80\xbbQ\x85\xc4\xae\x00\xf69K4>\x1c\xb6  ]P{\x8f>\x024=(\xd1\xad~2\xc3\x8e\xe7qZ\xfa0p\x97vG#\xa0\xe9P\x94|a\xfb\x0fy\xc8\x0fSuH\xe2t;V\xe4@\x93\xbd_kQX=Ogp\xf1\xceR\xb0{1d;w#\x06\xaf\xc5A\xb2:d>\x9a\xa4M\xae\x92\x08$`\x8f#9\xa5\x81J\x86\xfe\x0b\xe3\x1aJ\xb0\xff\xd66f\xcb\x99M\x13\xe47\xac\xd1\xb3B\xe0\xa2\x93q\x90\xdem\x15\xb1\xd4s\xda%\xe6\xa40\xefI\x10G\x9c]\xb6l\xfa\xbf\xca\xd3\xb8\x12b\xf7\xff&\x11\r,\xb8\x08\xfd\x8f\xc7\x8cJ\xc4\xde$i\x1f\xdcU\xd8\x00\xa4\x0b1\xb3\x9f\xff\xe71\xcbD\x80z8\xa4\x97\xa1r\xfak\xcf\xca\xf6\xdd\xd5\xd1\xd8\xd3ay\x01\xc3R\xc5\xd9-.\xc6\xc7\xc3\xaf\xc9\x08\xda'{\xc86[\x87\xacy\x82\xcc\xb9\xa6\xc9\xd8\x1d\xa6\xcf(\xef\x17s\xe9\xacP\xd2l\x9a$\x02\x84E\xe3\xda\x80h\x14\xf0Z\xb1\x847E\xd0\x93G\xbf\xec\xb5\x82n\xc9\xd2\xcf'.\xed}\t\xe1I\x06\x89G\x9b\xde\xccM\r\xf2[8\xc8\xb7\x19\x05\x1f\xff\x8ds\x01\x87\xcd\x17\xdaQ\x9b 7I%\xb4,\x9bc\x8fQ^^\x886\xff4\x0e\x9c\xd6\xb5\xfd\x13\xca\xd35\xa3O&f\x90\x05\x8d\x91\x16_\x07I\xfe\x8e\x92J\x87\xcbpS\x021\th&cF\x02;\xa6\xc4\xe7\xdc\xc9\xd5\xef\xdb\x94L\xb4\xc6\x92d\xca\x88\x1a\x89\xe9\\\xc4\x80\x81\xcd\xff\x0c\\\x97\xb9\x9eF\x05r\x94Pn\x86\xad\xcc\xc3~\x9e\xbe:VdZ\x82\xd7\x15\xcdI\x16\x84\xf4<R\xbc\x10\xa2u<kj\x112\xcd\xf4\x82\xd9gA\xbd\x90m\xbe!_}\xa2+n&\t7K\xd5\xd7\x15\x02+\xcfn\xf1\x89\xe3#9\xa8\xa2\xce\xcd?\x84'3\xa7\x8d\xa7\xb5\xea\x8d\xbb\xa1\xa7\xacC+\xd3)\x138\x05\xe5\x86\x01\xa0\xc1\xff\x14\x0c\x178\x85\xc2Q=c\xb8oY\x95\xcd\xa8\x02e\x1a\xd5\xd5X~K\x9f\xfdR\xa5\x0fG\xfc\xe8L0CB\x9a(yS\xb3\xa9\xa2\xbeeb\xf1\xf8&\xd5eV\x0b\x0c\xc5O\xb4\xb5\xe7\xc3\xc0s2U\xb0B\x8b\xb3\xab\x91L>\xec\xad\x06)\xafOz+\x85/\xdb\xdfY\xd2?\xbe\x1b\xa1l\x97\x960s\x0b\x91\x16KVnJ\xf5nd\x81/\xf0\x15#\xcbY\xef\x98!T\xea\x85t\xb4p\xd4\x0c\xac\xb4\xb0\xe8\x8bm\xa8:\x03\x8dg\xe5\xb7\x8a\xd0\x03R\x86\xa5\x9c\x89\xf0\xdd\x90\xeb\x94M\\\x1f\xa6\xc2y\xbb5\xba\x10\xcd\xeaO\x1f\xef\x9dZ\x93\xe9\x9a_\xa8\x18\xc5\x9f\"\x0f\x94\xcd{\xcd\"\xbb{#,\xb4\x1d\xae\x11\xa0\xee\x01(\xfd\x05\xc9\x07\x9f~p\xcd\x98c\xc6>\xd3\x8c[:\xf9+\xc9\x0e\xc5\x97\xc3*L \xaei\xebvi15k\xb84\x17\xbf\xae\x88\x9e\xc2I\x13[Z\x03u^N\xaewp;oSO\xd4y\xf2\x8ap\r\x9c\x92\xa2\xa9e\x86\x0e\tA[n]\x89g\x80\x9a\x1f\xc7\xd1v\x15\xe9\\\xd8\xd1Y\xe5\xf7\xf5\xee9\x9f\xed\xce\xd2\xf2t5\xedLT}_\xd9\x97\x0f\x9c\x8e\x13\x9b\x86\x83y>\xe8&\xca\x1f\x1bR\xa0[\xf6\xcd\x9cF\xb3`\x97\x83\xf1D\xe6\xa4\x86\xe4_\xba\x94 \xc9V\xa8CY\xb82n\x91\xcb\xd2\x94m\xf6\xdd\x18[g\xba\xa5\xab\x11{\xb5.\x9dd\x15\xb9e\xee\"^S\xda)\xb6C\xf7\xf7\x91\x11\x89<\x93\x9f\x18\x11\x0cA\x0f\xe1<\xdf4\x98ta\xa2+\xfa\x91_7A\xf4\xe09\x0f\xb0\x12V\x99\xc6\x98q\x9b\x1d\n\xdb\xa4\xdd\xebe\x886F3\xed \xa7.\xff\xa8\xcf7}\x1dA\x96\xaa\xd3\xa9\x02\x80b\xeb#\x99\xdeA\xbd\\\x05ZR&\xa0\x1e('L\xabO\x07\x07/e\x04\x1a/fO_\xba\xf1\xb86AEgw][\x91`|O\xda\x7fb\xd0\xe9\xac\x1b\x9d\xf7\x05\xa1}%\xaaO\x18`]\xa2\x15\x11\x9e:\xd4\xc0#\xff\xf1kL\x01S\xec\xc9\xff\xe8#Q\x8b\xc6U\xc3<\x04(\xb5kr\xf1\r\\o\x8f+\x9b\x92\x8e5\x95\xd2R\x1fI\x88\xe4o\xbf\r\x08\tw\xe2\xd0\x94eb\xf9\x17eG3\xcd\xc4\xf3G\x81\xbf\xbfR$\x06\x9c\xec\xd4\xea&'\x0c%\xf5t\xf8$\xd620V\xe0\x13\\\x1f\x8c\xc6v9\xa0\xb7\x01\xe2\x84\xe7-P\xfe~f\xba\xbf`\xa3\x17\xd3\xd2Z\xb6\x95\x04\xe1\xe9P\x00\xc1o&\xe3\xcd\x11FJ\x87\x93\xdc\xa2c\x9f\r1\n\x1b\xc6\xb3lf\np\xb5m\x8f\x06l\xf6\xe4QO\xe9#\xe4\xdbE~]\x0c\xc3\x9f\x8fC\xb7X\x7f\x08\xd6\xf0\xd5\xa7\xb2\x81s/*\xd6ZHD\xf7\x80c\xe6\x8a\x16\x87\xdc\x01\xfcVO'\xad\xa4\x00\xf4#\xd6\xf6A\xa8\x06(\x02\xa8|\xb5'\x81T7\x89\xc0>\xf6\xfcY\xd6\x1b_\x15\xcc\xd1\xe2\x1e\xaf[\xb3bp\x1d\x08\x011,l\xa4\xb7\xd1\xe2\x7f\xbe\x8f\xce\xc8\xb0\xcd\xde\xa4\xbe\x1f\x96dG\x0f\x02\xe0\xa8\xc4W\xf9\xcb*\x11n;)E (Q\x9f\x84\x04qs\x84N\xfa\xe9\x9c&-\x9fGuq\xff\x1b\xee\xe4cBi\xcb?\xdb\xe1N2\x80,\x8a\x06G\xee\xb9q\xf8,k\xf4~\xf4t\xe1\xb9.f\x98k\xd5]\xb5\x1a\xd3\xe6'\xed%\xc6\x03MS\x03Y\x83p\x19\x96\xb0\xef\xd8\xbf\xc3'\x94\xdey(\n\xf8\xc8\xb3\xfb;u1\xd1\xa7\x99\xca\xbf\xe0\n3\x01\xd6\xba \xa1\x93x\xfb\x19mS\x1f\xfb\xbc\xc7j\x11o\xd9_^\"\x85\x99\r\xe0\xa9I>\x96z\xa0\x93\x90m\x18s\xba\xf0\xafz\xc6\x1b\xf7\x03\xea9\xdb|\x0f\xf3(>\xb2\xc3Ko\xaaN\xebcT\xd2\xc7\x14\x95\x9b\xbb\xcf\x1b\xf7\xde\xd4|8\x8ebE\xb1\xa3\xd5HU\xb4\x85\xf6<\xed\xf23\xd3\xdf\xe6\xfc\x1d\xec9{\x06\x7f\xf5N[\x16\xc1\xfe\xe5\x8b\x90\xe2\x8d\xf7[a\x12\xe2#?iC=\xd7$\x08n\xce\xab\xa7\x9c\x86#\xa4\xfd\x04\x97#]\x8fc\x9a\x13+\xad\xdab\xd7\xffi\xd6\xb1\xbdU*\x101aN\xfa\x13\xefyH\x93\xc2\xad3\xd7*\x07\xba\x85\xdc\xfa\\N\x9d\x16\xef\xd1\xf6\xc1\xdc\xa4uS\x9f\xf4\xe4\xb0C\xfdj\xe8\xbe\xe8\xa5S\x00]\x967\xe4\xc9\xf1\xa8\r\x10K\x9c3\x00;\xa7?Xi#g\xa3\xb2\xa3\xe5.w \x1dbH\xaf!)\xf4\xf2\x1d\xa8\xcc\xf6\xc1\xd2\xed\x0f\xc7\xb3\xe1\xff\x91\xb4rS\xef\xc3G\xe1\x0f\xf37\xda\x01\x00\xfa\x83\x0e,`\x87\xb3u\x02\x11+\xf9IC\xc4\x84\x82I:\xaf\x1a%~Q\x91^Q\x88\t&\xb4\xa8>\xcd\x8b2\x1a\tX\xb4\xad\x98\x19m\x9c@\x00\"\x9a*\x18\xfbI5u\x8b\x8d\xe2o\x93\xbd\"\x06\xdc\xe1\xdbZ\xba,\xe0O\xf7\xe6\x1d\xad~}\x9c\xb0C;\r'\x9c\xa9_\xeaD\x18\x82\x02\xb9\xb1\x92\xc9_8\xb3?.\xa1XC\x1b\xcc\xc3\xad\xdf\x8a\x84\x08\x7f\xa6\x1bxB\xe9K-\x80u\x7fWt\x82<\xcb\xd4 0+\x92\x90+\xf9\xa6\xce\x82'I4n\x1d\xf4\x1f*\xd47\xf2^e\xb3\x8d\xff\xa7HfH\xe1\x84\"\x81\xed\xcb\xd6PA\xca\xd4\xe0q\xbe\xd6\xbd\xc1\xb5\x9c\xc2\xb8y\x80\x93G\x00\x18u\xfe\x96\xd2\x0f\xa2\x93C\x8d\x9a+\xeeD\xa5G\xf5\x8eK\xd8B\xb2\x9a\x80?\x9a\xa7\x19\xcc\xce\x99U\x07\xea]\xb1\xef\xfb0'\x9b\xf6\x97\xe6\x15Qo\xb3\x1e\x84S\\\xc3Ket\xc6\x96\xf4#F/\x0buE\xc4\xce\x86\xb0\xa7c\x88\xe0l0t\xb0\xd6\xac]!\r\r\x9b\xef\xc6\x8cT\xc2\x0cyA\xa9W\xc9\xc8\x00H\xd9-\x98WD\x91\xc1\xbb~!0\x1b\x15\xe6\xdd\xc75\xb5T\x07\xceA0_\x94\xc2\xae\x8b\xc3\x81\xfeL'L\xe0\xf7\xd5C(S\xf4\x03IQ\xd5\x9dbc\x80|\xb8~\x82\x8d\x8a4\xc3\x89\x1dI\x00\xe3\xd6B\x00\xea\x91R\x10\x7f\xc7\xe2<1\xf5,~\x00\xe1\x05\x84\xc9N\xb3s]-\xee\x1f2\x1a\x13\xf8\xc2\xcd}\xeb}f\xe9\xeb\x81\x8b\x06\xe3\xad\xc9\xc0\xc8\x87\xce\x17|=\xcc\x9b{\x0e\x1a\xd7F;o\xb9h\xb3Q\x94wf\x98>\x92j\xb3~\xdd\xeeZ\xbd\t\x1e*\x1c\x1a\xde\x84~\x06%\xa4\x14\xfb\xcc\xe2ye\xea\x1e\xc5SwX\x80\xaans\xb00\xc1\xcaN\xbbo\xca^\x8e\xa3J>.\xef\xa1\xa5\xcd\x9f\xb2\xc9(\xcb\xbb+\xfa\xf6=\xee<\xbdEj\x81\x05\x16\x9a\xc8\xe0_\xef\x8a\xe26L\xa9\xf0\xbcc\x06\xfe\x8c\xael\xbd\xe6\xd2\x8b&\x9b\t\x81ck\xa9b\xef*9H\x97}4p\xcd0\xa9\xde\x90\x83\x8d\x1b\xf7\xb3s\xff\x0c\xe8",
                        "code_execution_result": None,
                        "executable_code": None,
                        "function_call": {
                            "id": None,
                            "args": {"isbn": "0-7653-1178-X"},
                            "name": "get_book_info",
                        },
                        "function_response": None,
                        "text": None,
                    }
                ],
            ),
            UserMessage(
                content=[
                    ToolOutput(
                        id="google_unknown_tool_id",
                        name="get_book_info",
                        value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                    )
                ]
            ),
            AssistantMessage(
                content=[
                    Text(
                        text='{"title": "Mistborn: The Final Empire", "author": "Brandon Sanderson", "publication_year": 2006, "pages": 544}'
                    )
                ],
                provider="google",
                model_id="gemini-2.5-flash",
                raw_content=[
                    {
                        "video_metadata": None,
                        "thought": None,
                        "inline_data": None,
                        "file_data": None,
                        "thought_signature": b"\n\x92\x0b\x01\xd1\xed\x8ao\x9fR>;\x80\xa4\ta\xeb\x19\xeeE\xb4g\xe6\x01\x0e\x17ZW\xe6\xe08\x1f\xb1}\x90`\xc6\xaf;\x93\xbd\x9aL\x98v]:M\xc9M\xb8L\xb8\xf3+.\xd8\xee\x97\x9f\xad\x86LZw\xe22\xdfN\xec\xef\x9e\xde\x00{\xbb2\x8a\xbaB=\x90\xeb]\xedV\x82\xd1\x8c\xafz\x800\xfa\xdcY@\xf6\x06\xe9b>\xc7w\xd9\x86\xd5o\x10\xf1\x0c\x7f\x9b\xe8\xba\xc0t\xbc2\xa5\xecv\x9f=\xd5k\xbf\x1f(\xf0\xe5\x89\x8ah@\x1a\x0f\xdc\x90\x13\x9b\xaf\xf1\x87\xfd\xe4\xdc\x1d\xb8Z\xce\t\xde[Y\xa8\xfb\x19\xc7\x00=+\xc3,f\x9e\xf9\xf9\x0c=\xce|\xa7\xec\xe3\x8a])\x95+\xe1\x16K\xc0\x0f7\xf8\x17\x7f\xa7]\xe9n\x06.\xaf\xa7=\xd9\x83\xaa\x91\xeb%\xd2\x8b\xafr;!\xce1\xb4\x00\xc7\xc9\xa1P\xb9F\xd6$t\xf7(\xe8\x1fS\xe4\xec\x01\xd4c\xab\xc6U\x84o\xdf\xde$\xe4\x94\x15\x11\xbak\x9d\x8c\xa7y\xad\x1a\x84\xc2x}@M\xbe\x1c\x06\xcc\x12H.\xccv\xedbk\xf9jf\xf7\xfe\xe9@\xe3N,\xa3s\xb6HXn<\x881\xc7\xd2)-.\xd1oX\x8eO\xabw\x90\xc2\x07\x1dH\xbb\x18\xc7B\xe1\x0f\xf1\xb2\x16`\x15\x16\xf7\xa5\xe0\xfc\x9b\xdf/\xcb\xa1\x93\xec\x1d\xf3\x1d\x15\xb9\xbcW\xe4\xa5\x8f\xb0\x8d\x0b\xe8\xcc\xb2\x01\xf6'\xff\xbd\x8d\x00\xf6\xa2\xbe)\x14c\x9b\x15\xf8\x0b\xdb\xb9\xcf\xd0\xb0:?\xe7\x00\x14}d\x85\xbdM\x87\xb6\xbb\xe5`\x87F\xfa0\x94N\xd0H\xceS\x1f'1\x81\x16w\x04\x03\x9f\xdc\xb4\x18:\xd59\x81OKz\xea\xda\xab\x83\xc0\xc6\xd1\xf9\xdda\xe3Y\n\xea\xe5a$\xe2\x14P\x9a#'z\xd0X\n\x81\x909\xf4k\xfc]\xfcd\xc0dW_ox\xff6\xf3\x01\xdd.\xfd\xc7\x14N\xa4\x9ezk\x1c\xd1u\xa5\\\x81\r^\x8b\x95D\xf2T\xfa\x10\xd2\xefi9\xbe1\xfd\xfd\x04fR)\xb2!\xa8N\x81\x18D\xedG\x19n\x8c\xdeR\x1cP\xa5\x8c\xa1iu\xfd\x97\x10\x9f\xec\xcb\xad\xc1TFx4\x0f\x0e\xf7\xed\xaan\xcbK\x92\xef\x93\xf9\xe6p\x05\r\x91\xea;\x81\x1e\xa4$p_\xa8p`\x8d\xef\x97i\x1e\xc6\n\x0bY\xa9\xe5\xf8\x8e>\xcc6&\xb4\x96Ht\xee\xfb\xd7\xad\xcd3\xe4\x88\xed\xb6\xc7\x9e\xa6\xad\xf1\xfe\xa2S\xba\x00\x13\xa7\x12\x16\x0b\x13kI\x10\x0b\xbf\xef\xe5n\x07\xb1}\x1d\xddh\xb4\xd5\xb8\xdb\x14\x00\xdd\xf9\xa4\xd3}ZH\xa6<W7\xce\xed\x06\xc0\xda\x06\xde}\x9bE\xcd\xfc\x9f\xe0\xac\x90\xaa\xdcG\xee\xcd\t\x85@(\x05\xd12A\x13/\xaa\x05\xb8=\x85j\xafP\xd7\x9fZ\xc3\x84ns\xf0\xd1\xcb=\xfd\xce\xe5\xda\x18\x11\xe5SH?\xc9\xfe\x14\x03c\x97\xa3\x13\xed\x10\x1a\xf4\x82\xb7\x82!%9\xb4\x8e\x8aB\xb2\xfd\xb5\x95\x02\x8a\xd4\xe8\xe9\x06Y\xbf\xfaug\xc4\xac?\xc8\x0f\x86\xed\xc6\xc2\xd5;\xf3\x11\xee=\xb9K\xef\n \xcdf_\x07W\xeb\xfc(\"\x12S_\x04/\xc1}lEA\x92(e\x84\x90>x\x97\xa2\xa9\xf4k+B \x8a\xddM\xa1\xb7\n\xd9L\xaegG\x915\xc5g\x01(+\x1f\x84fPq}\xf4\xd4\xecD'\x83\xb2\xcdF^\xe8\xba\x90\xe6\xda\x19\xcb\xbfc!\x0f\xb1\xcd\xdd\xcb<\xb7\xa1\x10L\xbb\xa6\xbb+k\xf7$\xda}\xce'\x18\x88\xbd\xaa+\xd4\xa1\xe2\xac\xb7\xa3\x93}\x11rD\x04C\xc3Yx\xbd\xb0uIX\xceiqex\xb6 T\xd3\x1c\x93^0\xa3\x15\xf9\x12\xd68Dl\"\x07\x82y\x15\x04\xaemg\xf8\x9cDNp^1\xae\xfej\r\xab\xd9\x02p\x90\x94\xc3\x894\xf4W\x19\x85\xbd\xc7\x1e\xd0H\xf1PP\xba\xbb\xd5\x98\x89\xab\x0f=\x7f>\xfc/\xaa^\x06\x05\xf83\x99\x97]z\xe4\xc4e\xa4\xec\xfc@jmyS\x8d\xd3\x04\xf5\xe3\xab9\x9e\x88\xdbi\xe6S\xaeK%\x117R\xa1\xc7F\x14^\x8d\xac\x14\x86\xf3\x14\x03\xce*\xb0\xf9\x89\xdb\xf9\x13\xbd\xcb\xec\xb2\xcb\xc0{eIU\xb7\xb4F}s\x18\x03\x10h\xc1\x07O\x8b\x8b>S<\x83o\xe6\xbc\xb2\xf9\xaa\xa0\x04'\x88\xd1\xf8\x98j\xf1\xcd\xb9d$\xf0\x8b-n\x1b\x94\x8e\xed\x7f\xc4b\x1f\x1bU1\xc0\x92\x1c\xc3\xbe\xc7\xd2\xdf\xb8\x1b\xe4T^\x00\xa0Y>L\xb6\xbf\xd7\xee\x12m\x82\xcbT\xf2z\x00\x10\x1cE\xd6\tr\xd6\x13\x8e\xf1\x07\x9eJ\x05\xe2F\xc3\xa8\xf6Ab\xc7\xc5\x00~\x87\xbe\xa9\x04\xd2\xb7\xa2\x02\x12_;\xb2\xa3Tf@\xd4\xe5\xc1&\x99y}\xd5|\xbe#\x1d=\xe6\x1dR\x1f\x0b\xd9\x98\xbaRw]^\xd5\x9epJ\xe8\xcf_QK\xd9\n\xd1\x8b\xea\xc5\x87\xb0\xad\x0cn{\xa4!\x8bf\xc6\xd9\xb9\xc6\xc9V\xca\xff\x84\x1a\xc5\xb1\x17qe\xee#\x886\xc45 \x9d\x1a\xe4\xe6\x8a!%\x83\xeb\xe1\x9d\xc4V\xef\x87\xc6;\x04;+'\xb444h\xb0\xd9\x18\xa1\xder\x89\x112\x82\xe1\xff\x0b$\x16\x87\x02\xf3%)\x02nop\x11\xa9\xa4\x1f-\x02\x07D\x0e\xaf\xca\xe1\x7f\xa3\x07N?M2\xe0\x98\xfe\xe9\xae\x88\x06\xe6\x92K&M,[m>\xc3\x04\x06$\x88\xd5\xb6\xd8_\x92_\xe0\x15\xd1\x9e\x10\x05\xfc7\x08\x10\xf6{\xc4\x1b\xe3@\xd4\xfe\xc7k\xfdVs\n a\x8c\xf6\x94J\xe1t\xea\x10y\x05A\xde#\xef\x91\xe6\x90\x19\xcdq\\\xa9\xbe\xfe\x112\xb5\x9e\x1b\xb2\x8e\x99>\xbe\x90:\xe2lN-_\x1b\xff\x1c\x82\xe3\xf2\xa3C\xbf\x88\xf3'x\x0e\xb0j9\x94R\xa8\xe2\x82\x0bU~\xd9\xaf\xb2 \xc9\xca7\x8f\xea\xe7_'+~\xba\x01\x13&B\xb2\xdf\x07\xf6\xb5\x99H\xb9",
                        "code_execution_result": None,
                        "executable_code": None,
                        "function_call": {
                            "id": None,
                            "args": {
                                "title": "Mistborn: The Final Empire",
                                "author": "Brandon Sanderson",
                                "publication_year": 2006,
                                "pages": 544,
                            },
                            "name": "__mirascope_formatted_output_tool__",
                        },
                        "function_response": None,
                        "text": None,
                    }
                ],
            ),
        ],
        "format": {
            "name": "BookSummary",
            "description": None,
            "schema": {
                "properties": {
                    "title": {"title": "Title", "type": "string"},
                    "author": {"title": "Author", "type": "string"},
                    "pages": {"title": "Pages", "type": "integer"},
                    "publication_year": {
                        "title": "Publication Year",
                        "type": "integer",
                    },
                },
                "required": ["title", "author", "pages", "publication_year"],
                "title": "BookSummary",
                "type": "object",
            },
            "mode": "tool",
            "formatting_instructions": "Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output.",
        },
        "tools": [
            {
                "name": "get_book_info",
                "description": "Look up book information by ISBN.",
                "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                "strict": False,
            }
        ],
    }
)
async_snapshot = snapshot(
    {
        "provider": "google",
        "model_id": "gemini-2.5-flash",
        "params": {},
        "finish_reason": None,
        "messages": [
            SystemMessage(
                content=Text(
                    text="Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output."
                )
            ),
            UserMessage(
                content=[
                    Text(
                        text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                    )
                ]
            ),
            AssistantMessage(
                content=[
                    ToolCall(
                        id="google_unknown_tool_id",
                        name="get_book_info",
                        args='{"isbn": "0-7653-1178-X"}',
                    )
                ],
                provider="google",
                model_id="gemini-2.5-flash",
                raw_content=[
                    {
                        "video_metadata": None,
                        "thought": None,
                        "inline_data": None,
                        "file_data": None,
                        "thought_signature": b"\n\xf2\x05\x01\xd1\xed\x8ao5\x8e\xd0\rq\xc2\xbe\xc9f\x01A\xc38\x87\"\x81!\x03\xd2\xb7I^\xbem!\x8f>v\xe4Q%\x02\xdd\xabU$\xbfnj\xf5\x98{>\x93\xbcqx\x15$\xc1h\xcb*\xbc\x1b\xa7?\xb6\nC\x8b\x07\xa3n\x1eu\x96\xc3\xf1\x1e\xfeJh\xe1\xe93\x9a\x8d\tX\xfe\x0f\xae\x06;N\xc1\xed2\xd4p\xcb\x16\x10K\xc4\xfd\xe0\x95G\x14\x94\xdc\xf3\x92^\x18P\xaa\x136\xc3\xe4\xb4\xdb\x9f\xce\xe0\x04\xdav\xea\xe1\x97:\x90_Sw6S\x1d$+$\xc2n\xebY\x97r\xe4N\x00H\xcd(\xbd,\xe7\x95\xba\xc0\xd7\xd6h\x1dm\x10a\x90\n\xd7bkR\xea\xa4\r\"\x89\r\xde\xf2\x16\xa1\xed\x17!\xed\x1e\xdc\xcf\xf3\x8d\x97\xcc\x03i{\x07-\x07\xf0Z\x12\xda\xb1o\x14\xbf\xd10^\xc9\xb3\x8cK6\x07\xe1g\xfb\x15P\x06\xfc \xcd\xfb\x91W6t\xa05\xd2\x04\xb3\xacJk\xc9ek\x81\x87\x7f\xa5\xaf\xfb\xc0\xf7\xbe\x9f\x9a>\xe4qR\xd1\x82K\xaf6\x8c\x01\x08\xfa\xa4\xb6\xaa`f\n\xb0\xa5\x1f\xd6gi\x02\x92\xd4?\t[\xef\xb0\x8dz\xe9W\x916\xdf1;\x88s\xca\x00\xff\xa1\xc0r?v\xb1\xbfS\x04\xaf?\xbc#\x80\xa4\xab\xaa5\x7f\xef\xdc4\x98\x9a'^K.\x1d_o\xf5@\xb5\xf8\x16\xd2\x8eUaE'\x9b}\xfe(\xa0@3\x14-\xc6\xeb\xd2\xa3\xf2\x8a\x0e\x8d\x14A\xa4\xfd\x0f\x82B\x82=BN\xa9\xb3IF\x1daJ\xa2\x9e\xecE\xd8\x9e\x14\x88\xc3{C0\xb4\xf2'\xe4\x9b}\xc3\xc6\xe7\xcc\x88x\x02\x07\x1fN3\x07\xf7\xb4\x9b\xf6\xf3\xfbn\x1f\xd0\xe3b\xf4\xbd;\x9feSvt\x10\xc4Z\xfcHz\xf7\xb8\x0f\xce$\xbf\r\xae\xe9\xadT6\x97\xc9SN\xa3\n\xd9\xe9\xfbM\x17\xe3\x16\xac\x88\x99\xe5\xc30\xa0\xe0\xff\x1e\xf9L\xebv\x9b}\x93\x7f3x\xb8\xaeS\xe2U\xfe\x88\x84o\xcc\xae\xcd\xaf[\xc1%{\xd1#\xdd@n\xde\xc4M'\xe75\"\xe1b\xea\xc1\x13\x12\x0c\xad,-2\xfbp\x8c\x18\xa0\xa3\x82\x86\xce0\xe5\x07s\xaf\xb9\xcd\xf1\xee\xbcH\xd0W\x1e\xa5\xd3\xd5#z\xf6f\xa2\xbf6\xeez\xd2\xeb^\x97\xf0\xf8p5 b'\xb6f\xc0\xe4\xed\xf9\xc4\xe8\x1c3\n\xfch\x98\x1d\xd9\xdfi\xf0t\x99\xc9\x92\x16\x89\xd7\xd1\x19\x17v\xf5\xcb\xfe\x10\xb6\xc2H\x97\x1a\xe2\x02\xc6\xd3\x9eu7\xc91\x02\x1d\xbb~6\x1dIU\x87\x15\xb3Z\x89\xacO\x815.V\xa5O;\xe3\x91\x19)0\xa7\x08\x95\xf1\xcb\x8c\x1c\xb6\xb1\x18V\xa9\x83{-J\x7f\xc6\xfa\x97\xa7A\xa9f31\xd2\x0e\x06\xe1J%\xb2X\xb9\x83Yi\xef\xa1\x8bm\x17\xab\xf5\x05\xc78\xee\xa4\r\x10\xe0\xfb(\xf3\xbc~\xd82@ n\xc1\xe3x\xf4>uy@(\xc0\xcb\x08\x91\x94\xf2N]\xeb\x94\xa4\x03\x88I\x93\xd5/j\xed0\x7f:\xdaO\xcc\xc9KMu\x14]\x13ht\xe3\xc6\xdcM\xc9\x15\x9e\xc8\x02X\x04\xd9",
                        "code_execution_result": None,
                        "executable_code": None,
                        "function_call": {
                            "id": None,
                            "args": {"isbn": "0-7653-1178-X"},
                            "name": "get_book_info",
                        },
                        "function_response": None,
                        "text": None,
                    }
                ],
            ),
            UserMessage(
                content=[
                    ToolOutput(
                        id="google_unknown_tool_id",
                        name="get_book_info",
                        value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                    )
                ]
            ),
            AssistantMessage(
                content=[
                    Text(
                        text='{"title": "Mistborn: The Final Empire", "publication_year": 2006, "author": "Brandon Sanderson", "pages": 544}'
                    )
                ],
                provider="google",
                model_id="gemini-2.5-flash",
                raw_content=[
                    {
                        "video_metadata": None,
                        "thought": None,
                        "inline_data": None,
                        "file_data": None,
                        "thought_signature": b'\n\xce\x07\x01\xd1\xed\x8aoT2\xe8\x03c\x1c{!\xf7\x9a\x9a\xb6\xab\x19D6\xb7\xbbfM;"Dy\xa5/\xc2P\xa1\xae\x0c\xba\xb1\x03\xf7;\xffU\xe2\x87U%\xb2\x89\xf0LP\x85\xa4:\x9e\x06\xb4\'\xbd\xad\x94a\xf5\xa1\x17\x9c\xd32\xb0\xce\xaam\xc2J3\xd04]Yb\x08\xd3\xfdn\xb3\xb3j\xd3\xbe\xb8\xe5\x1f\xed\x1c\x991`s:\xacJ\x9e\x93xbuF\x15\x1eh\x1e9\x87X`\xaf\x9e\xa5\xdeHm\xac\xe3S\xf5[\xeba?NG\xeb\xad\x9f\x86aJ\x08G\r\x19O\x86\x8a\x80\x04\xe4B\xda\xb6\xa6\x90\xd0\xf3M\xca\xa2\x1e=\x90L5\xec\r\xdf\xa7\xc0\xe9\x07\xf4\x1f\xe9:TW\x01\x194\x10;\xfez\x05k\xf2H\xb1\xbb{@\xb6\x98[\x94\xb8x\t\xc03\x92J\x18\x12\r\xdd\xb4S\xd3\x137,Lt(\xa4\x99\xc6[\xea\x8d\xb1\xbd\xf1\xc9c\x91\x07\xac\xf4IW\xd9r\x03\\\xc4{S\x9f\xa6\xe8\x94\x9em[\xfc\x9f\xa6+\xaad\x05\xed(\xba\xd9\xce\xa4\x9a\x96\x18\\=\x0b\x08"F\t\xfe,l\xadg\x89\xd7\xbd\\\xa4\xbcl\x83\x8e\xcb~t\x17\xf7 \xcc\xea\x00!\x01|6\xb5\x9f<\xa8;r\xb4Z#\xbb\xf0V\\\xf8\x1f\x90rG\x0e\x93D\x14o\x19R\x90\xc6W\xe3%-\xd84\x81\x04\x89\xa0O\xa4\xc6M\xfb\xb7,\xc3_~>\xef\xeb3=s\x1f\xadg\xd8\xb4\xbd\xa8X\xae\xc4\xc8\xc9\x08>\xe7\xcd\x9e\xe5c\xfbww!\xd4\x83\x1b\xf7P@\x025*\x86\xd7\x0f\xc6\xae\xec\xfb\xe3\xccBYr\xd5\xa0\xa6\xb2=H[y\xb49\xc9e\xba)u\xaf\xce\xf2\x99r\xd0\xb2\x85z\xc5\x00\x1d\xbf\xc4]8\xe7\x8fA\xcd\x08\x8d\x04\xd1\xb9\xd3)6K>\x03\xb3p\xda!\xa8\t\x87\xaf\x19\x05!\xc7&@\xde\x92\x0e\x8df|O\xafp\x99\\\xf9>e\xb1\xd6\x07\xa2{\x05\xbd\xfc\xe3\xfa\x17\xe9\x9an\xf9i\xff\tc\x8c-\xe0\tx\xcecbl\x9d\xd1\xfe\x91\xf5\xc69Q\xcf\xd3\x8bI\x923\xdc\x9aC\xa5\x07\xeaO\xfa\x94\xb3F\xba\x99\xdc\xcf\x04\x8e\x13\xef\x07{\x92\xfb?J\xc5W\r\xefEf\x8f\x17\xa5\xa9\x03\xb6i\x9a\xf7\xf5\x1e09(\x00F\xf4\xf9\x92\xea\xd7@\xc4T\r\xe56V~\x98\x91\x15\xfd\xdd\xf6\xfe_(\xcdm\xe8_\x82\xd5\xe95\x84\x18\xd2\xaa\x87\xa7b\xed^\xb3w\xef\x94\xad%\x0b\x06r(\xbaq/\xe3\xc6.h\x0e~\x02>|9\x90}-\xbd\xaaQ:&\xb0\xb9i\xa2\x18P4_\xcdx70\x02\x18\xdf\x0b\x90e\xf1J\xe9\xf8\xe7\x1a0\xa4 \xbaF:x\xd9\xfdq>\\\x13AH\xe7\xa1\x1cob\xdd\xb4nG\xd0~B\x1d\x80!\x02m~\xdaY\xbbf\x03\xa2\xb6!\x9f\xed\xbc&\x8b\x91\x91g\xa7\x0f\xc2\xdbHs\xb8\x01\xe4\x8bP\x18\x8f\xb92\xff\xe2\xd6\x12,[\xc4e}\xb0q\x17\xc5y\xd5\x98}\x0c"\xb0\x1d\xcb`?\xd5\x1fa"\x1c\xfaK/\xe4\xe1\x15\xd7)~\xc3p\xfe\xe0EQE\xad\x0f|\xbf\xae_\x10\xc08n\xa9\x9f@\x04\x17h\xef\x97\x12\x1f\x1e\xb4\xf1\x07\x13\x97!(\xbeN\xb8\x86/R8\xfaKY\xd0c\xe5\x1e\x07qN\xe4P\x12\xc9\x91\r$\x0cb\xcc\xee\xa9\xba\x9f\x19\xac$\xb9\xc9(\x9f\x16\x9c\xc4\x9a\xd4\xef9Z\xe34\xa0\x0b\x08\xcd\xab\xc4\xdd\xafaA \xd2\xfa^\x0f\x02\x94\xe1\xf16zR=\xf0o\x816\xa9\x84\xeb\xe6\xf4p\xfb\xfa\x9b\xdf\x90_\x9e\xd2K\xce>\tfQ,\x02:\x8b0g\x90<\xe2L\xffj|\xe3C\x89b\r\xa4F1\xeb\x13dE\x03\x14\xde\xa9\xedk\xe3\xde\xb6ed\xcf\xb5!\x9a\xf2\xd9\xcb\x7f\xffV]\'\x8e\x0eI\x9cG\x92\xcd\xe1\x9etO0\xdc\x15\xb4^\xf0\xe8\xfcO\xdc\xed\xda\xef\x84\xf5g\x1a,\xb0e\x85\n\xa1\xd1\xed\x9a\xc7x\x95\xd6E\xa6x',
                        "code_execution_result": None,
                        "executable_code": None,
                        "function_call": {
                            "id": None,
                            "args": {
                                "title": "Mistborn: The Final Empire",
                                "publication_year": 2006,
                                "author": "Brandon Sanderson",
                                "pages": 544,
                            },
                            "name": "__mirascope_formatted_output_tool__",
                        },
                        "function_response": None,
                        "text": None,
                    }
                ],
            ),
        ],
        "format": {
            "name": "BookSummary",
            "description": None,
            "schema": {
                "properties": {
                    "title": {"title": "Title", "type": "string"},
                    "author": {"title": "Author", "type": "string"},
                    "pages": {"title": "Pages", "type": "integer"},
                    "publication_year": {
                        "title": "Publication Year",
                        "type": "integer",
                    },
                },
                "required": ["title", "author", "pages", "publication_year"],
                "title": "BookSummary",
                "type": "object",
            },
            "mode": "tool",
            "formatting_instructions": "Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output.",
        },
        "tools": [
            {
                "name": "get_book_info",
                "description": "Look up book information by ISBN.",
                "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                "strict": False,
            }
        ],
    }
)
stream_snapshot = snapshot(
    {
        "provider": "google",
        "model_id": "gemini-2.5-flash",
        "finish_reason": None,
        "messages": [
            SystemMessage(
                content=Text(
                    text="Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output."
                )
            ),
            UserMessage(
                content=[
                    Text(
                        text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                    )
                ]
            ),
            AssistantMessage(
                content=[
                    ToolCall(
                        id="google_unknown_tool_id",
                        name="get_book_info",
                        args='{"isbn": "0-7653-1178-X"}',
                    )
                ],
                provider="google",
                model_id="gemini-2.5-flash",
                raw_content=[
                    {
                        "video_metadata": None,
                        "thought": None,
                        "inline_data": None,
                        "file_data": None,
                        "thought_signature": b"\n$\x01\xd1\xed\x8aoc\xedV\x1eL\x16'\xc7M\xbbz\xfa\x12\xea\x1f\xcb$L\xf3\xaf\xac\x89\xb56\x85S\xdf\x16\xf7-<\ny\x01\xd1\xed\x8ao\xb4;\xce\x05\x1fx\xb8\xd9\x14\x83Y\n\\i8\x82\xf8}e.\xfa\xf2$\x15\xc9\x05\rl\x02\x86)k\xbf\x9fw\xf0\r\xe7B:\xd1\xaa\xbd\xe2\xd3-\xe2\xe8@\xa0\xb4\x14%\x81\x18\xb5\xdc\x9br\x80\xad\x00\x85\x97%os\xc7;\xcev\x9f4\xee\xce\xd0\xc2\xdc\xd8\x8d\xd9\xd0/\xb1N\xd2\xd4J\x12;\xfdT\x8cx}\xa4\xc6\xe88\xa0c\xe0\x87\x16\x8d-\x96\xf9wN\xf4h\xcc\xc7\xe2\xcc\n\xfd\x01\x01\xd1\xed\x8ao\xfd5\xdfi\xf6\xef\xf1\xa7T\xb4\xbf\x164a$\xe4\xfe\xb9\x8f\x94>37\x02\x19`6j\xe2)\xac\xe7\xaf\xe76\xa1\xd1\x8e.7\x01\xf5V@\x9c?\x01\xad\xe2\xd0a\x00Z\xe0\xa9\xd9\xd9)*[\x1a\xa0\x12\x96\x8blR\xd3\xb6x\xac\xfd\xbb\xdacR\xd6\xbb\x06\xd9G\x16x\xf3)i)fj'\xe5\xbfB\xe6\xf6\xcb\x95\xa0\x0b\x83\xe8U# 6m\xfb\xfc4Y\xb8\x92\xc3J\x8b\xa4\x8c\xd5Ut\x94\xcb\xf5\x94\xdc\x8fM\x15\x81sE\xea\xc2\xf7\xc7Q\x1c{+\xc3\xae\x9bXz$\xcf\xc4\xae \x88\x06\x9a\x97\x99\xca\x19Ht\xe8\x9d\x9f\xbc\x889H\xd4@\xce\xb5\xd5^9\xb8\x12mt)\xe9\x84}\xb5~I+\xaf'\x8b\x89\x919\x0bO\xd5\x08\xc3\x88x\x97\x87R\xf0\x1f\xcd\xf5\x14|N\xcf\xbb\xa0\xab\xfe\x88\xdb\xa8\xd40&\xb0\xcawp\xf4s\x9d\xe5ah\xe1\xef\xce]}\x82\x1c\xc2_\xe8Q\xd7\x88\x9b\x913\xd8z\xbcy\n\xed\x01\x01\xd1\xed\x8ao\xd7\x92\xce\xd2_\xdeD\x0f\xcb\xcd\xa6\xc0>\x96\x98x\xc6\xc7>\xb0Tm[\xa4H\xaa9\x81\xae\x98D\x88\xc9\x96\"\xf1\xfd \x1eS\x02\\\xec1~]\xf4z\xd1\xcb\xb9\xa5\x85\xca\x99d\x18[*\xe9a\xa8\xa8dU\xf3d\\n\xa54Kh\xac$K\x11\xa0rt\x16\xbb\x01\x02\xfd\x06I\xfb\xfeG\x16\xdfG\xc8#\xf5\x03\xbc\xe0]?\xfd\x06E\x82N\xc8[\x1e\x18\xbcY\x12`!\x9f\x15i\xdc\x0bl2)\xd1\x88\xb3\xa3y\x00\xb8\xf4-\xec\x11\xee\x17\x91\xc1\xc5 \xba\xbc\x01\xc8\x10\xadkb@\xa7T\xb6\xe7Q\x83Q\x91\x06\xb6\x0c\xc5|\xd4\xfaVW&\xee@\x04+\x85\x17\x11\x9e{\xd5\x91\xb9\x92iG8\x1d5\"c\xa5n\t\x07P\x8e\xeb\x1e\xf6*-Z\x08\x1f\x18\xfc\xa2\x07\xee[s\xa2:0i\xe8\xa8 \xcfm\x06\xad\x8d\xf9\x157\x81D\xfc\xdc\xef\xb14\x18\xe0\n0\x01\xd1\xed\x8ao\xa6H\x86\xd4t\xfc\xcc\xec\xa2\xe0|b\x10\x0c1\\\x98\xaa\x82\xf4\x9dG\xa1\x8a\x7fsxT~\x98\xd2\xa8\x00\xde\xeb\x0eK\xaeyY\x0eo*",
                        "code_execution_result": None,
                        "executable_code": None,
                        "function_call": {
                            "id": None,
                            "args": {"isbn": "0-7653-1178-X"},
                            "name": "get_book_info",
                        },
                        "function_response": None,
                        "text": None,
                    }
                ],
            ),
            UserMessage(
                content=[
                    ToolOutput(
                        id="google_unknown_tool_id",
                        name="get_book_info",
                        value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                    )
                ]
            ),
            AssistantMessage(
                content=[
                    Text(
                        text='{"title": "Mistborn: The Final Empire", "pages": 544, "author": "Brandon Sanderson", "publication_year": 2006}'
                    )
                ],
                provider="google",
                model_id="gemini-2.5-flash",
                raw_content=[
                    {
                        "video_metadata": None,
                        "thought": None,
                        "inline_data": None,
                        "file_data": None,
                        "thought_signature": b"\n$\x01\xd1\xed\x8ao\x088\xa0\x86HTP|\"\xfa\xf2\x18\x08@U\xb1\xaf\x8b\xee\xd0v..\xac\x9b\xd0?\xfb)x\xc2\n\x88\x01\x01\xd1\xed\x8ao\xa0\xaf\x05\xb9\x00T\x11\xb3\x1b\x9c8\xaf\xe9}\x0b\x89\xc0\x91\x0cW\xee\xa2\xdc\x13\xde\xb3\xb7\n\xde\xeb<\xa5+e}\xf2\x19\x97\x81\xab\xd8J\xe7|\xdc4a\xac\x81\xc3\x10~\xf4\x893{?\x007\x02\x08\x05\xcbaT\x8c\xc7\x10=\x95\xb8\xdf\x90\x91\xe5}oW\x99\x04y\x1c\xe3p\x9b(:N\x83\xec\x13\xd4X\xaafaK\xd5\x1c\x95\xa0\xfa.uW\xcbO.\xd8\x9c_\xc6\x8b\xbca\xb1\xf5\xd0\xe1\x81\x83\xbf\xb2\xd2\x10u\xa3\x85\x8f\xb3\x99\n\xb1\x01\x01\xd1\xed\x8ao\x90\x0e\x0cw\xeb\xa0o\x98K\xe7/\xd2,!~\xd3\xba\x04qV$\xee\x8e~\xfc\x06}\x97\x97\x9a\xacif\x14)[\xc8HP3\xe3\xdb<\x93\x1d\xf7\xe6\xf1\xafCA#6\x03\xa5J4\xfc\xf7;\x99\x85w\xd9\x1b5\xac%\xa3x\xff\xc3Yw\x10\xfe>\x8fHD}xn**\xa1\xc3\x0bo\xb4\xde\xf5yE\xbc]w\x02U\x11\x86\xf8u\x15\xc1\xf6\n\x1bE\xe8\xf6\xab\x02\xcc\xc46\x1e\xbe\xde\xc4e\x84\xe2,\xb6\xc6\\}\xce\x9a\x14\xcfO\xa5\x14\x03L\x90\x9a\xf41\xb3\xd44>Gg\x13%\xa6\xb8lU\x9e\xc7\xf3&\xff\xad\x1e\x1cR;2\xdbj\xbf\xa5+\xe3\xe2\xe2\n\xb6\x01\x01\xd1\xed\x8ao\x94.|\xa5]\x84\xf6\x97h\xaa\x08[)\xd2X6\xce\x1d\x1c\xdd\x8c\xc9\xc0\xfaX \xb5\xf28\x08\x1d\xc0\x07E\xd7\xb8D4\x13\xf1t\xe6\x90\xf6|\xc0\x9b\xb4\x81\xa2?Ab\xb2\xb8\x91f\xc0+\xd7q/\xafx\xfa}\xb9\x9a\xcaE\xd1\xa1\xc5\x13\x9a~\x86\xefB\x80\xe6\xc7Pp\xd3\x19\x03\xf2\x05\x01\x83\x1f\x90\x88\x14\x16+&\xba\xc4H\xada\x12j\x92\x87\xa8L\x01\x9b\xdf\xdf\x04\xdd\xa3\xc5\xae\x1e\xa2\xcf\x06\xd76\xd66\xc5Wc\xcdW&\xa2\xa0\x04W\xd9@\x9cV\xc0\xdb\r\xa1=\xea\xd7\x8bpB\xe6G\xd5\xcb\x08\x04\x1d)\xad\xb8\xdb\x84 :c\xc4\x03&\xdc\x01\xd4H`!\x10\xf8\x11\n\x90\x01\x01\xd1\xed\x8ao\xf8\xa8P\xe1\xcbM\xd8\xb9|V\x14\xb5_\xfc&A\xaba\xbf\xb5\xd6\x8f\xc3\xaa\xc7\x07?\xca\xf2\x1f\xadY\x18\x92\x1f\xb5\xb6|G%\xbf=\xdc\xb3\xc9@\xf9\x8a\x075\xe0\x12\x8a\x11\x02\xa2\x15\x91Tu\xcd\xaa\xd0\x96\xc2\xf7\xb5\xb4@\x86\xbc<\x84yC\x1b\xe92\x0c.\xb8\xfb+\xb5\x95\xda\x90\xe6\xe3<\x12\xdex\xfcV*\x90\x93\x19\x16\x15\x0f~\x89C\xc1{\xec(5~\xa1MX)\xe9\x19\xf5\x97\xe3\xeeA\x8f?\x7f\x9e\x03~\xfd\xa3H\xd8`2)\xe3y\xc9R\n\xd7\x01\x01\xd1\xed\x8ao\xfe\x91\xe5\x07\x98\x8a\xdbMQ\xb8\xe9V\x8c\xfchLe\xa1\xbd\xfd8y:\x1a\xb1\n\xad\x93\xe5j\xa4B\xaa\xf1h\xa6\xedZ\x80\xa8\x0c\x18\xe9\xf1U\xb1m\x859\xe2S\xd4a*kg\xb6\x8d\xdb\xfa\xb0\x179n8,\x82Z\x80\x935i(\xea\x82?\xcc\xd7'\x99\x92\xab\x8d0\x97\x8bfa\x0f|\x9b\xce\x1bq3\x18\xd2\x1a\x7ft'\x14\xd5\x94\xb4\xd9\xa6}k\xf4\xb4\xc3>\xb5N\x17\xff\xdf\xab:\xa5-\xc4\x9bC\x18N\xe5\xb8j\n\x92V\x08\xa2\xcaIQ\x8c' \xedG\x10.\x80TC\xbc\\\x87\x7fA\xbcd\x9b<\x8b\x15y\xc85<j/\\\xf5\xa2\xf5\x8d\xc0~\xbe\x84o\x05?\xe3\xad\xd6S\x02e\x9d\x94\xab\x9b\x88\x88J\\z\xe9\xd0\xf0\xe0\xb3\xf7\xf8\xf5\xa5Q\x88\xf5\xdf\x13\x98\x1f\xcd_\n\xae\x02\x01\xd1\xed\x8ao\x9fjl{\x16\xcb\x99\xa8K\xd8\xaaU\xa0\xb8d\xf8\x10\xf6C\xba\xb5g\xe3\xa2L,\xccS.?\xd4\xf2\xb2\x94\xb8\\\xd3;at5\xb6\xf4U\x03NM\x0e\x03j\xb5\xfb\x8c\xcf6F\xa6\xdf\x911j\xed\x0f\xd7\x91\x02H\xd8j\x0e\x04\xde\xaf\xe5;:sm5\xc0\xa0*d\xee\x9a\xbd\x03\x18\x83<\xc8\xc8OO\xf5\xdeW1oM\xeah\x1d\xceE\x9d\x15\xa4\x02\x9aU\x8b\x81A:\xd5\xa8Gg\x81\xc3Z\x98C\xe4\xe17\x08\xd0\x9cz\x1c\r\x96]\xbaL\xac\xee\x19\x1ft\xf3\xa9&V\xa5\xe2_\x80\x93\x87vm\xe3\x11K\x9b\xda8\xf5\x97\x8f\x00\xe3\xd3\xd9+_\xf2\xe5;:\xc0\x9c\xd1\xdapr\x84\x0f\xd6N\xe9\xe0\xadb\x93\xeb\xaaL\x98T\xc6\xa8\x89\xc5\xc8s\x0f\xf1\xf2\xadE\x91\"\x18$>\x19Oqq'\xbf\xfev\xcae\xb4\xf7\xdd,g+\xfd\xd6=5\xfer^u\x9d\xde\x90(\x0foC=\xc7\xb0I{\\u\xd5\xc7\xee\xb3X\x1a:9\xce\x86\xbf\x9c\xfde\xc3\xf3d\x86o\x94\xd4Msz\xb8+W\xfe\xc3]\xf1\xd7\xf6\xac\xef\xb0x\xe6(\xc7\xd8\xd6\xef\x9bn:5#\x9f\x18\n\xc7\x01\x01\xd1\xed\x8aov\xc0\xf2\xa8q\x18\x1b=%\xa8\xfd\x7f}\x95\xb3mU88\xac\xf7D\xb3\xe6\xf9\xba\xee\xa5c\xefgi+\xd0\xf4\x17\x89 \xce\x07`B\x8f$\xa4\xf7#\xe1\x16\xa5\xca&\xfc\x88\n\x87\x1c\xea\xcb\xf9\xe3\xc3\x08\xcf\xf2\xa1=Dv\xee+\xf4\xe9\xe3B\xd5\xcd\xea}@\xe2q7\x0f\x9b\xdbx\xeb\x0e\x0f\xd623\x97\x11nQ<\xcct'#N\xc5?\xd3\x1e\xed\xa0\x8d\xeb\xcbw\x99\xd8u\xc8\xbf\x1d\x95\x19\xaeP0\x0f\xb7\n\xe6\xa3\xf0\x9b\xa0\xbb\x84\xd4\xfe\xf0\xd6!\xe3\xad\xca\x17\xd6\x81\x16\x81\xba\x0c\xb5\\\xb7\xf7\xd8=\x03$n\rA\x91\x83<\x9c\n\xf6\xc8\x96\xa9\xf5\xae_U7\x92\xda\xe6@;\xbcIp.\x84S\xff\xe9e\x95\xa4\xf9\x91Z\x87\n%\x01\xd1\xed\x8ao\xc8\x1b\x10G\xee\xf9\x80\xf7\xc5\xca\xa7p\xbb{D\nU4\x1b\xe9\x18\xf8\x15$\x9c\xfb\xa6\x10]\x17.\xeb",
                        "code_execution_result": None,
                        "executable_code": None,
                        "function_call": {
                            "id": None,
                            "args": {
                                "title": "Mistborn: The Final Empire",
                                "pages": 544,
                                "author": "Brandon Sanderson",
                                "publication_year": 2006,
                            },
                            "name": "__mirascope_formatted_output_tool__",
                        },
                        "function_response": None,
                        "text": None,
                    }
                ],
            ),
        ],
        "format": {
            "name": "BookSummary",
            "description": None,
            "schema": {
                "properties": {
                    "title": {"title": "Title", "type": "string"},
                    "author": {"title": "Author", "type": "string"},
                    "pages": {"title": "Pages", "type": "integer"},
                    "publication_year": {
                        "title": "Publication Year",
                        "type": "integer",
                    },
                },
                "required": ["title", "author", "pages", "publication_year"],
                "title": "BookSummary",
                "type": "object",
            },
            "mode": "tool",
            "formatting_instructions": "Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output.",
        },
        "tools": [
            {
                "name": "get_book_info",
                "description": "Look up book information by ISBN.",
                "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                "strict": False,
            }
        ],
        "n_chunks": 3,
    }
)
async_stream_snapshot = snapshot(
    {
        "provider": "google",
        "model_id": "gemini-2.5-flash",
        "finish_reason": None,
        "messages": [
            SystemMessage(
                content=Text(
                    text="Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output."
                )
            ),
            UserMessage(
                content=[
                    Text(
                        text="Please look up the book with ISBN 0-7653-1178-X and provide detailed info and a recommendation score"
                    )
                ]
            ),
            AssistantMessage(
                content=[
                    ToolCall(
                        id="google_unknown_tool_id",
                        name="get_book_info",
                        args='{"isbn": "0-7653-1178-X"}',
                    )
                ],
                provider="google",
                model_id="gemini-2.5-flash",
                raw_content=[
                    {
                        "video_metadata": None,
                        "thought": None,
                        "inline_data": None,
                        "file_data": None,
                        "thought_signature": b'\n$\x01\xd1\xed\x8ao\x88\x979QZ,V\x1d\xfc\xf4*\x05&\x17\x89/\x07.\x00\x7fGo\x08\xaa\x83tMS\xa7\xe0\xf6\ny\x01\xd1\xed\x8ao\xb3\xbd\x96w\xf4\xfc\xb1\x0fW\xd5\x12e\xb67\x10P\xba\x94\xacG\x12\x03aB\xdcZ\x9c\x93I\x03t\xee\xb5\'&&\xc8b\x0cfwe\x15\x05\xd9WZ\x82\x07r\x1d\xdd\x88\xb7\x07F\x1cl)$\x86\xbf\x85e{\xb1Q\xad\x02\x9c\xed-\xafh:\xd4\xd7\x9eG,\xf6\x1b\xae\xc6h\x06\x98\x01\xcci\x87\xa0\xd1Welf\x9do\xec>JN\xd9\xbd\x1f\xd4\xe42o{\x85\xed\x01\\\xdc\n\xf3\x01\x01\xd1\xed\x8ao\xe9w#\xfa7\xbb\x04\xba\x1b+D\x04NH\xb3\x84\x8a-\x036`\xbd\x12\xed\x0c\x12h\xd4\xa3d\xb4B\xe6\xbc\xcb$\xc8\xa6\xb1\xdf\xa3\xa2\x10\x02G#\xd6\x82Jd\xf3\x8e\xab\x0c\x86\x9cA\xa2\x0cb\xba;\xearMD\xc5\x8b\x98~!\x9c\xb6BK(\x18%\x03\xad`\xaf\x8a\x11\x8c\xe3\x1a\xfb\xc4\xb7Nl\xa7gz\x16\x1c\xa6j\xe5\xddU\xe0\x01\x9f\x7f\xd6\xc0\x90*\x8f9\xd2/\x85=\n\xc0\xed\x1f\r\x91\x0e_E\x93\x96\x00\xa9\xf0^$\xf3P\xb0\x9e\x0f\x0c\xd2.E(\xe7[B\xa49\xd0Z\x1dd\xc1\r\xec*X\xbba\xa2U\xde\xa3\xf4E\xa6\xbf\xad\x7fh\xca\x84SJfL\xe7\xccZ\x96\xab~\x80e\xbc\xda<Y(_O]\xf2R\xa9\x8f\x88\xfd\xa5\x05\xc9\x01\xc4?\xfc\x14{\xb5Zz\x83\xa1\xba\x99\xe1H\x88\xb6mYGIs\tBK\xbf\xeb8>\x01\xa3p`\xc9\x91\x1a\x8b\x1b\n\x82\x02\x01\xd1\xed\x8aor\xe2\x19\xab\x06\x0f\xf5\xfe\xbb\x11\x83\x84\xd6`\xae\xab2\xa4\x91\xbes\x82\xe4\\[w\x87\xee\xd0_\xbc|\xd2\xfd$\xc9\xff\xa0\x19\xb9D\xa7\xca\x8d\x11\xbf\xd28\xa7\xcf\xf1\xb6\xbfb\xa4Bl`C(`\xc6\x1b\xea\xe9_\xba\xa8I\xb7k\x00"\xa5%Y\xd2~\xb0\x05\xbe\xe1Z\xfe\xb6\xc5\xcf\xa6\xc1\x1c8\xc4\xa6\xd7\x8d\xca\xe8\xa7\xca\x99\x8e$r\xcf"\xde\xd5)\x1f\x96f2\xbfsY\xe3`h>\x02\xab\xc7\xb9\xb5\xed\xeby\x9d\x95S\xe4\x1d\xf3!\r%\xbeG\x0b\x10\x15v`_\xbf*L\xefv\x08\x96\xbf\x85\xd0\x92\xe1$\x1dI!M\xf2\xda[\x11\x96P\xcf\xa0\xa2]\x03\x91\xf7\xa9\x02\xee\xd0\xcc/Mo\x86\x87t)\x99\x93\xd1N\x90\x1b\xcb\xaf>\xcc\xefe\x10\xe0s`\xd4k\xa3\xdfR\tk\x0f\xd1.\x82\xa3\xe8|sU8u\xb4\tZ\xe1\xf8b\x83\x8f\x0f\xdb\xc4\xa2\xecs/\xc1\xf7\x01\x87"\xbc\x1b\x8fgd\x88\xeb\x88\x1bg\x861%\n\xd6\x01\x01\xd1\xed\x8ao\xf9\xd00\xc5?2\xc0j\xef\xc4uL\x92B\xe4\xca\x1c\xae\x11\x913\xa3uZ|\xaa\xce3\xff\x0fm\x80\x9d\x18-\x17\x07\xf32\xf7l\\#\x7f\x1cOG\xf3[e\xe6\xf8\xe4\xa0J\x8c\t\x90\xa8b\xf6\xf2\xf6V\x8bqqA\xee\xdcC^1k\xa4\x02\xcd\xce&\xbeN\xec\x1a\xc7/\xef\xe9;\x0e\xcf\x1f\x9f\x83\xeaC\xf8\x9aU\xc8\x8ae\x0cr\xaa\x9ds\x17\xc9\t\xbdg\xcefOHk\xd2\x11\x9a\xf9yR\xc3D\xc4\xd2)\xeb<\xbe\xd6\xfe\x0c\x06\x18\x06,\xfac\x86s\xd2\xb8\xa39/c\x96\xaaZ\xb5\x87\x01\xf1?D\xcf4\x1dr\xa2\xf7\xcf\x04\xdc\xffM\x1c\x92\x14\xc0\x14%\xc5\x1b\xb2\r,\x05D]%c\xe6H\xc7\xd1\x91T\xc5sD\x0e\x1a\x9a\x05:a \x9e\xe2\xd25M\xbep\x14\x94x\n\xf2\x01\x01\xd1\xed\x8aoc\xc1e\xb0\'3\x89\\\xa9\xb7\xf21\xc7\xff\x1d\x12\xb6|/\xbb\x0b>I8y\xc7q\x08"bm\xee$\xb7&\xda\x90_d\x96\xce[\x8b\xfd\xab\xa6[\xef\x90sV\x11h\xfd\xaeew\x80\x0c\xc1\xb3B#.!\xfc\xfc}\x1f\x83\xb9tj0W\xf4\x9e\xc40\x1d\x97J\xa0\xb7\xb3\xb5t\xf4\x92\xd1\x9c\xb5o=\xe6\\\xceo\xa2:\x0b\xdf\xb6\xa8/\x9b\t\xc4\xe7\xa7\xfb\x9e\'\xafb\xe1%q\xc5\x89\x0e?\x8dDkE\xc64\xe4xO\x80\xc0\x8fC\x8c6\x8a0q\x03\xd8\xc2a\xcc\xe4P\xf8\xbf5\xa2n\xab\x91\xa1YnsP\x0bP\xd3\xc2g\xa4S2Cf\xa2\xe8\xbc\xb1l\x7f\xcdHC(\xab.m\xfb\x96SS\xd5\\=\\\xb9 \x04\xf6\xd6_6\xe6\xf5\xa9sgMzW\xdb\x05\xce\xad\xe0H;k\xa5\xa1T\xe2\n(A\xc0\xea\xf6\xe6b\xe2\xdd\xaaX\x9b\r9\xfe[\x8f&\xbe\n\xe9\x01\x01\xd1\xed\x8ao\xc8\xcel\xbe\x8f\xe8KS\x0e6\x13\xce\xec\xfdP\xae\x89>t\x9e\x80\x87\xa8)(\xe8\xe9T#\xb5\xcd03\xbe|\x81\xc6|,\x92\xb5u\xd3\x05&c\x95\x7fY\x81T3\xa8F\xdc\xd7#\xcc\xfa\x0e\x18T%_K\xf6/n\xee\x00\xf4\xf3(\xa9\xbc*\xb2Y\x14d"\xbf\xe1\xee\xda\x16\xd2\x15\xc4\x11\xdeG\xf5\xa9\xef\x8d\x94\xe4\x97\xd5\xe6M\xee\xea7Z\x93\x88\xffi\xf6\xb9\x07w3\x91\xe5,\x8a\xb3hF\ngRW\x13YT\xb2h\xbdA\xd8\xd0\x04K3\xf1\xb1\x0e\x98-\xc1_\x16\xf1\x7fKY6\xee\xe8\xa3\x82\x84\xf4\x91\x05\xf6\x10@\x8dX\xf1\x9drO\xf4I-A 5$}\x80\xb3\xdf\xc9L\xedf\x8d\xcf\x1c\xec\xc2\x98\xb4\x94hV\x8c&\x834\xef\x15\x15\xd8\x85\xe5\x9d\x03\xdc|<r\xde.m\x9e\x11>jv}~-\xa4jdl1&\x07\xfa\n\xde\x01\x01\xd1\xed\x8aoA\x93(\xae\x8c\x81\xa6lNE\xde\x0c,iM[\xbb\x10l|\xe3\x99\xec\x08[\x92\xa9\x19 \xf5\xe5b\xa7m\xeb\xe8\xb6=\xcab\xd9\x835\x85\xf5K\x04}\x82\xb5\xda\xdb^\xc6\xbc\x86\xbb\xbc\xe8\x04-\xbb\x9c\x91\xcf\xc9\xaa\xba\xa1V`\x02\xfc\x1b\x1e\x92\x9a.wG0\xa9a24\x92\xc6\x00{\x06\xf5^\xbd\x0f\xdb\x1a\xbb\xf1_\xe5Is\x0c\xb6m\xb5`\xe4-\xcf\xb0\x0b\xec\xc0\x0eJZ\x18\xe8 \x15h\xbd\xb8{i\xc6\xfb\x1di\xd9\xd5?\xce(\xe2\xb8&`\xb7\x0c\xb2DZ\xd5g\xb6F\xa0^ \xb8\xa4(\x99\xaf\xe5\x86\xec\xea\xadRe|\x02\x0c4\xc6&\xcd\x00\xce\xa4Q\xd4\xfe\xf3\x9d\xfaK\xa0\n\xb1\x06\x9b\xa0\x97\x1e(\x0f\xb0"S\xb4[\x11\xd4\t\x9a5+qW\x938\xba\xf1o\x81\x92Fh\x8c\x1b6\x1dy\n\xa6\x01\x01\xd1\xed\x8aoc^k\xa6\xe1\xdb\x00\xf2\x84A\x9euE1$>\xdeDb\xc5\x99\xdd\x08\xb8\xa44\t\xfe\xfau\xa8\xe7*\xee\x18;\xa9\xa5\xc5\x195\xe5q\xd6\xa1\xd3\x94x\xf5\xe4\xcd\xf1\x1d\xbbDNx\xa9\xa5\x9a\xb7\x8e\x16n$\x9a\xa4\x10N\'#\xe3\xfa(~S\x9c*L\tw\x0e\xcbQ\x1b\x80\x95A\x01^%\xe0\x93\xcfb\x8at\xb1^\xa0\xa8\x15\x82\x1fV\xd5\x9f\xb5U\x1a\x7f\t\x16Y\xf3\x87\x87D"\xf1R\x11\xf2\xfd\xefm\xea\x84\x00\xc4\x03N\x15?I\x00\xef\x05"\xf2l}\xc8\xdc~ETVa\x00\xcdg\x83\xa6\xc5v\xc3\x00\x8f?\x97\n\xa1\x01\x01\xd1\xed\x8ao\xe0\x14}\x83{\x85V\x06N\x82\xd9\x80|\xe0\xb1\x13\xef<>T.\xbb\x8d\xcf\xb7>\xf8\xb4&\xef\xd2\xdd\x81^\xa3\xab\xe3f]e\xbb^\x036\xaf\xd9s\xa3\xb8\xf8\x8a\xb5*3\xafg:\xca\x06=0\xc5}p\xaa\t\x86\xde\'G\x1eM\x10\x12\xa7Q\xa3\xe7\xb3\x106pD\xe7U\xdc\x95\x1f\x8d\xc6-\xe2\xfc\x15 \x16\x106JpK\x06|\'\xb5\xca/\xa8y\xc3\xf9\x12HOC\x8c;QPY\x88\xf1p\xe3p\x8e*p.\x0b:\t\x8e\x16m\x9d\xa4J:[\xff\xaa\xae\xfc\xe6M\x89\xb1\xd3\xbe^\xa8+\x16\xc6|',
                        "code_execution_result": None,
                        "executable_code": None,
                        "function_call": {
                            "id": None,
                            "args": {"isbn": "0-7653-1178-X"},
                            "name": "get_book_info",
                        },
                        "function_response": None,
                        "text": None,
                    }
                ],
            ),
            UserMessage(
                content=[
                    ToolOutput(
                        id="google_unknown_tool_id",
                        name="get_book_info",
                        value="Title: Mistborn: The Final Empire, Author: Brandon Sanderson, Pages: 544, Published: 2006-07-25",
                    )
                ]
            ),
            AssistantMessage(
                content=[
                    Text(
                        text='{"pages": 544, "publication_year": 2006, "author": "Brandon Sanderson", "title": "Mistborn: The Final Empire"}'
                    )
                ],
                provider="google",
                model_id="gemini-2.5-flash",
                raw_content=[
                    {
                        "video_metadata": None,
                        "thought": None,
                        "inline_data": None,
                        "file_data": None,
                        "thought_signature": b"\n$\x01\xd1\xed\x8ao\x1a\xc0\xdc\xb1\xcfs\x7fV8\xb8\xb1h4\xd0>\xf0\xcf\x8e\x8a\\\xa0)Wx\xe2c\x8f\xban\xc1%\n{\x01\xd1\xed\x8ao\x8ae9\x02\x91\x11\x9b\xad\x86$\x043\x90Jmj\xa5.\x87\xe0\xdfB\xde\x8eEC%\x13'L\xbb\xd3sd\"9\xe7\x98\xf6\x9c,\xc2\xd1\xef\r\x90\xact\xfe,\x17\xb5Ix\x87\xacM\xecG\xd2\x01\xe6\xc7\x04Me\x7f\xf1\x91\xa0\xc6\xc5\xc8\x04\x16H\xcb\xae\xaa\x14W\x8c\x10\xd6\xb9W\xd7\x84j\xe5`\xfc\xfb\x1d\x17\x84\x02\xbf\xec\xa4\x13BB\xf3\xf3\xc8<\xab\xc34\n\x12N&\xd3m;\x13\n\xe0\x01\x01\xd1\xed\x8aolCK(\xea\xa92<\n\xc2\x8fG\xcf\xe6|e\x18\n\xc7\t\xb2\xd25\xf7\xe1;E\xb3Pr\xd22_\xf6X\xfa\xc9WO\xe8\xc6\x90s!\x9f\xbcG\xe0\xd0{\x85\xaf\x85\xa7/\xb2\x8a\x811\x0fR\xa8\x0cL?\xf1\x19\xa3K\xc7V\x88+\x19\xcc\x1a\x86\xf6e\x0c\xad\xe8\xe3\xa4\x1c\x82A*\xd5Wg2\xc7\x848\xbbC\xaa\x8d\xf8\x9be\xc1\xc8\xe5t\x14\x9a\xd8\xc93\x14*\xe8\xba\x88'U\x91\xf8\x94\x84\xebp\x8f7\x04\xd5\xea\xab\x12<lQ\x0e\xd4\xd5\xb9\xbc\xbc\xd9\xf1Ht$\x9a\xd3\xf0\x7f\x84\xa2\x8d\x93;]\xb8\xd6\xe8\x01&\xda\x9e|\x118KO\xfd\xef\x8c,\xc0\x9f\xc9\xd1X_\xd0\xa9\xe7\xa3\xe6\xc5\x91\xaf\xb2.R\xd8\x01:cL\xf4O1\xbfw!\xeft\xb4\xba0\x9f\t\x0es\xfa\xa4\xde\xc9h\x1c\x90\xb4\x92\xa7V\n\xab\x01\x01\xd1\xed\x8ao\x95-\x04\xb6\xc3\xb0\x89\xc7\x08\rZ#\xc7\x93\xd6\xfb\xa7s\xe2\x90\xe1\xee\x14\xa8\x08\xb1\xe9\xb0\x12\x0bwj\x0bmwo(\xa6\xa3\x06[\xa3\x83\x7fu\x82\x9d[\x14\xaa\x0c\xfen\xee\xbd7\xdaMY\x0cM9\xca\n\x93\xae\x19h\x1ak\x05}'\x81\x92N\xc9\xde\xf2\xaaNeF\xce?\xd2\x1d\x0cc\x12\x98\x9d[pw\x81\xddnr\x80\x19\xe2\xc7\x04L\xc1e\xc7W\x85\xefLc\xea.\x96z_\x9dK\x1f\xf7\xaek\xd1!\x9e\x9d \t\xdas\x07\x90\x7f\x05\x8d\x9f\xa1\x05\xb3=\x91!\xd2`\xeb3\x15\xde\x98E\x08\xef\xa32\x0b\xf3s\\\xc1]\xcd'\xa6\x8d\n\xb1\x01\x01\xd1\xed\x8ao\x0c9\x9f\xaa\xacr5\xd5\x89|\xeb\x15/\x9cj'F\xdd7\x12~ \x8a\x14}\xe0*\xd6\xb7\xf9\x8f\x03-d\xf5J\x98\x01\xc9\xe0\x87q\x8e\xb4\xa2\xfe\xa1\x0eK,\xccc\x04\xe3\\A\xf31\x85\x1f\x82\x19\xd1\xbee\xf5\xd9\xa5\xbd\x15\xe375\xdd\x93d\xca,\xb7\xbf\xaa\x1c+qJ\x80\xaa\xc9$\x87\x94\x93\x88\x9bc\x83Wr\xa8\xfa\xaeH\xed{\xa1\xeb\x1f\"IP\xa0\xe4E6Am\x19\x0e\xa9%bWNmp\nH\xb2\x92\n\x144\x9a\x86\x14\xd0\xfal\xb8\xd3\x18t\x0c\x9c[~)Ki\r\xbb\xae=\xc5@GgP)\x14\xad\x81\x9c\xfa\xac\x83\xbb\x16\x10\xe2k\x9d\n\xeb\x01\x01\xd1\xed\x8aoW\xa69|\x7f\xe3\xa1\xf1ql\x12\xd5k\xad\x8f\x1d\xaa\x1f!\\\x95\x8f\x06\x8f\xb4{\xac\x0c\x01\xb2\xe2\xe3\xbdN\x81\xb7;\xbb0\xd4\xbe\x8a\x17\xaf\x83\x0c\x99\x8c\x0e\x9d\xe7\xc1\xf6j6.m\x06\xcd\xe6\x07\xbb\xcc\r\x7f\x80@\x1aeN\xe2G\xae\xc2\xf6l\x15\xde\xe0Z\x1alb~`\xfb\xdb\x13~\x10\xd1\xb7\xfbm\x0bB\xef\x8d\x9f\xc8\xa2n\xfc\xc8\xbe\x82\xd6\xeeK7\xae\xc1\xcf\x892\xc6A<\xc9\x98\xe59\x94\xd0\x16\x17hr*\x16:\xeb\x08*h(p\xf5\x97\x96U\xde\xc7q\x91PF\x1c\xe5\xaa\x8bH\xb6\xbc%V\x81H\x81\t\x89#\xc2\x87\xa0\x85\xef@\xb6\xe9\ru\x01\xb1\xd9\xe1\xc7\x05e;\xe1\xfc4\x9ew\xe0\x88\xb0\xf6\xe5^V_G\x84\xc8\xf5\xdc\xa0p\xc0\xd3 \xe4\xeb2\xf8U\x0e\xd9r\x08>\xe2\xd0b@\xe7Q\x14\xc4\xc7\x14\xf9_2\x98d3\xbb\n\xad\x01\x01\xd1\xed\x8ao\xd8\x9b\x9bY\x8c\x0e\xf7 \xd6\xacS\xc4;\x9c4\xd2\xce\x01\x99,\x99r\x9a[\xa7\xf3s'\x9d\xdf^I\x1et\xe0:\xa8\xb7%\xaeQ\xcc\x7f\x96\x01o%\xe8\xfe\x06\xa2\xda\xab9\x9f\xb7'\xdag\xd6=\x86\x9fC\x9a\xb4A\x1e\xe2%Pu\xeeaXc\x8e\xfa\x1ez\xbeIQ\x05v\xfa\x82N\x07\xa5!\xfd$\x92a\xa72\xa1\x88mI*\xfa\x8a@\x9brt\xec\xdf\xa9\x89x\xb2\xae&\xb0\xea\x98\x10G\xae\x97~\xf6\x91RoJU\xfa\xc8\xa8\xa5\x07\xff\x92\xa4q\xd7\x1f\x95\x92\xc5\xfdM\xdc$\xe7\x85\xadZL\xa1\x1d\xf6\xbc,\x1b$\x10\xf7Y\xf2\x80\xde\x11\xa6\n\xb8\x01\x01\xd1\xed\x8ao\x13\xf62\x19\x91\xf2R\x85-\xdd\x05\xe0\x833\xf8;_\r\xfd2\xc8aX,\xe9Y\xbcK;\x9a[X\xdf2\xd1\xba\x01+\xfb\x9a\xaf\x95\xe5^\xe1\xb0\xb4[\xae.\xa5\xa7\xaa\x04\x028\x18v\xfan\xaf9\xadZ\xa1\xbc\xfa\x86\x82}\x95V\x86h\xbe\xd2\xfe\xb8\xe8\xa6.rg\x8ae\xee\x0f\xcf\xdf@\x1fA\xd2e\x94#\xce\x13\xf1\x84\xed\xba&Uk#f\x8f\x91\x13R\xd2\x83\xb0\x01O\xcc\x87\x98\x8f%\xe5R\xcdG\xe3E9\x8b}\x81i\xc4\x85\xb8\x08.\xc3\xa2\xbc\xb55\x1e\xb9z\xda\xd7?\xc4\xecU\x83\x14\x7f%\x86\x15r&\x00\xcdx\xb9\xdb\x97\x845\xeb\xb8,\xd8\xfeGt\xc8\xbb)c\x8c\nk\x01\xd1\xed\x8ao\xed-;\xbd\xc8\xdc}9}\xa3kD\x0f\x13a\xbb`C\x17\xf03\xf0\xd5\xde\xff\x1d\x7fg\xf4\x8cQ\xa1a\x87f\xdb=\x9bs~|\xf1\x1d\xdb\x96\xde\xd8\x9egP\xe1\xc2;F.\xbcr\x9f\x8b\xbb\xd4\x19\x18\x8c\xa2f\x8an\xa6A\xa5\xcec\x03\xe2\xe5k\x84Q\xdfs\x12\xbd\x89@+\xb9\xf9\xde\xef%c\xb6\x97]\xe1Z\xa8V\x83\x8a\xef",
                        "code_execution_result": None,
                        "executable_code": None,
                        "function_call": {
                            "id": None,
                            "args": {
                                "pages": 544,
                                "publication_year": 2006,
                                "author": "Brandon Sanderson",
                                "title": "Mistborn: The Final Empire",
                            },
                            "name": "__mirascope_formatted_output_tool__",
                        },
                        "function_response": None,
                        "text": None,
                    }
                ],
            ),
        ],
        "format": {
            "name": "BookSummary",
            "description": None,
            "schema": {
                "properties": {
                    "title": {"title": "Title", "type": "string"},
                    "author": {"title": "Author", "type": "string"},
                    "pages": {"title": "Pages", "type": "integer"},
                    "publication_year": {
                        "title": "Publication Year",
                        "type": "integer",
                    },
                },
                "required": ["title", "author", "pages", "publication_year"],
                "title": "BookSummary",
                "type": "object",
            },
            "mode": "tool",
            "formatting_instructions": "Always respond to the user's query using the __mirascope_formatted_output_tool__ tool for structured output.",
        },
        "tools": [
            {
                "name": "get_book_info",
                "description": "Look up book information by ISBN.",
                "parameters": """\
{
  "properties": {
    "isbn": {
      "title": "Isbn",
      "type": "string"
    }
  },
  "required": [
    "isbn"
  ],
  "additionalProperties": false,
  "defs": null
}\
""",
                "strict": False,
            }
        ],
        "n_chunks": 3,
    }
)
