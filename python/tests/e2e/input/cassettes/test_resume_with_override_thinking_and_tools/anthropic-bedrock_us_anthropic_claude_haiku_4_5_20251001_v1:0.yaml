interactions:
- request:
    body: '{"max_tokens":16000,"messages":[{"role":"user","content":"What is the 100th
      fibonacci number?"}],"model":"claude-sonnet-4-0","thinking":{"type":"enabled","budget_tokens":8000},"tools":[{"name":"compute_fib","description":"Compute
      the nth Fibonacci number (1-indexed).","input_schema":{"properties":{"n":{"title":"N","type":"integer"}},"required":["n"],"additionalProperties":false,"type":"object"}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '400'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      user-agent:
      - Anthropic/Python 0.64.0
      x-api-key:
      - <filtered>
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 0.64.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.15
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//bFRbb+o4GPwrll/2rKBN0nKX9gESLgGaUEKBZrXimMRJDI6dxHZIqPrf
        V7B7zm6l82R7PDMeWZrvA6Y8xBQOYECRCvGD4Ixh+dB6eNKf2nrbaMEmJCEcwFTEB92YdeakTsLd
        6TWa83NfsfEoiHPYhLLO8I2FhUAxhk1YcHoDkBBESMQkbMKAM4mZhIM/P37wZULYmbD45vBjO4Cb
        BAMlcAGIAEjcQBDxAsgEA0PXZQIm5MgZCgICmEqPuHgENkhQiQECkWKBJJyBAFGKQ/A94GmmJD5E
        5PgdyARJECAG/kXvnuwXjuCb8UBYiCsc/v4IfgZKkABZwUsS4vCuFRkOSEQCUCKqMGB/GLreBIL/
        DETpnVfgXJEChyBDBUqxxIUAkoMUnW8ZiPia+xE2oSAxQ1IVt28a58Iyz++2OYrNxdniwgjVe+a6
        PPesXUDKVlZV0005vLQiN10bi6j0ehPH8jpTVawDK6gi7yS2q71rIfdpuklXphamu45TCUttmE+S
        5Socx1UDjeNFXnfCfDU9eysdWdN2w15yp7W/FkXZDytiX+r84pV40xHTzsi3ee/0Hu5Nb2nqXnDa
        vfc16627Ojvtnmu6O0M/lvF6PVy0DC2vHcWXO2OR2Sad1utlg9bbaHHdj5SOPEJkrzVeVLTXJUt6
        4S9v6Us/Qf7Qbjusdi/iulz77ReFnnMnioq8d6lbr7sdNqLTTg+XYtkYzWiQ024Hx1G83Hec7Wbt
        jcrIJpqKGxM9Mo95u0cqbRisX09e91xoG2rNn8Use57qbaHbRzvR9CPbndzGVtMKzWnhl3KT6UKx
        vpbTvZ/2WbDygrcZL2VSNeytd513Su4sL5ew65ytWfbceLe2xnirztiYzif562mOx2/0JHw17yZh
        lG2ryDnhevx23c2n4dDwc1LruhwWWzNb630har8/np8Xkrr5cPXCxTgp3dFl4r56zJ5U1LQ2mRwz
        zYl82RjpK5Rqs0ISP9YuR/oUuaNXNa/y9fx01dqij6/Eb/tVPIKfzf8qh6tbGe/LANq/UfqlDL8u
        2L1/NVePX5w4pwcl8I8RcTurg26046uZ+rMzv+zMkOzfCQ9M5wibkKH0pvtfI29SlikJBx+QwYGh
        65+ffzWhkDw7FBgJzr6+c78QOFeYBRgOmKK0CdV95Aw+/rE6yL/pKHMUgGEgBv5laxc5IeQzZrEF
        NjkcNkfnvwcXJhdpNRKqpDBgXqlv6kqRYeOgjYDTuPTTUWQuYPvHcjYVYHGYIDzqdvr6L1q6N42K
        wr7dpbLuFK2QwxvozUOop/SUlsVSjCcAAAD//wMA/d89RJoFAAA=
    headers:
      CF-RAY:
      - 992ff02c4c0fe3a7-NRT
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Oct 2025 08:41:59 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-organization-id:
      - 217a607f-ed5e-40af-8a7d-f83ed52d59d6
      anthropic-ratelimit-input-tokens-limit:
      - '2000000'
      anthropic-ratelimit-input-tokens-remaining:
      - '2000000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-10-23T08:41:58Z'
      anthropic-ratelimit-output-tokens-limit:
      - '400000'
      anthropic-ratelimit-output-tokens-remaining:
      - '400000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-10-23T08:41:59Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-10-23T08:41:56Z'
      anthropic-ratelimit-tokens-limit:
      - '2400000'
      anthropic-ratelimit-tokens-remaining:
      - '2400000'
      anthropic-ratelimit-tokens-reset:
      - '2025-10-23T08:41:58Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_011CUPqEVBdyAe1esCGT3ZHK
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
      x-envoy-upstream-service-time:
      - '3712'
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":16000,"messages":[{"role":"user","content":"What is the 100th
      fibonacci number?"},{"role":"assistant","content":[{"type":"text","text":"I''ll
      compute the 100th Fibonacci number for you."},{"type":"tool_use","id":"toolu_015gzCmZHkowWCdiXYiocCNb","name":"compute_fib","input":{"n":100}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_015gzCmZHkowWCdiXYiocCNb","content":"218922995834555169026"}]}],"thinking":{"type":"disabled"},"tools":[{"name":"compute_fib","description":"Compute
      the nth Fibonacci number (1-indexed).","input_schema":{"properties":{"n":{"title":"N","type":"integer"}},"required":["n"],"additionalProperties":false,"type":"object"}}],"anthropic_version":"bedrock-2023-05-31"}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - <filtered>
      connection:
      - keep-alive
      content-length:
      - '729'
      content-type:
      - application/json
      host:
      - bedrock-runtime.us-east-1.amazonaws.com
      user-agent:
      - AnthropicBedrock/Python 0.64.0
      x-amz-date:
      - <filtered>
      x-stainless-arch:
      - arm64
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 0.64.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.15
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://bedrock-runtime.us-east-1.amazonaws.com/model/us.anthropic.claude-haiku-4-5-20251001-v1:0/invoke
  response:
    body:
      string: '{"model":"claude-haiku-4-5-20251001","id":"msg_bdrk_01Br8EG9qmXjBEB7bQRtBUMc","type":"message","role":"assistant","content":[{"type":"text","text":"The
        100th Fibonacci number is **218,922,995,834,555,169,026**.\n\nThis is a very
        large number! The Fibonacci sequence grows exponentially, so by the 100th
        term, we get numbers with 21 digits."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":673,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":59}}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '497'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Oct 2025 08:42:01 GMT
      X-Amzn-Bedrock-Input-Token-Count:
      - '673'
      X-Amzn-Bedrock-Invocation-Latency:
      - '1202'
      X-Amzn-Bedrock-Output-Token-Count:
      - '59'
      x-amzn-RequestId:
      - c4659087-646f-4664-9286-46f843232536
    status:
      code: 200
      message: OK
version: 1
