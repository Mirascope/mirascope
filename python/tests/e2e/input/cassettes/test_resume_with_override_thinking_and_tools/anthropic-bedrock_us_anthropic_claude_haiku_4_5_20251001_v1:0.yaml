interactions:
- request:
    body: '{"max_tokens":16000,"messages":[{"role":"user","content":"What is the 100th
      fibonacci number?"}],"model":"claude-sonnet-4-0","thinking":{"type":"enabled","budget_tokens":8000},"tools":[{"name":"compute_fib","description":"Compute
      the nth Fibonacci number (1-indexed).","input_schema":{"properties":{"n":{"title":"N","type":"integer"}},"required":["n"],"additionalProperties":false,"type":"object"}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '400'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      user-agent:
      - Anthropic/Python 0.64.0
      x-api-key:
      - <filtered>
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 0.64.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.15
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA2yUW2+jOBzFv4rll91V08aQCyFSH4AEkpALaS5TsrOqDBhwAuZiEyBVv/sq1XZm
        R5on20fnf3Rs6ed3mGYBSeAY+gmuAvLIM8aIeOw/ykgeoIHUhx1IAziGKY/ekKSwWWbrem7IZ2O1
        HN2U2VHHF9iBos3J3UU4xxGBHVhmyV3AnFMuMBOwA/2MCcIEHP/9/uUXMWUXyqJ7wtd2DPcxARUn
        JaAcYH4XQZiVQMQESAiJGJjUyxj2fQpYlXqkfAJzEOMrARiEFfMFzRjAV0wT7CUE+DhJSAC+Qz9L
        80qQt5B63yEQMRbAxwz8J3/ms9+kgz+lR8oC0pDgryfwo1yMOcjL7EoDEnzO8pz4NKQ+uOKkIoA9
        Swh1AM9+lEuST19JioqWJAA5LnFKBCk5EBlI8eXegfKfd7g3f4IdyGnEsKjK+5NNy8PEuLhzQ48M
        +6KdRtM26472x01xYkqdTjb1ZG2w62p7Yi8j4nlFOpXoq9ZekDEfXZ3Gj3f2LPZaVVaxngzTnsLN
        o9S3TbNQJz0csPMSTaNWTuKZ2WaXoCHRLjY0PHGK/fYQ6sxaIufVKA50Xn/zTscmMN0kcLVyUQXa
        a2E1+tbZyuGNqcQyFNE4q7O6YzzUZFMtJP3Aor3TcPNCLEfYeW2wfVEghIx6La7fcncls9Z6+Kbn
        2ta8rZU6ro/LXRJI7t5Et8FaOgqpWfX12iH1NvWKOGGja8+KteIWbHaxLDu1InxVUkI5itbRwAjb
        QdVbc5ub9YPlXHfdkZfPif+yyxbduPbiW1GvSU2PwlbUh9HwVJXbwi1pdhiuNvVAdVIHW8Q73Npk
        WEjzyO4uA/9mHPKmODlx7Khx1z1c3XOshNXGn1ibcD5b5aP5Zb/VzvFFfZieZ0ajR9WOWO5CQV3f
        XuavDhL10tLMhUZdfZCQ1Ahbf3JGZts4u9Na2rSox3sDW9iS1Z8O5Cj3zdpoF3jBbq89IiF/gUen
        ClvJZTvpS26QGbsNUt353qaDtsQ7LC9fPHuI52GbDeUX38r4qnaUCBEPHUk4S1I9jUautn1+hh+d
        nziS5g7q5zKG8z+S5Bc4fg/fJ5ttVj39kpRlyVvFydf3cT9Xb0iy25BZQmu2jtIL15F7Y/Som7AD
        GU7vc/9D9D7K8krA8TtkcCwh9PHxTwdykeVvJfmXjjLYQRgEgui/7JmDtXqQnyEbmIRGCrqAF8O/
        N9Q0Wo3XebM7pxnOKe5zVpBxr4gWpGMNQVFd50g/X69MSVfETPo0HhVZth7GCriXzewdh40L2P1j
        220PwM1jhnAw5/nX/6aD/6ZNUarlUxrGi6IMeUwWpkwQ0tRX1LE4am0BAAD//wMAqItXgbYFAAA=
    headers:
      CF-RAY:
      - 992f6d64992ad76c-NRT
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Oct 2025 07:12:42 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-organization-id:
      - 217a607f-ed5e-40af-8a7d-f83ed52d59d6
      anthropic-ratelimit-input-tokens-limit:
      - '2000000'
      anthropic-ratelimit-input-tokens-remaining:
      - '2000000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-10-23T07:12:40Z'
      anthropic-ratelimit-output-tokens-limit:
      - '400000'
      anthropic-ratelimit-output-tokens-remaining:
      - '400000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-10-23T07:12:42Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-10-23T07:12:39Z'
      anthropic-ratelimit-tokens-limit:
      - '2400000'
      anthropic-ratelimit-tokens-remaining:
      - '2400000'
      anthropic-ratelimit-tokens-reset:
      - '2025-10-23T07:12:40Z'
      cf-cache-status:
      - DYNAMIC
      request-id:
      - req_011CUPiRceqiQNpPY2623zH9
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      via:
      - 1.1 google
      x-envoy-upstream-service-time:
      - '3273'
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens":16000,"messages":[{"role":"user","content":"What is the 100th
      fibonacci number?"},{"role":"assistant","content":[{"type":"text","text":"I''ll
      compute the 100th Fibonacci number for you."},{"type":"tool_use","id":"toolu_01KyfnGtAxQP73fNgYzniVBF","name":"compute_fib","input":{"n":100}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01KyfnGtAxQP73fNgYzniVBF","content":"218922995834555169026"}]}],"thinking":{"type":"disabled"},"tools":[{"name":"compute_fib","description":"Compute
      the nth Fibonacci number (1-indexed).","input_schema":{"properties":{"n":{"title":"N","type":"integer"}},"required":["n"],"additionalProperties":false,"type":"object"}}],"anthropic_version":"bedrock-2023-05-31"}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      authorization:
      - <filtered>
      connection:
      - keep-alive
      content-length:
      - '729'
      content-type:
      - application/json
      host:
      - bedrock-runtime.us-east-1.amazonaws.com
      user-agent:
      - AnthropicBedrock/Python 0.64.0
      x-amz-date:
      - <filtered>
      x-stainless-arch:
      - arm64
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 0.64.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.15
      x-stainless-timeout:
      - '600'
    method: POST
    uri: https://bedrock-runtime.us-east-1.amazonaws.com/model/us.anthropic.claude-haiku-4-5-20251001-v1:0/invoke
  response:
    body:
      string: '{"model":"claude-haiku-4-5-20251001","id":"msg_bdrk_01RB8d4kQrem3W3BB69T8XDu","type":"message","role":"assistant","content":[{"type":"text","text":"The
        100th Fibonacci number is **218,922,995,834,555,169,026**.\n\nThis is a very
        large number with 21 digits! The Fibonacci sequence grows exponentially, so
        the numbers become quite substantial as you progress through the sequence."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":673,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":60}}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '537'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Oct 2025 07:12:43 GMT
      X-Amzn-Bedrock-Input-Token-Count:
      - '673'
      X-Amzn-Bedrock-Invocation-Latency:
      - '1233'
      X-Amzn-Bedrock-Output-Token-Count:
      - '60'
      x-amzn-RequestId:
      - d258d284-3f60-4149-b63d-2026710cd038
    status:
      code: 200
      message: OK
version: 1
