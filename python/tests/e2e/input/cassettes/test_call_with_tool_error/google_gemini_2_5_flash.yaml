interactions:
- request:
    body: '{"contents": [{"parts": [{"text": "Use the test tool to retrieve the secret
      phrase. The passphrase is ''portal"}], "role": "user"}], "tools": [{"functionDeclarations":
      [{"description": "A tool that must be called with a passphrase.", "name": "test_tool",
      "parameters": {"properties": {"passphrase": {"title": "Passphrase", "type":
      "STRING"}}, "required": ["passphrase"], "type": "OBJECT"}}]}], "generationConfig":
      {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '416'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.58.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.58.0 gl-python/3.10.16
      x-goog-api-key:
      - <filtered>
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/21TXXOiMBR991cwPHXHtgpWsDuzD9WKK4poi626s7MTIGIKJJAEK+30v2/Ej0J3
        eWDIPTfnXE5O3muSJHsA+8gHHDL5u/RLVCTpvXjvMYI5xFwAp5IoJoDyz97D8176Fi3rDHscEdwD
        UVTZfMQxiKGoy0KU/+GERPLl1xZAA/afrYU+Y8mGAlZQJIRyEMlf2j4q648qu8w3JAs2/BEFGPCM
        Fjw9GnbvFuOhil/X0G7dzA2ErBZdPekKW43r4V3d9MbWLHWbYWc4scfpa9rWOW7Sjf6S9s0G96aL
        uYrRVN8ZXUPvptoAzbuLgZMnasMPHU9rO/0HdxUlu4nV76SrgeI2xmHnZhmODWNmuMFk+bLtmD2z
        n99oqgp2VGnFhqvfv42Q3TR2odoeLW1baatN95lo2ijvJfGzFc1VOL0H00e2SllsIiWur4ATNx52
        +SvpD81tPluaQ+UF/Zxnt1tm3eqTCOG1N3+zVGsb13uN2Y+ye5/O/f50TaYkKlyKiQ/PZp9tldcI
        I7Z5gIARvG97dOzp+UhlhH24E+Xml34LMgaCgtfa80oBxJCKJPrSKUCSJxJ0wb5dHzT3wxVjydl+
        pwU5EMkF55zICSVxwh0SQtwjWZFc7ShbCnoFV7QjzokIUhVSlMt/eNm9UEVR+QaULocwCESI5/uf
        cvoLpxRsIVAZ6+RirWT2KZrVEVvt2tHtwwE8QcrQwekAxsLLK/W6fbWOANsUejKFLCGYwaFfzLH1
        M+DmAyNJKbOH01tr3SV3Tbn2UfsL+Xp1fQIEAAA=
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 20 Jan 2026 03:32:30 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=681
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Use the test tool to retrieve the secret
      phrase. The passphrase is ''portal"}], "role": "user"}, {"parts": [{"functionCall":
      {"args": {"passphrase": "portal"}, "name": "test_tool"}, "thoughtSignature":
      "CrkBAXLI2nwfeO34UFiiM3rZV71sZL-kA-JcLMQqb0k8INOLqwq57tn0rh7jqEJ_tcPXU2niP7xFBF7Bq6GiUBXGTyp2_dkTc65TERbZlpxNME8qZG1b_Lk84YkLFFQFbgNYjv8JCJEy4622axr13mFb7DzKiO0Fxk25KYOO1520bWo66KyCpmWMlU2ePDaPSsZqsmJi1m-ZaTm_RxywoEIJvyQYJI1jiHUu9vsM97NlinfcUzM2Mvm-C_Q="}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "test_tool", "response":
      {"output": "Incorrect passhrase: The correct passphrase is ''cake''"}}}], "role":
      "user"}], "tools": [{"functionDeclarations": [{"description": "A tool that must
      be called with a passphrase.", "name": "test_tool", "parameters": {"properties":
      {"passphrase": {"title": "Passphrase", "type": "STRING"}}, "required": ["passphrase"],
      "type": "OBJECT"}}]}], "generationConfig": {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '952'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.58.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.58.0 gl-python/3.10.16
      x-goog-api-key:
      - <filtered>
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/21T23KiQBB99yssnnbLJBAVL/tGRIMRFBQV3NpKDTJcdJjBmcFbKv++iDHR7PJA
        Md1nzmm6+7yVymVhCbAf+4BDJvwq/84j5fJb8T7lCOYQ8zxxCeXBFFD+hT0/b1ffOSTI8JLHBHcA
        QjeXP/IYJDCPC7kof+WEIOHuOwTQkP3naqHPWBpRwAqKJVhD4Rvo/eb8fsst8IhkYcQncYgBz2jB
        0qH9juLo/SrePbnGyHnhYOx48w6um3q26Y+5toAtvrFWSc+xNEfdZoTzVld/3gwURRpa5rExtVqs
        Jm1WimTzo5odRhxrsKaZS9voyWiVeVqXyR4VIySCgVtHphIcRk1PRVNoOB6vh8HQaaBmbAXuse3T
        honFGFhTcbuab1VvHA850fe7wdJR8XQR2tWqtQjkdBaF8kaXZ8lAdGauF0jbrUiDSaMVtq0ujz0F
        c+U4c6FbbwKA2nIza71sX+hBYlw2FYwAjA7kyBN60KYVex/XouYQpH7SUhpWD2nqSo8Pm4pJR71N
        muyCVWrVngKiih01rNA2CeWZyf1aDyTr494wu8e2qCy2L/3nnT+X1pqzcnUMjWgyFalsN5bqztOI
        tBmEdD/d9pL5MLZANK/I3b2oduqGbWjLSTuwd2rvMUAyAFrL2z1eT/drsn++pipQgoopJsSH6AL/
        HLsQxDhm0RgCRvAJNrFH5ufCCTH24T4PS9/wBmQMhAWvceIthxBDmvvEL1/Wu7zM9/sH+/lw1jwV
        V5QlZKebBuQg9xX43GIhpSRJuU3WEHdIVvjqUaqeda98eAtofOQ54QDdpprNu3+ImZrLxujaoFfe
        zTsEUMwPp7+yu4595btc4LauSx9LV+2+mOe2Rrld+uj3eQQzSFl87nUIk7yb99UH+T5AgEWFoEAh
        SwlmsO8Xhbz6GfDn3CCqft9yzUMDp4nlCqX30l+W08GOogQAAA==
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 20 Jan 2026 03:32:31 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=1441
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"contents": [{"parts": [{"text": "Use the test tool to retrieve the secret
      phrase. The passphrase is ''portal"}], "role": "user"}, {"parts": [{"functionCall":
      {"args": {"passphrase": "portal"}, "name": "test_tool"}, "thoughtSignature":
      "CrkBAXLI2nwfeO34UFiiM3rZV71sZL-kA-JcLMQqb0k8INOLqwq57tn0rh7jqEJ_tcPXU2niP7xFBF7Bq6GiUBXGTyp2_dkTc65TERbZlpxNME8qZG1b_Lk84YkLFFQFbgNYjv8JCJEy4622axr13mFb7DzKiO0Fxk25KYOO1520bWo66KyCpmWMlU2ePDaPSsZqsmJi1m-ZaTm_RxywoEIJvyQYJI1jiHUu9vsM97NlinfcUzM2Mvm-C_Q="}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "test_tool", "response":
      {"output": "Incorrect passhrase: The correct passphrase is ''cake''"}}}], "role":
      "user"}, {"parts": [{"functionCall": {"args": {"passphrase": "cake"}, "name":
      "test_tool"}, "thoughtSignature": "CrICAXLI2nwBYMOXJtaRXbWCn4PLuqIRtHZe8tqQjmFXQHXDvuott8ELGqKAA0NQPz6UQ8s30qjA0TtzDuyOtnHe3HPcTMF5ljubHEs5br_hl_aKY4lPAfyO7bDlUeMXbt4gfNX6l7iQfYz9dr6Pn_iaQU_vjWvDbRiNtoLxwKcXDnUZgT22QZf5pVhg5qL5VmK_XVYbf0vv_rfS68g9QEtibAntAzVYeY47aal957u8JvJry0st5PAnlaehyoztmryHU-Txi3h7Napdm8A6QFlHDjLiyq-PrOFqpmwfjpQ3BfoD_CDg-r9og5VPtd3FamkzxMPEz9_AZvJIGwdW0kHXjYLneMhSU_r5T6cDwbHo0qKgrxUvFmWNiQahW-5Ex_DC4MTMHcS9fTwDF1fl5aaH8bw1"}],
      "role": "model"}, {"parts": [{"functionResponse": {"name": "test_tool", "response":
      {"output": "The cake is a lie."}}}], "role": "user"}], "tools": [{"functionDeclarations":
      [{"description": "A tool that must be called with a passphrase.", "name": "test_tool",
      "parameters": {"properties": {"passphrase": {"title": "Passphrase", "type":
      "STRING"}}, "required": ["passphrase"], "type": "OBJECT"}}]}], "generationConfig":
      {}}'
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1611'
      content-type:
      - application/json
      host:
      - generativelanguage.googleapis.com
      user-agent:
      - google-genai-sdk/1.58.0 gl-python/3.10.16
      x-goog-api-client:
      - google-genai-sdk/1.58.0 gl-python/3.10.16
      x-goog-api-key:
      - <filtered>
    method: POST
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/2WQTU/DMAyG7/kVUc7rxMdAjCvsMCS0MgpCQjtYjbeGpUmVpNKmqv+dNF27DHJI
        LPv16/hpCKUsB8UFB4eWPdJvn6G0CXdX08qhcr4wpHyyAuPO2v40UewlDg9dE8sKpDnskQpLgUqB
        UxYJ2zHeTM72RkvsekvNUQ7ydhCwrVDCFmsEq1Une89WKRurQnE8+PQVGQYEa1Zb2OErOvCLwrgO
        q4wuK5fpPaonXYdFr28fercIzIXg/lR22oG8bJ3NJv987bOfKmQMLGLplwQp3DHAWnxlLALh/nxr
        QBHeDTlB6Tl9orGiB7LD0iNKbqZ3yVaCLYIlM2grrSwueaf5SHkN+c96MT8au1qm8yR9Kd9yRlry
        C6ltbiEUAgAA
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Tue, 20 Jan 2026 03:32:32 GMT
      Server:
      - scaffolding on HTTPServer2
      Server-Timing:
      - gfet4t7; dur=459
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
