interactions:
- request:
    body: '{"messages":[{"role":"system","content":"Output all fields in ALL CAPS"},{"role":"user","content":"Recommend
      a fantasy book."}],"model":"gpt-4o","response_format":{"type":"json_schema","json_schema":{"name":"AllCapsBook","schema":{"properties":{"title":{"title":"Title","type":"string"},"author":{"title":"Author","type":"string"}},"required":["title","author"],"title":"AllCapsBook","type":"object","additionalProperties":false},"strict":true}},"tools":[{"type":"function","function":{"name":"available_book_by_genre","description":"Returns
      all the available books in the library by genre","parameters":{"properties":{"genre":{"title":"Genre","type":"string"}},"required":["genre"],"additionalProperties":false,"type":"object"},"strict":false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '747'
      content-type:
      - application/json
      cookie:
      - __cf_bm=3aH7o3TMSftu4TQEYJSpkZ12PT02acl8W9LBwXH_xDw-1755576621-1.0.1.1-upJwUkp_6NNNLGYxHeddL1EV8dBzEEo6a5bYljo4iEx2rKAmxkFgOsJ_j3YnkqYBCOSA71rXyUE7dIJ9mwGqeHDE_hhnLrIRUuzeT..Pgfs;
        _cfuvid=uat_Qwo7bNA0d0hV8BGgnIL5mEtQ700ifJQKRrZmK50-1755570868473-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - OpenAI/Python 1.86.0
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.86.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.16
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFNNj9owEL3nV1hzhip8Q47Qw0qoKttV1UrLynKcSXBxbMt22I0Q/71K
        AiSwVGoOkTVv3ps34/ExIAREAhEBvmOe50b2V9PZx/thuH5abN5X2sabp18YJvOfyYq/LKFXMXT8
        B7m/sL5wnRuJXmjVwNwi81ipDmaTyWQ2nQ7HNZDrBGVFy4zvj3V/GA7H/XDeD6dn4k4Ljg4i8hoQ
        Qsix/lcWVYIfEJGwd4nk6BzLEKJrEiFgtawiwJwTzjPlodeCXCuPqnKtCik7gNdaUs6kbAs337Fz
        bufEpKSGf9usn5/XXwXn5TJ8+V6OlvGP3/tOvUa6NLWhtFD8Op8Ofo1Hd8UIAcXyppkDE5LFEmms
        9Z7GJc1QWbyTIgSYzYocla/agOMW6rQtRFtImfLMlVs4wQ3pFDw6v3VmYzEtHJOfh8aU0p5V3uup
        vZ2R0/WCpM6M1bG7o0IqlHA7apG5uu/u+IOLkdoCFDc3DMbq3Hjq9R7rooPBoFGFdgE76PwMeu2Z
        7MSHi94DPZqgZ6JegevWccZ3mLTUdvtYkQjdAYJO75/dPNJu+hcq+x/5FuAcjceEGouJ4Lcdt2kW
        q/f5r7TrlGvD4NAeBEfqBdrqPhJMWSGbpwOudB5zmgqVoTVW1O8HUkPn4WIynYxGPIbgFPwFAAD/
        /wMAq4XHxkgEAAA=
    headers:
      CF-RAY:
      - 9716cd0c197d682a-SEA
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Aug 2025 04:10:24 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - sotai-i3ryiz
      openai-processing-ms:
      - '636'
      openai-project:
      - proj_2kPLXdwNOjkHt3ifb0aZ4FwU
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '717'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '800000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '799983'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 1ms
      x-request-id:
      - req_209d29ca7633405ca15ffa4c67dc916c
    status:
      code: 200
      message: OK
- request:
    body: '{"messages":[{"role":"system","content":"Output all fields in ALL CAPS"},{"role":"user","content":"Recommend
      a fantasy book."},{"role":"assistant","content":null,"tool_calls":[{"id":"call_pcMPKQQKDiccyB0SOy3BbRXk","type":"function","function":{"name":"available_book_by_genre","arguments":"{\"genre\":\"fantasy\"}"}}]},{"role":"tool","content":"[''Mistborn'',
      ''Wild Seed'', ''The Name of the Wind'']","tool_call_id":"call_pcMPKQQKDiccyB0SOy3BbRXk"}],"model":"gpt-4o","response_format":{"type":"json_schema","json_schema":{"name":"AllCapsBook","schema":{"properties":{"title":{"title":"Title","type":"string"},"author":{"title":"Author","type":"string"}},"required":["title","author"],"title":"AllCapsBook","type":"object","additionalProperties":false},"strict":true}},"tools":[{"type":"function","function":{"name":"available_book_by_genre","description":"Returns
      all the available books in the library by genre","parameters":{"properties":{"genre":{"title":"Genre","type":"string"}},"required":["genre"],"additionalProperties":false,"type":"object"},"strict":false}}]}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '1064'
      content-type:
      - application/json
      cookie:
      - __cf_bm=3aH7o3TMSftu4TQEYJSpkZ12PT02acl8W9LBwXH_xDw-1755576621-1.0.1.1-upJwUkp_6NNNLGYxHeddL1EV8dBzEEo6a5bYljo4iEx2rKAmxkFgOsJ_j3YnkqYBCOSA71rXyUE7dIJ9mwGqeHDE_hhnLrIRUuzeT..Pgfs;
        _cfuvid=uat_Qwo7bNA0d0hV8BGgnIL5mEtQ700ifJQKRrZmK50-1755570868473-0.0.1.1-604800000
      host:
      - api.openai.com
      user-agent:
      - OpenAI/Python 1.86.0
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.86.0
      x-stainless-read-timeout:
      - '600'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.10.16
    method: POST
    uri: https://api.openai.com/v1/chat/completions
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAwAAAP//jFLBbtswDL37KwSenSFNYyf1rVkGbNiWDMkOA+bCUGQmViNLmkRvHYL8
        eyG7jd2tA3bRgY/v6T2Sp4gxkCVkDETFSdRWjd6ms4dfX+bcp9X7e37cKPvpI/+22E6X5fEHxIFh
        dvco6Jn1RpjaKiRpdAcLh5wwqF7NkiSZpelk2gK1KVEF2sHSaGpGk/FkOhrPR+P0iVgZKdBDxr5H
        jDF2at9gUZf4ABkbx8+VGr3nB4Ts0sQYOKNCBbj30hPXBHEPCqMJdev6lANJUphDlsPnD9uvi/Vm
        lUOcA2+oMq6tLza3q+V6xba3q+W7zXa9yuE81HO4bzwPcXSj1ADgWhviYRxtkrsn5HzxrszBOrPz
        f1BhL7X0VeGQe6ODT0/GQoueI8bu2hk1L2KDdaa2VJA5YvvdVZJ0etBvpUe7PTAGZIirAWt2E7+i
        V5RIXCo/mDIILiose2q/Et6U0gyAaJD6bzevaXfJpT78j3wPCIGWsCysw1KKl4n7NofhaP/Vdply
        axg8up9SYEESXdhEiXveqO6ewP/2hHWxl/qAzjrZHdXeFvPxTZIm19diB9E5egQAAP//AwCpRDB3
        XQMAAA==
    headers:
      CF-RAY:
      - 9716cd113d1d682a-SEA
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Tue, 19 Aug 2025 04:10:25 GMT
      Server:
      - cloudflare
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      access-control-expose-headers:
      - X-Request-ID
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      openai-organization:
      - sotai-i3ryiz
      openai-processing-ms:
      - '804'
      openai-project:
      - proj_2kPLXdwNOjkHt3ifb0aZ4FwU
      openai-version:
      - '2020-10-01'
      x-envoy-upstream-service-time:
      - '829'
      x-ratelimit-limit-requests:
      - '5000'
      x-ratelimit-limit-tokens:
      - '800000'
      x-ratelimit-remaining-requests:
      - '4999'
      x-ratelimit-remaining-tokens:
      - '799969'
      x-ratelimit-reset-requests:
      - 12ms
      x-ratelimit-reset-tokens:
      - 2ms
      x-request-id:
      - req_12f31f1a64f942948c2ba965a80704fa
    status:
      code: 200
      message: OK
version: 1
